# RAG System Environment Variables

# ====================
# PINECONE CONFIGURATION (REQUIRED)
# ====================
# Get your API key from: https://app.pinecone.io/
PINECONE_API_KEY=your-pinecone-api-key-here

# Index name (create in Pinecone console with dimension 1536, cosine metric)
PINECONE_INDEX_NAME=caredroid-medical

# Vector dimension (must match OpenAI text-embedding-ada-002)
PINECONE_DIMENSION=1536

# ====================
# EMBEDDINGS CONFIGURATION
# ====================
# OpenAI API key (already required for AI module)
OPENAI_API_KEY=your-openai-api-key-here

# Embedding model (default: text-embedding-ada-002)
EMBEDDING_MODEL=text-embedding-ada-002

# Embedding dimension (default: 1536)
EMBEDDING_DIMENSION=1536

# Batch size for embeddings API (default: 100)
EMBEDDING_BATCH_SIZE=100

# ====================
# CHUNKING CONFIGURATION (OPTIONAL)
# ====================
# Target chunk size in tokens (default: 512)
CHUNK_SIZE=512

# Overlap between chunks in tokens (default: 50)
CHUNK_OVERLAP=50

# Whether to respect sentence boundaries (default: true)
CHUNK_RESPECT_BOUNDARIES=true

# ====================
# RETRIEVAL CONFIGURATION (OPTIONAL)
# ====================
# Default number of chunks to retrieve (default: 5)
RAG_TOP_K=5

# Minimum similarity score threshold 0-1 (default: 0.7)
RAG_MIN_SCORE=0.7

# Maximum tokens to include in context (default: 2000)
RAG_MAX_TOKENS=2000

# ====================
# RERANKING CONFIGURATION (OPTIONAL, NOT YET IMPLEMENTED)
# ====================
# Enable reranking with Cohere (default: false)
RERANK_ENABLED=false

# Reranking provider (default: cohere)
RERANK_PROVIDER=cohere

# Cohere API key (only needed if RERANK_ENABLED=true)
# COHERE_API_KEY=your-cohere-api-key-here

# Rerank model (default: rerank-english-v2.0)
RERANK_MODEL=rerank-english-v2.0

# ====================
# QUICK START
# ====================
# 1. Sign up for Pinecone: https://www.pinecone.io/
# 2. Create a new index:
#    - Name: caredroid-medical
#    - Dimensions: 1536
#    - Metric: cosine
#    - Pod: Starter (free tier)
# 3. Copy your API key and paste above
# 4. Restart backend: npm run start:dev
# 5. Ingest documents: npm run ingest -- --directory data/medical-knowledge/
