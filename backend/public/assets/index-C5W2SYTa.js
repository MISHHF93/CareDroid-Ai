function Vg(n,r){for(var o=0;o<r.length;o++){const c=r[o];if(typeof c!="string"&&!Array.isArray(c)){for(const d in c)if(d!=="default"&&!(d in n)){const g=Object.getOwnPropertyDescriptor(c,d);g&&Object.defineProperty(n,d,g.get?g:{enumerable:!0,get:()=>c[d]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const y of g.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&c(y)}).observe(document,{childList:!0,subtree:!0});function o(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerPolicy&&(g.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?g.credentials="include":d.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(d){if(d.ep)return;d.ep=!0;const g=o(d);fetch(d.href,g)}})();var Kg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Eu={exports:{}},ta={},ju={exports:{}},Ve={};var gp;function Wg(){if(gp)return Ve;gp=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.iterator;function H(N){return N===null||typeof N!="object"?null:(N=k&&N[k]||N["@@iterator"],typeof N=="function"?N:null)}var ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,Y={};function U(N,X,Ne){this.props=N,this.context=X,this.refs=Y,this.updater=Ne||ne}U.prototype.isReactComponent={},U.prototype.setState=function(N,X){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,X,"setState")},U.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function de(){}de.prototype=U.prototype;function Se(N,X,Ne){this.props=N,this.context=X,this.refs=Y,this.updater=Ne||ne}var ee=Se.prototype=new de;ee.constructor=Se,q(ee,U.prototype),ee.isPureReactComponent=!0;var xe=Array.isArray,ge=Object.prototype.hasOwnProperty,De={current:null},re={key:!0,ref:!0,__self:!0,__source:!0};function Fe(N,X,Ne){var Oe,$e={},Ke=null,tt=null;if(X!=null)for(Oe in X.ref!==void 0&&(tt=X.ref),X.key!==void 0&&(Ke=""+X.key),X)ge.call(X,Oe)&&!re.hasOwnProperty(Oe)&&($e[Oe]=X[Oe]);var nt=arguments.length-2;if(nt===1)$e.children=Ne;else if(1<nt){for(var mt=Array(nt),Ee=0;Ee<nt;Ee++)mt[Ee]=arguments[Ee+2];$e.children=mt}if(N&&N.defaultProps)for(Oe in nt=N.defaultProps,nt)$e[Oe]===void 0&&($e[Oe]=nt[Oe]);return{$$typeof:n,type:N,key:Ke,ref:tt,props:$e,_owner:De.current}}function Ze(N,X){return{$$typeof:n,type:N.type,key:X,ref:N.ref,props:N.props,_owner:N._owner}}function Ue(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function ft(N){var X={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(Ne){return X[Ne]})}var et=/\/+/g;function ze(N,X){return typeof N=="object"&&N!==null&&N.key!=null?ft(""+N.key):X.toString(36)}function Et(N,X,Ne,Oe,$e){var Ke=typeof N;(Ke==="undefined"||Ke==="boolean")&&(N=null);var tt=!1;if(N===null)tt=!0;else switch(Ke){case"string":case"number":tt=!0;break;case"object":switch(N.$$typeof){case n:case r:tt=!0}}if(tt)return tt=N,$e=$e(tt),N=Oe===""?"."+ze(tt,0):Oe,xe($e)?(Ne="",N!=null&&(Ne=N.replace(et,"$&/")+"/"),Et($e,X,Ne,"",function(Ee){return Ee})):$e!=null&&(Ue($e)&&($e=Ze($e,Ne+(!$e.key||tt&&tt.key===$e.key?"":(""+$e.key).replace(et,"$&/")+"/")+N)),X.push($e)),1;if(tt=0,Oe=Oe===""?".":Oe+":",xe(N))for(var nt=0;nt<N.length;nt++){Ke=N[nt];var mt=Oe+ze(Ke,nt);tt+=Et(Ke,X,Ne,mt,$e)}else if(mt=H(N),typeof mt=="function")for(N=mt.call(N),nt=0;!(Ke=N.next()).done;)Ke=Ke.value,mt=Oe+ze(Ke,nt++),tt+=Et(Ke,X,Ne,mt,$e);else if(Ke==="object")throw X=String(N),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return tt}function Rt(N,X,Ne){if(N==null)return N;var Oe=[],$e=0;return Et(N,Oe,"","",function(Ke){return X.call(Ne,Ke,$e++)}),Oe}function it(N){if(N._status===-1){var X=N._result;X=X(),X.then(function(Ne){(N._status===0||N._status===-1)&&(N._status=1,N._result=Ne)},function(Ne){(N._status===0||N._status===-1)&&(N._status=2,N._result=Ne)}),N._status===-1&&(N._status=0,N._result=X)}if(N._status===1)return N._result.default;throw N._result}var pt={current:null},ue={transition:null},je={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:ue,ReactCurrentOwner:De};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Rt,forEach:function(N,X,Ne){Rt(N,function(){X.apply(this,arguments)},Ne)},count:function(N){var X=0;return Rt(N,function(){X++}),X},toArray:function(N){return Rt(N,function(X){return X})||[]},only:function(N){if(!Ue(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ve.Component=U,Ve.Fragment=o,Ve.Profiler=d,Ve.PureComponent=Se,Ve.StrictMode=c,Ve.Suspense=b,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=je,Ve.act=te,Ve.cloneElement=function(N,X,Ne){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var Oe=q({},N.props),$e=N.key,Ke=N.ref,tt=N._owner;if(X!=null){if(X.ref!==void 0&&(Ke=X.ref,tt=De.current),X.key!==void 0&&($e=""+X.key),N.type&&N.type.defaultProps)var nt=N.type.defaultProps;for(mt in X)ge.call(X,mt)&&!re.hasOwnProperty(mt)&&(Oe[mt]=X[mt]===void 0&&nt!==void 0?nt[mt]:X[mt])}var mt=arguments.length-2;if(mt===1)Oe.children=Ne;else if(1<mt){nt=Array(mt);for(var Ee=0;Ee<mt;Ee++)nt[Ee]=arguments[Ee+2];Oe.children=nt}return{$$typeof:n,type:N.type,key:$e,ref:Ke,props:Oe,_owner:tt}},Ve.createContext=function(N){return N={$$typeof:y,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:g,_context:N},N.Consumer=N},Ve.createElement=Fe,Ve.createFactory=function(N){var X=Fe.bind(null,N);return X.type=N,X},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(N){return{$$typeof:S,render:N}},Ve.isValidElement=Ue,Ve.lazy=function(N){return{$$typeof:C,_payload:{_status:-1,_result:N},_init:it}},Ve.memo=function(N,X){return{$$typeof:_,type:N,compare:X===void 0?null:X}},Ve.startTransition=function(N){var X=ue.transition;ue.transition={};try{N()}finally{ue.transition=X}},Ve.unstable_act=te,Ve.useCallback=function(N,X){return pt.current.useCallback(N,X)},Ve.useContext=function(N){return pt.current.useContext(N)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(N){return pt.current.useDeferredValue(N)},Ve.useEffect=function(N,X){return pt.current.useEffect(N,X)},Ve.useId=function(){return pt.current.useId()},Ve.useImperativeHandle=function(N,X,Ne){return pt.current.useImperativeHandle(N,X,Ne)},Ve.useInsertionEffect=function(N,X){return pt.current.useInsertionEffect(N,X)},Ve.useLayoutEffect=function(N,X){return pt.current.useLayoutEffect(N,X)},Ve.useMemo=function(N,X){return pt.current.useMemo(N,X)},Ve.useReducer=function(N,X,Ne){return pt.current.useReducer(N,X,Ne)},Ve.useRef=function(N){return pt.current.useRef(N)},Ve.useState=function(N){return pt.current.useState(N)},Ve.useSyncExternalStore=function(N,X,Ne){return pt.current.useSyncExternalStore(N,X,Ne)},Ve.useTransition=function(){return pt.current.useTransition()},Ve.version="18.3.1",Ve}var yp;function ud(){return yp||(yp=1,ju.exports=Wg()),ju.exports}var vp;function qg(){if(vp)return ta;vp=1;var n=ud(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function y(S,b,_){var C,k={},H=null,ne=null;_!==void 0&&(H=""+_),b.key!==void 0&&(H=""+b.key),b.ref!==void 0&&(ne=b.ref);for(C in b)c.call(b,C)&&!g.hasOwnProperty(C)&&(k[C]=b[C]);if(S&&S.defaultProps)for(C in b=S.defaultProps,b)k[C]===void 0&&(k[C]=b[C]);return{$$typeof:r,type:S,key:H,ref:ne,props:k,_owner:d.current}}return ta.Fragment=o,ta.jsx=y,ta.jsxs=y,ta}var xp;function Yg(){return xp||(xp=1,Eu.exports=qg()),Eu.exports}var s=Yg(),V=ud();const kh=cd(V),Gg=Vg({__proto__:null,default:kh},[V]);var Ol={},_u={exports:{}},mn={},Cu={exports:{}},ku={};var wp;function Qg(){return wp||(wp=1,(function(n){function r(ue,je){var te=ue.length;ue.push(je);e:for(;0<te;){var N=te-1>>>1,X=ue[N];if(0<d(X,je))ue[N]=je,ue[te]=X,te=N;else break e}}function o(ue){return ue.length===0?null:ue[0]}function c(ue){if(ue.length===0)return null;var je=ue[0],te=ue.pop();if(te!==je){ue[0]=te;e:for(var N=0,X=ue.length,Ne=X>>>1;N<Ne;){var Oe=2*(N+1)-1,$e=ue[Oe],Ke=Oe+1,tt=ue[Ke];if(0>d($e,te))Ke<X&&0>d(tt,$e)?(ue[N]=tt,ue[Ke]=te,N=Ke):(ue[N]=$e,ue[Oe]=te,N=Oe);else if(Ke<X&&0>d(tt,te))ue[N]=tt,ue[Ke]=te,N=Ke;else break e}}return je}function d(ue,je){var te=ue.sortIndex-je.sortIndex;return te!==0?te:ue.id-je.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;n.unstable_now=function(){return g.now()}}else{var y=Date,S=y.now();n.unstable_now=function(){return y.now()-S}}var b=[],_=[],C=1,k=null,H=3,ne=!1,q=!1,Y=!1,U=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,Se=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(ue){for(var je=o(_);je!==null;){if(je.callback===null)c(_);else if(je.startTime<=ue)c(_),je.sortIndex=je.expirationTime,r(b,je);else break;je=o(_)}}function xe(ue){if(Y=!1,ee(ue),!q)if(o(b)!==null)q=!0,it(ge);else{var je=o(_);je!==null&&pt(xe,je.startTime-ue)}}function ge(ue,je){q=!1,Y&&(Y=!1,de(Fe),Fe=-1),ne=!0;var te=H;try{for(ee(je),k=o(b);k!==null&&(!(k.expirationTime>je)||ue&&!ft());){var N=k.callback;if(typeof N=="function"){k.callback=null,H=k.priorityLevel;var X=N(k.expirationTime<=je);je=n.unstable_now(),typeof X=="function"?k.callback=X:k===o(b)&&c(b),ee(je)}else c(b);k=o(b)}if(k!==null)var Ne=!0;else{var Oe=o(_);Oe!==null&&pt(xe,Oe.startTime-je),Ne=!1}return Ne}finally{k=null,H=te,ne=!1}}var De=!1,re=null,Fe=-1,Ze=5,Ue=-1;function ft(){return!(n.unstable_now()-Ue<Ze)}function et(){if(re!==null){var ue=n.unstable_now();Ue=ue;var je=!0;try{je=re(!0,ue)}finally{je?ze():(De=!1,re=null)}}else De=!1}var ze;if(typeof Se=="function")ze=function(){Se(et)};else if(typeof MessageChannel<"u"){var Et=new MessageChannel,Rt=Et.port2;Et.port1.onmessage=et,ze=function(){Rt.postMessage(null)}}else ze=function(){U(et,0)};function it(ue){re=ue,De||(De=!0,ze())}function pt(ue,je){Fe=U(function(){ue(n.unstable_now())},je)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ue){ue.callback=null},n.unstable_continueExecution=function(){q||ne||(q=!0,it(ge))},n.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ze=0<ue?Math.floor(1e3/ue):5},n.unstable_getCurrentPriorityLevel=function(){return H},n.unstable_getFirstCallbackNode=function(){return o(b)},n.unstable_next=function(ue){switch(H){case 1:case 2:case 3:var je=3;break;default:je=H}var te=H;H=je;try{return ue()}finally{H=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ue,je){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var te=H;H=ue;try{return je()}finally{H=te}},n.unstable_scheduleCallback=function(ue,je,te){var N=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?N+te:N):te=N,ue){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=te+X,ue={id:C++,callback:je,priorityLevel:ue,startTime:te,expirationTime:X,sortIndex:-1},te>N?(ue.sortIndex=te,r(_,ue),o(b)===null&&ue===o(_)&&(Y?(de(Fe),Fe=-1):Y=!0,pt(xe,te-N))):(ue.sortIndex=X,r(b,ue),q||ne||(q=!0,it(ge))),ue},n.unstable_shouldYield=ft,n.unstable_wrapCallback=function(ue){var je=H;return function(){var te=H;H=je;try{return ue.apply(this,arguments)}finally{H=te}}}})(ku)),ku}var Sp;function Jg(){return Sp||(Sp=1,Cu.exports=Qg()),Cu.exports}var bp;function Xg(){if(bp)return mn;bp=1;var n=ud(),r=Jg();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,d={};function g(e,t){y(e,t),y(e+"Capture",t)}function y(e,t){for(d[e]=t,e=0;e<t.length;e++)c.add(t[e])}var S=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},k={};function H(e){return b.call(k,e)?!0:b.call(C,e)?!1:_.test(e)?k[e]=!0:(C[e]=!0,!1)}function ne(e,t,i,l){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function q(e,t,i,l){if(t===null||typeof t>"u"||ne(e,t,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Y(e,t,i,l,f,h,w){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=f,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=w}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){U[e]=new Y(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];U[t]=new Y(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){U[e]=new Y(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){U[e]=new Y(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){U[e]=new Y(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){U[e]=new Y(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){U[e]=new Y(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){U[e]=new Y(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){U[e]=new Y(e,5,!1,e.toLowerCase(),null,!1,!1)});var de=/[\-:]([a-z])/g;function Se(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(de,Se);U[t]=new Y(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(de,Se);U[t]=new Y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(de,Se);U[t]=new Y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){U[e]=new Y(e,1,!1,e.toLowerCase(),null,!1,!1)}),U.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){U[e]=new Y(e,1,!1,e.toLowerCase(),null,!0,!0)});function ee(e,t,i,l){var f=U.hasOwnProperty(t)?U[t]:null;(f!==null?f.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(q(t,i,f,l)&&(i=null),l||f===null?H(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):f.mustUseProperty?e[f.propertyName]=i===null?f.type===3?!1:"":i:(t=f.attributeName,l=f.attributeNamespace,i===null?e.removeAttribute(t):(f=f.type,i=f===3||f===4&&i===!0?"":""+i,l?e.setAttributeNS(l,t,i):e.setAttribute(t,i))))}var xe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ge=Symbol.for("react.element"),De=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),Fe=Symbol.for("react.strict_mode"),Ze=Symbol.for("react.profiler"),Ue=Symbol.for("react.provider"),ft=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),Rt=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),pt=Symbol.for("react.offscreen"),ue=Symbol.iterator;function je(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,N;function X(e){if(N===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return`
`+N+e}var Ne=!1;function Oe(e,t){if(!e||Ne)return"";Ne=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(Q){var l=Q}Reflect.construct(e,[],t)}else{try{t.call()}catch(Q){l=Q}e.call(t.prototype)}else{try{throw Error()}catch(Q){l=Q}e()}}catch(Q){if(Q&&l&&typeof Q.stack=="string"){for(var f=Q.stack.split(`
`),h=l.stack.split(`
`),w=f.length-1,I=h.length-1;1<=w&&0<=I&&f[w]!==h[I];)I--;for(;1<=w&&0<=I;w--,I--)if(f[w]!==h[I]){if(w!==1||I!==1)do if(w--,I--,0>I||f[w]!==h[I]){var T=`
`+f[w].replace(" at new "," at ");return e.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",e.displayName)),T}while(1<=w&&0<=I);break}}}finally{Ne=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?X(e):""}function $e(e){switch(e.tag){case 5:return X(e.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return e=Oe(e.type,!1),e;case 11:return e=Oe(e.type.render,!1),e;case 1:return e=Oe(e.type,!0),e;default:return""}}function Ke(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case re:return"Fragment";case De:return"Portal";case Ze:return"Profiler";case Fe:return"StrictMode";case ze:return"Suspense";case Et:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ft:return(e.displayName||"Context")+".Consumer";case Ue:return(e._context.displayName||"Context")+".Provider";case et:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rt:return t=e.displayName||null,t!==null?t:Ke(e.type)||"Memo";case it:t=e._payload,e=e._init;try{return Ke(e(t))}catch{}}return null}function tt(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ke(t);case 8:return t===Fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ee(e){var t=mt(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,h=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(w){l=""+w,h.call(this,w)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fi(e){e._valueTracker||(e._valueTracker=Ee(e))}function at(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=mt(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function Kn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fs(e,t){var i=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Wn(e,t){var i=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;i=nt(t.value!=null?t.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wa(e,t){t=t.checked,t!=null&&ee(e,"checked",t,!1)}function ps(e,t){wa(e,t);var i=nt(t.value),l=t.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hs(e,t.type,i):t.hasOwnProperty("defaultValue")&&hs(e,t.type,nt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sa(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function hs(e,t,i){(t!=="number"||Kn(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var fr=Array.isArray;function Vt(e,t,i,l){if(e=e.options,t){t={};for(var f=0;f<i.length;f++)t["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=t.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&l&&(e[i].defaultSelected=!0)}else{for(i=""+nt(i),t=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function bo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kr(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(o(92));if(fr(i)){if(1<i.length)throw Error(o(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:nt(i)}}function ms(e,t){var i=nt(t.value),l=nt(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function Wr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function An(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qr,Yr=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,l,f){MSApp.execUnsafeLocalFunction(function(){return e(t,i,l,f)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qr=qr||document.createElement("div"),qr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pr(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hr=["Webkit","ms","Moz","O"];Object.keys(qn).forEach(function(e){hr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qn[t]=qn[e]})});function Li(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||qn.hasOwnProperty(e)&&qn[e]?(""+t).trim():t+"px"}function Eo(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var l=i.indexOf("--")===0,f=Li(i,t[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,f):e[i]=f}}var Yn=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Yn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function mr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tn=null;function Gr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var me=null,Gn=null,gr=null;function jo(e){if(e=Us(e)){if(typeof me!="function")throw Error(o(280));var t=e.stateNode;t&&(t=Ga(t),me(e.stateNode,e.type,t))}}function gs(e){Gn?gr?gr.push(e):gr=[e]:Gn=e}function _o(){if(Gn){var e=Gn,t=gr;if(gr=Gn=null,jo(e),t)for(e=0;e<t.length;e++)jo(t[e])}}function ba(e,t){return e(t)}function Ea(){}var Qn=!1;function yr(e,t,i){if(Qn)return e(t,i);Qn=!0;try{return ba(e,t,i)}finally{Qn=!1,(Gn!==null||gr!==null)&&(Ea(),_o())}}function vr(e,t){var i=e.stateNode;if(i===null)return null;var l=Ga(i);if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,t,typeof i));return i}var Qr=!1;if(S)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Qr=!1}function Pt(e,t,i,l,f,h,w,I,T){var Q=Array.prototype.slice.call(arguments,3);try{t.apply(i,Q)}catch(ae){this.onError(ae)}}var Bi=!1,xr=null,wr=!1,Jr=null,sc={onError:function(e){Bi=!0,xr=e}};function Jn(e,t,i,l,f,h,w,I,T){Bi=!1,xr=null,Pt.apply(sc,arguments)}function Xr(e,t,i,l,f,h,w,I,T){if(Jn.apply(this,arguments),Bi){if(Bi){var Q=xr;Bi=!1,xr=null}else throw Error(o(198));wr||(wr=!0,Jr=Q)}}function Qt(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Mi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ja(e){if(Qt(e)!==e)throw Error(o(188))}function Xn(e){var t=e.alternate;if(!t){if(t=Qt(e),t===null)throw Error(o(188));return t!==e?null:e}for(var i=e,l=t;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(l=f.return,l!==null){i=l;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return ja(f),e;if(h===l)return ja(f),t;h=h.sibling}throw Error(o(188))}if(i.return!==l.return)i=f,l=h;else{for(var w=!1,I=f.child;I;){if(I===i){w=!0,i=f,l=h;break}if(I===l){w=!0,l=f,i=h;break}I=I.sibling}if(!w){for(I=h.child;I;){if(I===i){w=!0,i=h,l=f;break}if(I===l){w=!0,l=h,i=f;break}I=I.sibling}if(!w)throw Error(o(189))}}if(i.alternate!==l)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:t}function ys(e){return e=Xn(e),e!==null?Zn(e):null}function Zn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zn(e);if(t!==null)return t;e=e.sibling}return null}var vs=r.unstable_scheduleCallback,Co=r.unstable_cancelCallback,jt=r.unstable_shouldYield,Sr=r.unstable_requestPaint,lt=r.unstable_now,_a=r.unstable_getCurrentPriorityLevel,er=r.unstable_ImmediatePriority,Ui=r.unstable_UserBlockingPriority,Zr=r.unstable_NormalPriority,xs=r.unstable_LowPriority,tr=r.unstable_IdlePriority,zi=null,nn=null;function Ca(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(zi,e,void 0,(e.current.flags&128)===128)}catch{}}var Be=Math.clz32?Math.clz32:ko,ka=Math.log,Ia=Math.LN2;function ko(e){return e>>>=0,e===0?32:31-(ka(e)/Ia|0)|0}var nr=64,Hi=4194304;function ei(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $i(e,t){var i=e.pendingLanes;if(i===0)return 0;var l=0,f=e.suspendedLanes,h=e.pingedLanes,w=i&268435455;if(w!==0){var I=w&~f;I!==0?l=ei(I):(h&=w,h!==0&&(l=ei(h)))}else w=i&~f,w!==0?l=ei(w):h!==0&&(l=ei(h));if(l===0)return 0;if(t!==0&&t!==l&&(t&f)===0&&(f=l&-l,h=t&-t,f>=h||f===16&&(h&4194240)!==0))return t;if((l&4)!==0&&(l|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)i=31-Be(t),f=1<<i,l|=e[i],t&=~f;return l}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vi(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes;0<h;){var w=31-Be(h),I=1<<w,T=f[w];T===-1?((I&i)===0||(I&l)!==0)&&(f[w]=ht(I,t)):T<=t&&(e.expiredLanes|=I),h&=~I}}function br(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Er(){var e=nr;return nr<<=1,(nr&4194240)===0&&(nr=64),e}function Ki(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function jr(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Be(t),e[t]=i}function Io(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var f=31-Be(i),h=1<<f;t[f]=0,l[f]=-1,e[f]=-1,i&=~h}}function Ao(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-Be(i),f=1<<l;f&t|e[l]&t&&(e[l]|=t),i&=~f}}var Je=0;function ws(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Aa,Ge,Ss,Ta,Na,Kt=!1,Nn=[],vn=null,Wt=null,Rn=null,ti=new Map,St=new Map,Ft=[],Wi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ni(e,t){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(t.pointerId)}}function _r(e,t,i,l,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:h,targetContainers:[f]},t!==null&&(t=Us(t),t!==null&&Ge(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function rr(e,t,i,l,f){switch(t){case"focusin":return vn=_r(vn,e,t,i,l,f),!0;case"dragenter":return Wt=_r(Wt,e,t,i,l,f),!0;case"mouseover":return Rn=_r(Rn,e,t,i,l,f),!0;case"pointerover":var h=f.pointerId;return ti.set(h,_r(ti.get(h)||null,e,t,i,l,f)),!0;case"gotpointercapture":return h=f.pointerId,St.set(h,_r(St.get(h)||null,e,t,i,l,f)),!0}return!1}function Ra(e){var t=eo(e.target);if(t!==null){var i=Qt(t);if(i!==null){if(t=i.tag,t===13){if(t=Mi(i),t!==null){e.blockedOn=t,Na(e.priority,function(){Ss(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=ri(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Tn=l,i.target.dispatchEvent(l),Tn=null}else return t=Us(i),t!==null&&Ge(t),e.blockedOn=i,!1;t.shift()}return!0}function To(e,t,i){rn(e)&&i.delete(t)}function Pa(){Kt=!1,vn!==null&&rn(vn)&&(vn=null),Wt!==null&&rn(Wt)&&(Wt=null),Rn!==null&&rn(Rn)&&(Rn=null),ti.forEach(To),St.forEach(To)}function Cr(e,t){e.blockedOn===t&&(e.blockedOn=null,Kt||(Kt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Pa)))}function Pn(e){function t(f){return Cr(f,e)}if(0<Nn.length){Cr(Nn[0],e);for(var i=1;i<Nn.length;i++){var l=Nn[i];l.blockedOn===e&&(l.blockedOn=null)}}for(vn!==null&&Cr(vn,e),Wt!==null&&Cr(Wt,e),Rn!==null&&Cr(Rn,e),ti.forEach(t),St.forEach(t),i=0;i<Ft.length;i++)l=Ft[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<Ft.length&&(i=Ft[0],i.blockedOn===null);)Ra(i),i.blockedOn===null&&Ft.shift()}var ir=xe.ReactCurrentBatchConfig,qi=!0;function ac(e,t,i,l){var f=Je,h=ir.transition;ir.transition=null;try{Je=1,bs(e,t,i,l)}finally{Je=f,ir.transition=h}}function Yi(e,t,i,l){var f=Je,h=ir.transition;ir.transition=null;try{Je=4,bs(e,t,i,l)}finally{Je=f,ir.transition=h}}function bs(e,t,i,l){if(qi){var f=ri(e,t,i,l);if(f===null)pc(e,t,l,No,i),ni(e,l);else if(rr(f,e,t,i,l))l.stopPropagation();else if(ni(e,l),t&4&&-1<Wi.indexOf(e)){for(;f!==null;){var h=Us(f);if(h!==null&&Aa(h),h=ri(e,t,i,l),h===null&&pc(e,t,l,No,i),h===f)break;f=h}f!==null&&l.stopPropagation()}else pc(e,t,l,null,i)}}var No=null;function ri(e,t,i,l){if(No=null,e=Gr(l),e=eo(e),e!==null)if(t=Qt(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Mi(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return No=e,null}function Gi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_a()){case er:return 1;case Ui:return 4;case Zr:case xs:return 16;case tr:return 536870912;default:return 16}default:return 16}}var bn=null,Es=null,Ro=null;function Oa(){if(Ro)return Ro;var e,t=Es,i=t.length,l,f="value"in bn?bn.value:bn.textContent,h=f.length;for(e=0;e<i&&t[e]===f[e];e++);var w=i-e;for(l=1;l<=w&&t[i-l]===f[h-l];l++);return Ro=f.slice(e,1<l?1-l:void 0)}function ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function js(){return!1}function Mt(e){function t(i,l,f,h,w){this._reactName=i,this._targetInst=f,this.type=l,this.nativeEvent=h,this.target=w,this.currentTarget=null;for(var I in e)e.hasOwnProperty(I)&&(i=e[I],this[I]=i?i(h):h[I]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?oi:js,this.isPropagationStopped=js,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),t}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=Mt(On),ai=te({},On,{view:0,detail:0}),lc=Mt(ai),or,Qi,kr,li=te({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kr&&(kr&&e.type==="mousemove"?(or=e.screenX-kr.screenX,Qi=e.screenY-kr.screenY):Qi=or=0,kr=e),or)},movementY:function(e){return"movementY"in e?e.movementY:Qi}}),Po=Mt(li),Ut=te({},li,{dataTransfer:0}),Ji=Mt(Ut),Xi=te({},ai,{relatedTarget:0}),Oo=Mt(Xi),Do=te({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=Mt(Do),Fa=te({},On,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fo=Mt(Fa),_s=te({},On,{data:0}),sr=Mt(_s),Cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ks={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Is(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lo[e])?!!t[e]:!1}function Bo(){return Is}var cc=te({},ai,{key:function(e){if(e.key){var t=Cs[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ks[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bo,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),As=Mt(cc),Mo=te({},li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),La=Mt(Mo),Ts=te({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bo}),Ns=Mt(Ts),uc=te({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ba=Mt(uc),dc=te({},li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=Mt(dc),Ua=[9,13,27,32],Rs=S&&"CompositionEvent"in window,ci=null;S&&"documentMode"in document&&(ci=document.documentMode);var Ps=S&&"TextEvent"in window&&!ci,Os=S&&(!Rs||ci&&8<ci&&11>=ci),Ds=" ",za=!1;function Ha(e,t){switch(e){case"keyup":return Ua.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function Fn(e,t){switch(e){case"compositionend":return $a(t);case"keypress":return t.which!==32?null:(za=!0,Ds);case"textInput":return e=t.data,e===Ds&&za?null:e;default:return null}}function _t(e,t){if(Dn)return e==="compositionend"||!Rs&&Ha(e,t)?(e=Oa(),Ro=Es=bn=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Os&&t.locale!=="ko"?null:t.data;default:return null}}var Uo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uo[e.type]:t==="textarea"}function Va(e,t,i,l){gs(l),t=Wa(t,"onChange"),0<t.length&&(i=new si("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var Ar=null,ui=null;function Tr(e){Nd(e,0)}function di(e){var t=Vo(e);if(at(t))return e}function fi(e,t){if(e==="change")return t}var Ln=!1;if(S){var zo;if(S){var a="oninput"in document;if(!a){var u=document.createElement("div");u.setAttribute("oninput","return;"),a=typeof u.oninput=="function"}zo=a}else zo=!1;Ln=zo&&(!document.documentMode||9<document.documentMode)}function p(){Ar&&(Ar.detachEvent("onpropertychange",m),ui=Ar=null)}function m(e){if(e.propertyName==="value"&&di(ui)){var t=[];Va(t,ui,e,Gr(e)),yr(Tr,t)}}function v(e,t,i){e==="focusin"?(p(),Ar=t,ui=i,Ar.attachEvent("onpropertychange",m)):e==="focusout"&&p()}function x(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return di(ui)}function E(e,t){if(e==="click")return di(t)}function j(e,t){if(e==="input"||e==="change")return di(t)}function D(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var M=typeof Object.is=="function"?Object.is:D;function R(e,t){if(M(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var f=i[l];if(!b.call(t,f)||!M(e[f],t[f]))return!1}return!0}function A(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function F(e,t){var i=A(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=A(i)}}function L(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?L(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function O(){for(var e=window,t=Kn();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Kn(e.document)}return t}function P(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K(e){var t=O(),i=e.focusedElem,l=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&L(i.ownerDocument.documentElement,i)){if(l!==null&&P(i)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var f=i.textContent.length,h=Math.min(l.start,f);l=l.end===void 0?h:Math.min(l.end,f),!e.extend&&h>l&&(f=l,l=h,h=f),f=F(i,h);var w=F(i,l);f&&w&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),e.removeAllRanges(),h>l?(e.addRange(t),e.extend(w.node,w.offset)):(t.setEnd(w.node,w.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var G=S&&"documentMode"in document&&11>=document.documentMode,z=null,Z=null,ie=null,pe=!1;function he(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;pe||z==null||z!==Kn(l)||(l=z,"selectionStart"in l&&P(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ie&&R(ie,l)||(ie=l,l=Wa(Z,"onSelect"),0<l.length&&(t=new si("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=z)))}function se(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ve={animationend:se("Animation","AnimationEnd"),animationiteration:se("Animation","AnimationIteration"),animationstart:se("Animation","AnimationStart"),transitionend:se("Transition","TransitionEnd")},ye={},ce={};S&&(ce=document.createElement("div").style,"AnimationEvent"in window||(delete ve.animationend.animation,delete ve.animationiteration.animation,delete ve.animationstart.animation),"TransitionEvent"in window||delete ve.transitionend.transition);function we(e){if(ye[e])return ye[e];if(!ve[e])return e;var t=ve[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in ce)return ye[e]=t[i];return e}var We=we("animationend"),Qe=we("animationiteration"),Te=we("animationstart"),He=we("transitionend"),gt=new Map,on="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ct(e,t){gt.set(e,t),g(t,[e])}for(var Bn=0;Bn<on.length;Bn++){var Zi=on[Bn],Zm=Zi.toLowerCase(),eg=Zi[0].toUpperCase()+Zi.slice(1);ct(Zm,"on"+eg)}ct(We,"onAnimationEnd"),ct(Qe,"onAnimationIteration"),ct(Te,"onAnimationStart"),ct("dblclick","onDoubleClick"),ct("focusin","onFocus"),ct("focusout","onBlur"),ct(He,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),g("onBeforeInput",["compositionend","keypress","textInput","paste"]),g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function Td(e,t,i){var l=e.type||"unknown-event";e.currentTarget=i,Xr(l,t,void 0,e),e.currentTarget=null}function Nd(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],f=l.event;l=l.listeners;e:{var h=void 0;if(t)for(var w=l.length-1;0<=w;w--){var I=l[w],T=I.instance,Q=I.currentTarget;if(I=I.listener,T!==h&&f.isPropagationStopped())break e;Td(f,I,Q),h=T}else for(w=0;w<l.length;w++){if(I=l[w],T=I.instance,Q=I.currentTarget,I=I.listener,T!==h&&f.isPropagationStopped())break e;Td(f,I,Q),h=T}}}if(wr)throw e=Jr,wr=!1,Jr=null,e}function vt(e,t){var i=t[xc];i===void 0&&(i=t[xc]=new Set);var l=e+"__bubble";i.has(l)||(Rd(t,e,2,!1),i.add(l))}function fc(e,t,i){var l=0;t&&(l|=4),Rd(i,e,l,t)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function Ls(e){if(!e[Ka]){e[Ka]=!0,c.forEach(function(i){i!=="selectionchange"&&(tg.has(i)||fc(i,!1,e),fc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ka]||(t[Ka]=!0,fc("selectionchange",!1,t))}}function Rd(e,t,i,l){switch(Gi(t)){case 1:var f=ac;break;case 4:f=Yi;break;default:f=bs}i=f.bind(null,t,i,e),f=void 0,!Qr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(t,i,{capture:!0,passive:f}):e.addEventListener(t,i,!0):f!==void 0?e.addEventListener(t,i,{passive:f}):e.addEventListener(t,i,!1)}function pc(e,t,i,l,f){var h=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var I=l.stateNode.containerInfo;if(I===f||I.nodeType===8&&I.parentNode===f)break;if(w===4)for(w=l.return;w!==null;){var T=w.tag;if((T===3||T===4)&&(T=w.stateNode.containerInfo,T===f||T.nodeType===8&&T.parentNode===f))return;w=w.return}for(;I!==null;){if(w=eo(I),w===null)return;if(T=w.tag,T===5||T===6){l=h=w;continue e}I=I.parentNode}}l=l.return}yr(function(){var Q=h,ae=Gr(i),le=[];e:{var oe=gt.get(e);if(oe!==void 0){var be=si,Ce=e;switch(e){case"keypress":if(ii(i)===0)break e;case"keydown":case"keyup":be=As;break;case"focusin":Ce="focus",be=Oo;break;case"focusout":Ce="blur",be=Oo;break;case"beforeblur":case"afterblur":be=Oo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Ji;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=Ns;break;case We:case Qe:case Te:be=Da;break;case He:be=Ba;break;case"scroll":be=lc;break;case"wheel":be=Ma;break;case"copy":case"cut":case"paste":be=Fo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=La}var Ie=(t&4)!==0,At=!Ie&&e==="scroll",$=Ie?oe!==null?oe+"Capture":null:oe;Ie=[];for(var B=Q,W;B!==null;){W=B;var fe=W.stateNode;if(W.tag===5&&fe!==null&&(W=fe,$!==null&&(fe=vr(B,$),fe!=null&&Ie.push(Bs(B,fe,W)))),At)break;B=B.return}0<Ie.length&&(oe=new be(oe,Ce,null,i,ae),le.push({event:oe,listeners:Ie}))}}if((t&7)===0){e:{if(oe=e==="mouseover"||e==="pointerover",be=e==="mouseout"||e==="pointerout",oe&&i!==Tn&&(Ce=i.relatedTarget||i.fromElement)&&(eo(Ce)||Ce[Nr]))break e;if((be||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,be?(Ce=i.relatedTarget||i.toElement,be=Q,Ce=Ce?eo(Ce):null,Ce!==null&&(At=Qt(Ce),Ce!==At||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(be=null,Ce=Q),be!==Ce)){if(Ie=Po,fe="onMouseLeave",$="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Ie=La,fe="onPointerLeave",$="onPointerEnter",B="pointer"),At=be==null?oe:Vo(be),W=Ce==null?oe:Vo(Ce),oe=new Ie(fe,B+"leave",be,i,ae),oe.target=At,oe.relatedTarget=W,fe=null,eo(ae)===Q&&(Ie=new Ie($,B+"enter",Ce,i,ae),Ie.target=W,Ie.relatedTarget=At,fe=Ie),At=fe,be&&Ce)t:{for(Ie=be,$=Ce,B=0,W=Ie;W;W=Ho(W))B++;for(W=0,fe=$;fe;fe=Ho(fe))W++;for(;0<B-W;)Ie=Ho(Ie),B--;for(;0<W-B;)$=Ho($),W--;for(;B--;){if(Ie===$||$!==null&&Ie===$.alternate)break t;Ie=Ho(Ie),$=Ho($)}Ie=null}else Ie=null;be!==null&&Pd(le,oe,be,Ie,!1),Ce!==null&&At!==null&&Pd(le,At,Ce,Ie,!0)}}e:{if(oe=Q?Vo(Q):window,be=oe.nodeName&&oe.nodeName.toLowerCase(),be==="select"||be==="input"&&oe.type==="file")var Ae=fi;else if(Ir(oe))if(Ln)Ae=j;else{Ae=x;var Re=v}else(be=oe.nodeName)&&be.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Ae=E);if(Ae&&(Ae=Ae(e,Q))){Va(le,Ae,i,ae);break e}Re&&Re(e,oe,Q),e==="focusout"&&(Re=oe._wrapperState)&&Re.controlled&&oe.type==="number"&&hs(oe,"number",oe.value)}switch(Re=Q?Vo(Q):window,e){case"focusin":(Ir(Re)||Re.contentEditable==="true")&&(z=Re,Z=Q,ie=null);break;case"focusout":ie=Z=z=null;break;case"mousedown":pe=!0;break;case"contextmenu":case"mouseup":case"dragend":pe=!1,he(le,i,ae);break;case"selectionchange":if(G)break;case"keydown":case"keyup":he(le,i,ae)}var Pe;if(Rs)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Dn?Ha(e,i)&&(Me="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Me="onCompositionStart");Me&&(Os&&i.locale!=="ko"&&(Dn||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Dn&&(Pe=Oa()):(bn=ae,Es="value"in bn?bn.value:bn.textContent,Dn=!0)),Re=Wa(Q,Me),0<Re.length&&(Me=new sr(Me,e,null,i,ae),le.push({event:Me,listeners:Re}),Pe?Me.data=Pe:(Pe=$a(i),Pe!==null&&(Me.data=Pe)))),(Pe=Ps?Fn(e,i):_t(e,i))&&(Q=Wa(Q,"onBeforeInput"),0<Q.length&&(ae=new sr("onBeforeInput","beforeinput",null,i,ae),le.push({event:ae,listeners:Q}),ae.data=Pe))}Nd(le,t)})}function Bs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Wa(e,t){for(var i=t+"Capture",l=[];e!==null;){var f=e,h=f.stateNode;f.tag===5&&h!==null&&(f=h,h=vr(e,i),h!=null&&l.unshift(Bs(e,h,f)),h=vr(e,t),h!=null&&l.push(Bs(e,h,f))),e=e.return}return l}function Ho(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pd(e,t,i,l,f){for(var h=t._reactName,w=[];i!==null&&i!==l;){var I=i,T=I.alternate,Q=I.stateNode;if(T!==null&&T===l)break;I.tag===5&&Q!==null&&(I=Q,f?(T=vr(i,h),T!=null&&w.unshift(Bs(i,T,I))):f||(T=vr(i,h),T!=null&&w.push(Bs(i,T,I)))),i=i.return}w.length!==0&&e.push({event:t,listeners:w})}var ng=/\r\n?/g,rg=/\u0000|\uFFFD/g;function Od(e){return(typeof e=="string"?e:""+e).replace(ng,`
`).replace(rg,"")}function qa(e,t,i){if(t=Od(t),Od(e)!==t&&i)throw Error(o(425))}function Ya(){}var hc=null,mc=null;function gc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yc=typeof setTimeout=="function"?setTimeout:void 0,ig=typeof clearTimeout=="function"?clearTimeout:void 0,Dd=typeof Promise=="function"?Promise:void 0,og=typeof queueMicrotask=="function"?queueMicrotask:typeof Dd<"u"?function(e){return Dd.resolve(null).then(e).catch(sg)}:yc;function sg(e){setTimeout(function(){throw e})}function vc(e,t){var i=t,l=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(l===0){e.removeChild(f),Pn(t);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=f}while(i);Pn(t)}function pi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var $o=Math.random().toString(36).slice(2),ar="__reactFiber$"+$o,Ms="__reactProps$"+$o,Nr="__reactContainer$"+$o,xc="__reactEvents$"+$o,ag="__reactListeners$"+$o,lg="__reactHandles$"+$o;function eo(e){var t=e[ar];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Nr]||i[ar]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Fd(e);e!==null;){if(i=e[ar])return i;e=Fd(e)}return t}e=i,i=e.parentNode}return null}function Us(e){return e=e[ar]||e[Nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Ga(e){return e[Ms]||null}var wc=[],Ko=-1;function hi(e){return{current:e}}function xt(e){0>Ko||(e.current=wc[Ko],wc[Ko]=null,Ko--)}function yt(e,t){Ko++,wc[Ko]=e.current,e.current=t}var mi={},Jt=hi(mi),un=hi(!1),to=mi;function Wo(e,t){var i=e.type.contextTypes;if(!i)return mi;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var f={},h;for(h in i)f[h]=t[h];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=f),f}function dn(e){return e=e.childContextTypes,e!=null}function Qa(){xt(un),xt(Jt)}function Ld(e,t,i){if(Jt.current!==mi)throw Error(o(168));yt(Jt,t),yt(un,i)}function Bd(e,t,i){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var f in l)if(!(f in t))throw Error(o(108,tt(e)||"Unknown",f));return te({},i,l)}function Ja(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mi,to=Jt.current,yt(Jt,e),yt(un,un.current),!0}function Md(e,t,i){var l=e.stateNode;if(!l)throw Error(o(169));i?(e=Bd(e,t,to),l.__reactInternalMemoizedMergedChildContext=e,xt(un),xt(Jt),yt(Jt,e)):xt(un),yt(un,i)}var Rr=null,Xa=!1,Sc=!1;function Ud(e){Rr===null?Rr=[e]:Rr.push(e)}function cg(e){Xa=!0,Ud(e)}function gi(){if(!Sc&&Rr!==null){Sc=!0;var e=0,t=Je;try{var i=Rr;for(Je=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}Rr=null,Xa=!1}catch(f){throw Rr!==null&&(Rr=Rr.slice(e+1)),vs(er,gi),f}finally{Je=t,Sc=!1}}return null}var qo=[],Yo=0,Za=null,el=0,En=[],jn=0,no=null,Pr=1,Or="";function ro(e,t){qo[Yo++]=el,qo[Yo++]=Za,Za=e,el=t}function zd(e,t,i){En[jn++]=Pr,En[jn++]=Or,En[jn++]=no,no=e;var l=Pr;e=Or;var f=32-Be(l)-1;l&=~(1<<f),i+=1;var h=32-Be(t)+f;if(30<h){var w=f-f%5;h=(l&(1<<w)-1).toString(32),l>>=w,f-=w,Pr=1<<32-Be(t)+f|i<<f|l,Or=h+e}else Pr=1<<h|i<<f|l,Or=e}function bc(e){e.return!==null&&(ro(e,1),zd(e,1,0))}function Ec(e){for(;e===Za;)Za=qo[--Yo],qo[Yo]=null,el=qo[--Yo],qo[Yo]=null;for(;e===no;)no=En[--jn],En[jn]=null,Or=En[--jn],En[jn]=null,Pr=En[--jn],En[jn]=null}var xn=null,wn=null,bt=!1,Mn=null;function Hd(e,t){var i=In(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function $d(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xn=e,wn=pi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xn=e,wn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=no!==null?{id:Pr,overflow:Or}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=In(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,xn=e,wn=null,!0):!1;default:return!1}}function jc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _c(e){if(bt){var t=wn;if(t){var i=t;if(!$d(e,t)){if(jc(e))throw Error(o(418));t=pi(i.nextSibling);var l=xn;t&&$d(e,t)?Hd(l,i):(e.flags=e.flags&-4097|2,bt=!1,xn=e)}}else{if(jc(e))throw Error(o(418));e.flags=e.flags&-4097|2,bt=!1,xn=e}}}function Vd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xn=e}function tl(e){if(e!==xn)return!1;if(!bt)return Vd(e),bt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gc(e.type,e.memoizedProps)),t&&(t=wn)){if(jc(e))throw Kd(),Error(o(418));for(;t;)Hd(e,t),t=pi(t.nextSibling)}if(Vd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){wn=pi(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}wn=null}}else wn=xn?pi(e.stateNode.nextSibling):null;return!0}function Kd(){for(var e=wn;e;)e=pi(e.nextSibling)}function Go(){wn=xn=null,bt=!1}function Cc(e){Mn===null?Mn=[e]:Mn.push(e)}var ug=xe.ReactCurrentBatchConfig;function zs(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var l=i.stateNode}if(!l)throw Error(o(147,e));var f=l,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(w){var I=f.refs;w===null?delete I[h]:I[h]=w},t._stringRef=h,t)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function nl(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wd(e){var t=e._init;return t(e._payload)}function qd(e){function t($,B){if(e){var W=$.deletions;W===null?($.deletions=[B],$.flags|=16):W.push(B)}}function i($,B){if(!e)return null;for(;B!==null;)t($,B),B=B.sibling;return null}function l($,B){for($=new Map;B!==null;)B.key!==null?$.set(B.key,B):$.set(B.index,B),B=B.sibling;return $}function f($,B){return $=ji($,B),$.index=0,$.sibling=null,$}function h($,B,W){return $.index=W,e?(W=$.alternate,W!==null?(W=W.index,W<B?($.flags|=2,B):W):($.flags|=2,B)):($.flags|=1048576,B)}function w($){return e&&$.alternate===null&&($.flags|=2),$}function I($,B,W,fe){return B===null||B.tag!==6?(B=yu(W,$.mode,fe),B.return=$,B):(B=f(B,W),B.return=$,B)}function T($,B,W,fe){var Ae=W.type;return Ae===re?ae($,B,W.props.children,fe,W.key):B!==null&&(B.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===it&&Wd(Ae)===B.type)?(fe=f(B,W.props),fe.ref=zs($,B,W),fe.return=$,fe):(fe=Cl(W.type,W.key,W.props,null,$.mode,fe),fe.ref=zs($,B,W),fe.return=$,fe)}function Q($,B,W,fe){return B===null||B.tag!==4||B.stateNode.containerInfo!==W.containerInfo||B.stateNode.implementation!==W.implementation?(B=vu(W,$.mode,fe),B.return=$,B):(B=f(B,W.children||[]),B.return=$,B)}function ae($,B,W,fe,Ae){return B===null||B.tag!==7?(B=fo(W,$.mode,fe,Ae),B.return=$,B):(B=f(B,W),B.return=$,B)}function le($,B,W){if(typeof B=="string"&&B!==""||typeof B=="number")return B=yu(""+B,$.mode,W),B.return=$,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ge:return W=Cl(B.type,B.key,B.props,null,$.mode,W),W.ref=zs($,null,B),W.return=$,W;case De:return B=vu(B,$.mode,W),B.return=$,B;case it:var fe=B._init;return le($,fe(B._payload),W)}if(fr(B)||je(B))return B=fo(B,$.mode,W,null),B.return=$,B;nl($,B)}return null}function oe($,B,W,fe){var Ae=B!==null?B.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Ae!==null?null:I($,B,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ge:return W.key===Ae?T($,B,W,fe):null;case De:return W.key===Ae?Q($,B,W,fe):null;case it:return Ae=W._init,oe($,B,Ae(W._payload),fe)}if(fr(W)||je(W))return Ae!==null?null:ae($,B,W,fe,null);nl($,W)}return null}function be($,B,W,fe,Ae){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return $=$.get(W)||null,I(B,$,""+fe,Ae);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case ge:return $=$.get(fe.key===null?W:fe.key)||null,T(B,$,fe,Ae);case De:return $=$.get(fe.key===null?W:fe.key)||null,Q(B,$,fe,Ae);case it:var Re=fe._init;return be($,B,W,Re(fe._payload),Ae)}if(fr(fe)||je(fe))return $=$.get(W)||null,ae(B,$,fe,Ae,null);nl(B,fe)}return null}function Ce($,B,W,fe){for(var Ae=null,Re=null,Pe=B,Me=B=0,$t=null;Pe!==null&&Me<W.length;Me++){Pe.index>Me?($t=Pe,Pe=null):$t=Pe.sibling;var ot=oe($,Pe,W[Me],fe);if(ot===null){Pe===null&&(Pe=$t);break}e&&Pe&&ot.alternate===null&&t($,Pe),B=h(ot,B,Me),Re===null?Ae=ot:Re.sibling=ot,Re=ot,Pe=$t}if(Me===W.length)return i($,Pe),bt&&ro($,Me),Ae;if(Pe===null){for(;Me<W.length;Me++)Pe=le($,W[Me],fe),Pe!==null&&(B=h(Pe,B,Me),Re===null?Ae=Pe:Re.sibling=Pe,Re=Pe);return bt&&ro($,Me),Ae}for(Pe=l($,Pe);Me<W.length;Me++)$t=be(Pe,$,Me,W[Me],fe),$t!==null&&(e&&$t.alternate!==null&&Pe.delete($t.key===null?Me:$t.key),B=h($t,B,Me),Re===null?Ae=$t:Re.sibling=$t,Re=$t);return e&&Pe.forEach(function(_i){return t($,_i)}),bt&&ro($,Me),Ae}function Ie($,B,W,fe){var Ae=je(W);if(typeof Ae!="function")throw Error(o(150));if(W=Ae.call(W),W==null)throw Error(o(151));for(var Re=Ae=null,Pe=B,Me=B=0,$t=null,ot=W.next();Pe!==null&&!ot.done;Me++,ot=W.next()){Pe.index>Me?($t=Pe,Pe=null):$t=Pe.sibling;var _i=oe($,Pe,ot.value,fe);if(_i===null){Pe===null&&(Pe=$t);break}e&&Pe&&_i.alternate===null&&t($,Pe),B=h(_i,B,Me),Re===null?Ae=_i:Re.sibling=_i,Re=_i,Pe=$t}if(ot.done)return i($,Pe),bt&&ro($,Me),Ae;if(Pe===null){for(;!ot.done;Me++,ot=W.next())ot=le($,ot.value,fe),ot!==null&&(B=h(ot,B,Me),Re===null?Ae=ot:Re.sibling=ot,Re=ot);return bt&&ro($,Me),Ae}for(Pe=l($,Pe);!ot.done;Me++,ot=W.next())ot=be(Pe,$,Me,ot.value,fe),ot!==null&&(e&&ot.alternate!==null&&Pe.delete(ot.key===null?Me:ot.key),B=h(ot,B,Me),Re===null?Ae=ot:Re.sibling=ot,Re=ot);return e&&Pe.forEach(function($g){return t($,$g)}),bt&&ro($,Me),Ae}function At($,B,W,fe){if(typeof W=="object"&&W!==null&&W.type===re&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case ge:e:{for(var Ae=W.key,Re=B;Re!==null;){if(Re.key===Ae){if(Ae=W.type,Ae===re){if(Re.tag===7){i($,Re.sibling),B=f(Re,W.props.children),B.return=$,$=B;break e}}else if(Re.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===it&&Wd(Ae)===Re.type){i($,Re.sibling),B=f(Re,W.props),B.ref=zs($,Re,W),B.return=$,$=B;break e}i($,Re);break}else t($,Re);Re=Re.sibling}W.type===re?(B=fo(W.props.children,$.mode,fe,W.key),B.return=$,$=B):(fe=Cl(W.type,W.key,W.props,null,$.mode,fe),fe.ref=zs($,B,W),fe.return=$,$=fe)}return w($);case De:e:{for(Re=W.key;B!==null;){if(B.key===Re)if(B.tag===4&&B.stateNode.containerInfo===W.containerInfo&&B.stateNode.implementation===W.implementation){i($,B.sibling),B=f(B,W.children||[]),B.return=$,$=B;break e}else{i($,B);break}else t($,B);B=B.sibling}B=vu(W,$.mode,fe),B.return=$,$=B}return w($);case it:return Re=W._init,At($,B,Re(W._payload),fe)}if(fr(W))return Ce($,B,W,fe);if(je(W))return Ie($,B,W,fe);nl($,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,B!==null&&B.tag===6?(i($,B.sibling),B=f(B,W),B.return=$,$=B):(i($,B),B=yu(W,$.mode,fe),B.return=$,$=B),w($)):i($,B)}return At}var Qo=qd(!0),Yd=qd(!1),rl=hi(null),il=null,Jo=null,kc=null;function Ic(){kc=Jo=il=null}function Ac(e){var t=rl.current;xt(rl),e._currentValue=t}function Tc(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function Xo(e,t){il=e,kc=Jo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(fn=!0),e.firstContext=null)}function _n(e){var t=e._currentValue;if(kc!==e)if(e={context:e,memoizedValue:t,next:null},Jo===null){if(il===null)throw Error(o(308));Jo=e,il.dependencies={lanes:0,firstContext:e}}else Jo=Jo.next=e;return t}var io=null;function Nc(e){io===null?io=[e]:io.push(e)}function Gd(e,t,i,l){var f=t.interleaved;return f===null?(i.next=i,Nc(t)):(i.next=f.next,f.next=i),t.interleaved=i,Dr(e,l)}function Dr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var yi=!1;function Rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vi(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var f=l.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),l.pending=t,Dr(e,i)}return f=l.interleaved,f===null?(t.next=t,Nc(l)):(t.next=f.next,f.next=t),l.interleaved=t,Dr(e,i)}function ol(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,Ao(e,i)}}function Jd(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var w={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};h===null?f=h=w:h=h.next=w,i=i.next}while(i!==null);h===null?f=h=t:h=h.next=t}else f=h=t;i={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function sl(e,t,i,l){var f=e.updateQueue;yi=!1;var h=f.firstBaseUpdate,w=f.lastBaseUpdate,I=f.shared.pending;if(I!==null){f.shared.pending=null;var T=I,Q=T.next;T.next=null,w===null?h=Q:w.next=Q,w=T;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,I=ae.lastBaseUpdate,I!==w&&(I===null?ae.firstBaseUpdate=Q:I.next=Q,ae.lastBaseUpdate=T))}if(h!==null){var le=f.baseState;w=0,ae=Q=T=null,I=h;do{var oe=I.lane,be=I.eventTime;if((l&oe)===oe){ae!==null&&(ae=ae.next={eventTime:be,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var Ce=e,Ie=I;switch(oe=t,be=i,Ie.tag){case 1:if(Ce=Ie.payload,typeof Ce=="function"){le=Ce.call(be,le,oe);break e}le=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ie.payload,oe=typeof Ce=="function"?Ce.call(be,le,oe):Ce,oe==null)break e;le=te({},le,oe);break e;case 2:yi=!0}}I.callback!==null&&I.lane!==0&&(e.flags|=64,oe=f.effects,oe===null?f.effects=[I]:oe.push(I))}else be={eventTime:be,lane:oe,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ae===null?(Q=ae=be,T=le):ae=ae.next=be,w|=oe;if(I=I.next,I===null){if(I=f.shared.pending,I===null)break;oe=I,I=oe.next,oe.next=null,f.lastBaseUpdate=oe,f.shared.pending=null}}while(!0);if(ae===null&&(T=le),f.baseState=T,f.firstBaseUpdate=Q,f.lastBaseUpdate=ae,t=f.shared.interleaved,t!==null){f=t;do w|=f.lane,f=f.next;while(f!==t)}else h===null&&(f.shared.lanes=0);ao|=w,e.lanes=w,e.memoizedState=le}}function Xd(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],f=l.callback;if(f!==null){if(l.callback=null,l=i,typeof f!="function")throw Error(o(191,f));f.call(l)}}}var Hs={},lr=hi(Hs),$s=hi(Hs),Vs=hi(Hs);function oo(e){if(e===Hs)throw Error(o(174));return e}function Pc(e,t){switch(yt(Vs,t),yt($s,e),yt(lr,Hs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:An(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=An(t,e)}xt(lr),yt(lr,t)}function Zo(){xt(lr),xt($s),xt(Vs)}function Zd(e){oo(Vs.current);var t=oo(lr.current),i=An(t,e.type);t!==i&&(yt($s,e),yt(lr,i))}function Oc(e){$s.current===e&&(xt(lr),xt($s))}var Ct=hi(0);function al(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dc=[];function Fc(){for(var e=0;e<Dc.length;e++)Dc[e]._workInProgressVersionPrimary=null;Dc.length=0}var ll=xe.ReactCurrentDispatcher,Lc=xe.ReactCurrentBatchConfig,so=0,kt=null,Lt=null,zt=null,cl=!1,Ks=!1,Ws=0,dg=0;function Xt(){throw Error(o(321))}function Bc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!M(e[i],t[i]))return!1;return!0}function Mc(e,t,i,l,f,h){if(so=h,kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ll.current=e===null||e.memoizedState===null?mg:gg,e=i(l,f),Ks){h=0;do{if(Ks=!1,Ws=0,25<=h)throw Error(o(301));h+=1,zt=Lt=null,t.updateQueue=null,ll.current=yg,e=i(l,f)}while(Ks)}if(ll.current=fl,t=Lt!==null&&Lt.next!==null,so=0,zt=Lt=kt=null,cl=!1,t)throw Error(o(300));return e}function Uc(){var e=Ws!==0;return Ws=0,e}function cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?kt.memoizedState=zt=e:zt=zt.next=e,zt}function Cn(){if(Lt===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var t=zt===null?kt.memoizedState:zt.next;if(t!==null)zt=t,Lt=e;else{if(e===null)throw Error(o(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},zt===null?kt.memoizedState=zt=e:zt=zt.next=e}return zt}function qs(e,t){return typeof t=="function"?t(e):t}function zc(e){var t=Cn(),i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var l=Lt,f=l.baseQueue,h=i.pending;if(h!==null){if(f!==null){var w=f.next;f.next=h.next,h.next=w}l.baseQueue=f=h,i.pending=null}if(f!==null){h=f.next,l=l.baseState;var I=w=null,T=null,Q=h;do{var ae=Q.lane;if((so&ae)===ae)T!==null&&(T=T.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),l=Q.hasEagerState?Q.eagerState:e(l,Q.action);else{var le={lane:ae,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};T===null?(I=T=le,w=l):T=T.next=le,kt.lanes|=ae,ao|=ae}Q=Q.next}while(Q!==null&&Q!==h);T===null?w=l:T.next=I,M(l,t.memoizedState)||(fn=!0),t.memoizedState=l,t.baseState=w,t.baseQueue=T,i.lastRenderedState=l}if(e=i.interleaved,e!==null){f=e;do h=f.lane,kt.lanes|=h,ao|=h,f=f.next;while(f!==e)}else f===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Hc(e){var t=Cn(),i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var l=i.dispatch,f=i.pending,h=t.memoizedState;if(f!==null){i.pending=null;var w=f=f.next;do h=e(h,w.action),w=w.next;while(w!==f);M(h,t.memoizedState)||(fn=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),i.lastRenderedState=h}return[h,l]}function ef(){}function tf(e,t){var i=kt,l=Cn(),f=t(),h=!M(l.memoizedState,f);if(h&&(l.memoizedState=f,fn=!0),l=l.queue,$c(of.bind(null,i,l,e),[e]),l.getSnapshot!==t||h||zt!==null&&zt.memoizedState.tag&1){if(i.flags|=2048,Ys(9,rf.bind(null,i,l,f,t),void 0,null),Ht===null)throw Error(o(349));(so&30)!==0||nf(i,t,f)}return f}function nf(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function rf(e,t,i,l){t.value=i,t.getSnapshot=l,sf(t)&&af(e)}function of(e,t,i){return i(function(){sf(t)&&af(e)})}function sf(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!M(e,i)}catch{return!0}}function af(e){var t=Dr(e,1);t!==null&&$n(t,e,1,-1)}function lf(e){var t=cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e},t.queue=e,e=e.dispatch=hg.bind(null,kt,e),[t.memoizedState,e]}function Ys(e,t,i,l){return e={tag:e,create:t,destroy:i,deps:l,next:null},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e)),e}function cf(){return Cn().memoizedState}function ul(e,t,i,l){var f=cr();kt.flags|=e,f.memoizedState=Ys(1|t,i,void 0,l===void 0?null:l)}function dl(e,t,i,l){var f=Cn();l=l===void 0?null:l;var h=void 0;if(Lt!==null){var w=Lt.memoizedState;if(h=w.destroy,l!==null&&Bc(l,w.deps)){f.memoizedState=Ys(t,i,h,l);return}}kt.flags|=e,f.memoizedState=Ys(1|t,i,h,l)}function uf(e,t){return ul(8390656,8,e,t)}function $c(e,t){return dl(2048,8,e,t)}function df(e,t){return dl(4,2,e,t)}function ff(e,t){return dl(4,4,e,t)}function pf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hf(e,t,i){return i=i!=null?i.concat([e]):null,dl(4,4,pf.bind(null,t,e),i)}function Vc(){}function mf(e,t){var i=Cn();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&Bc(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function gf(e,t){var i=Cn();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&Bc(t,l[1])?l[0]:(e=e(),i.memoizedState=[e,t],e)}function yf(e,t,i){return(so&21)===0?(e.baseState&&(e.baseState=!1,fn=!0),e.memoizedState=i):(M(i,t)||(i=Er(),kt.lanes|=i,ao|=i,e.baseState=!0),t)}function fg(e,t){var i=Je;Je=i!==0&&4>i?i:4,e(!0);var l=Lc.transition;Lc.transition={};try{e(!1),t()}finally{Je=i,Lc.transition=l}}function vf(){return Cn().memoizedState}function pg(e,t,i){var l=bi(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},xf(e))wf(t,i);else if(i=Gd(e,t,i,l),i!==null){var f=an();$n(i,e,l,f),Sf(i,t,l)}}function hg(e,t,i){var l=bi(e),f={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(xf(e))wf(t,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var w=t.lastRenderedState,I=h(w,i);if(f.hasEagerState=!0,f.eagerState=I,M(I,w)){var T=t.interleaved;T===null?(f.next=f,Nc(t)):(f.next=T.next,T.next=f),t.interleaved=f;return}}catch{}i=Gd(e,t,f,l),i!==null&&(f=an(),$n(i,e,l,f),Sf(i,t,l))}}function xf(e){var t=e.alternate;return e===kt||t!==null&&t===kt}function wf(e,t){Ks=cl=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Sf(e,t,i){if((i&4194240)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,Ao(e,i)}}var fl={readContext:_n,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},mg={readContext:_n,useCallback:function(e,t){return cr().memoizedState=[e,t===void 0?null:t],e},useContext:_n,useEffect:uf,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,ul(4194308,4,pf.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ul(4194308,4,e,t)},useInsertionEffect:function(e,t){return ul(4,2,e,t)},useMemo:function(e,t){var i=cr();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var l=cr();return t=i!==void 0?i(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=pg.bind(null,kt,e),[l.memoizedState,e]},useRef:function(e){var t=cr();return e={current:e},t.memoizedState=e},useState:lf,useDebugValue:Vc,useDeferredValue:function(e){return cr().memoizedState=e},useTransition:function(){var e=lf(!1),t=e[0];return e=fg.bind(null,e[1]),cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var l=kt,f=cr();if(bt){if(i===void 0)throw Error(o(407));i=i()}else{if(i=t(),Ht===null)throw Error(o(349));(so&30)!==0||nf(l,t,i)}f.memoizedState=i;var h={value:i,getSnapshot:t};return f.queue=h,uf(of.bind(null,l,h,e),[e]),l.flags|=2048,Ys(9,rf.bind(null,l,h,i,t),void 0,null),i},useId:function(){var e=cr(),t=Ht.identifierPrefix;if(bt){var i=Or,l=Pr;i=(l&~(1<<32-Be(l)-1)).toString(32)+i,t=":"+t+"R"+i,i=Ws++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=dg++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gg={readContext:_n,useCallback:mf,useContext:_n,useEffect:$c,useImperativeHandle:hf,useInsertionEffect:df,useLayoutEffect:ff,useMemo:gf,useReducer:zc,useRef:cf,useState:function(){return zc(qs)},useDebugValue:Vc,useDeferredValue:function(e){var t=Cn();return yf(t,Lt.memoizedState,e)},useTransition:function(){var e=zc(qs)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:ef,useSyncExternalStore:tf,useId:vf,unstable_isNewReconciler:!1},yg={readContext:_n,useCallback:mf,useContext:_n,useEffect:$c,useImperativeHandle:hf,useInsertionEffect:df,useLayoutEffect:ff,useMemo:gf,useReducer:Hc,useRef:cf,useState:function(){return Hc(qs)},useDebugValue:Vc,useDeferredValue:function(e){var t=Cn();return Lt===null?t.memoizedState=e:yf(t,Lt.memoizedState,e)},useTransition:function(){var e=Hc(qs)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:ef,useSyncExternalStore:tf,useId:vf,unstable_isNewReconciler:!1};function Un(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Kc(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:te({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var pl={isMounted:function(e){return(e=e._reactInternals)?Qt(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var l=an(),f=bi(e),h=Fr(l,f);h.payload=t,i!=null&&(h.callback=i),t=vi(e,h,f),t!==null&&($n(t,e,f,l),ol(t,e,f))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=an(),f=bi(e),h=Fr(l,f);h.tag=1,h.payload=t,i!=null&&(h.callback=i),t=vi(e,h,f),t!==null&&($n(t,e,f,l),ol(t,e,f))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=an(),l=bi(e),f=Fr(i,l);f.tag=2,t!=null&&(f.callback=t),t=vi(e,f,l),t!==null&&($n(t,e,l,i),ol(t,e,l))}};function bf(e,t,i,l,f,h,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,w):t.prototype&&t.prototype.isPureReactComponent?!R(i,l)||!R(f,h):!0}function Ef(e,t,i){var l=!1,f=mi,h=t.contextType;return typeof h=="object"&&h!==null?h=_n(h):(f=dn(t)?to:Jt.current,l=t.contextTypes,h=(l=l!=null)?Wo(e,f):mi),t=new t(i,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pl,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=h),t}function jf(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&pl.enqueueReplaceState(t,t.state,null)}function Wc(e,t,i,l){var f=e.stateNode;f.props=i,f.state=e.memoizedState,f.refs={},Rc(e);var h=t.contextType;typeof h=="object"&&h!==null?f.context=_n(h):(h=dn(t)?to:Jt.current,f.context=Wo(e,h)),f.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Kc(e,t,h,i),f.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(t=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),t!==f.state&&pl.enqueueReplaceState(f,f.state,null),sl(e,i,f,l),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function es(e,t){try{var i="",l=t;do i+=$e(l),l=l.return;while(l);var f=i}catch(h){f=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:f,digest:null}}function qc(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Yc(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var vg=typeof WeakMap=="function"?WeakMap:Map;function _f(e,t,i){i=Fr(-1,i),i.tag=3,i.payload={element:null};var l=t.value;return i.callback=function(){wl||(wl=!0,cu=l),Yc(e,t)},i}function Cf(e,t,i){i=Fr(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var f=t.value;i.payload=function(){return l(f)},i.callback=function(){Yc(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(i.callback=function(){Yc(e,t),typeof l!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var w=t.stack;this.componentDidCatch(t.value,{componentStack:w!==null?w:""})}),i}function kf(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new vg;var f=new Set;l.set(t,f)}else f=l.get(t),f===void 0&&(f=new Set,l.set(t,f));f.has(i)||(f.add(i),e=Rg.bind(null,e,t,i),t.then(e,e))}function If(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Af(e,t,i,l,f){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Fr(-1,1),t.tag=2,vi(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=f,e)}var xg=xe.ReactCurrentOwner,fn=!1;function sn(e,t,i,l){t.child=e===null?Yd(t,null,i,l):Qo(t,e.child,i,l)}function Tf(e,t,i,l,f){i=i.render;var h=t.ref;return Xo(t,f),l=Mc(e,t,i,l,h,f),i=Uc(),e!==null&&!fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,Lr(e,t,f)):(bt&&i&&bc(t),t.flags|=1,sn(e,t,l,f),t.child)}function Nf(e,t,i,l,f){if(e===null){var h=i.type;return typeof h=="function"&&!gu(h)&&h.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=h,Rf(e,t,h,l,f)):(e=Cl(i.type,null,l,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&f)===0){var w=h.memoizedProps;if(i=i.compare,i=i!==null?i:R,i(w,l)&&e.ref===t.ref)return Lr(e,t,f)}return t.flags|=1,e=ji(h,l),e.ref=t.ref,e.return=t,t.child=e}function Rf(e,t,i,l,f){if(e!==null){var h=e.memoizedProps;if(R(h,l)&&e.ref===t.ref)if(fn=!1,t.pendingProps=l=h,(e.lanes&f)!==0)(e.flags&131072)!==0&&(fn=!0);else return t.lanes=e.lanes,Lr(e,t,f)}return Gc(e,t,i,l,f)}function Pf(e,t,i){var l=t.pendingProps,f=l.children,h=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(ns,Sn),Sn|=i;else{if((i&1073741824)===0)return e=h!==null?h.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,yt(ns,Sn),Sn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=h!==null?h.baseLanes:i,yt(ns,Sn),Sn|=l}else h!==null?(l=h.baseLanes|i,t.memoizedState=null):l=i,yt(ns,Sn),Sn|=l;return sn(e,t,f,i),t.child}function Of(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Gc(e,t,i,l,f){var h=dn(i)?to:Jt.current;return h=Wo(t,h),Xo(t,f),i=Mc(e,t,i,l,h,f),l=Uc(),e!==null&&!fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,Lr(e,t,f)):(bt&&l&&bc(t),t.flags|=1,sn(e,t,i,f),t.child)}function Df(e,t,i,l,f){if(dn(i)){var h=!0;Ja(t)}else h=!1;if(Xo(t,f),t.stateNode===null)ml(e,t),Ef(t,i,l),Wc(t,i,l,f),l=!0;else if(e===null){var w=t.stateNode,I=t.memoizedProps;w.props=I;var T=w.context,Q=i.contextType;typeof Q=="object"&&Q!==null?Q=_n(Q):(Q=dn(i)?to:Jt.current,Q=Wo(t,Q));var ae=i.getDerivedStateFromProps,le=typeof ae=="function"||typeof w.getSnapshotBeforeUpdate=="function";le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==l||T!==Q)&&jf(t,w,l,Q),yi=!1;var oe=t.memoizedState;w.state=oe,sl(t,l,w,f),T=t.memoizedState,I!==l||oe!==T||un.current||yi?(typeof ae=="function"&&(Kc(t,i,ae,l),T=t.memoizedState),(I=yi||bf(t,i,I,l,oe,T,Q))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(t.flags|=4194308)):(typeof w.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=T),w.props=l,w.state=T,w.context=Q,l=I):(typeof w.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{w=t.stateNode,Qd(e,t),I=t.memoizedProps,Q=t.type===t.elementType?I:Un(t.type,I),w.props=Q,le=t.pendingProps,oe=w.context,T=i.contextType,typeof T=="object"&&T!==null?T=_n(T):(T=dn(i)?to:Jt.current,T=Wo(t,T));var be=i.getDerivedStateFromProps;(ae=typeof be=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==le||oe!==T)&&jf(t,w,l,T),yi=!1,oe=t.memoizedState,w.state=oe,sl(t,l,w,f);var Ce=t.memoizedState;I!==le||oe!==Ce||un.current||yi?(typeof be=="function"&&(Kc(t,i,be,l),Ce=t.memoizedState),(Q=yi||bf(t,i,Q,l,oe,Ce,T)||!1)?(ae||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(l,Ce,T),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(l,Ce,T)),typeof w.componentDidUpdate=="function"&&(t.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===e.memoizedProps&&oe===e.memoizedState||(t.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===e.memoizedProps&&oe===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Ce),w.props=l,w.state=Ce,w.context=T,l=Q):(typeof w.componentDidUpdate!="function"||I===e.memoizedProps&&oe===e.memoizedState||(t.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===e.memoizedProps&&oe===e.memoizedState||(t.flags|=1024),l=!1)}return Qc(e,t,i,l,h,f)}function Qc(e,t,i,l,f,h){Of(e,t);var w=(t.flags&128)!==0;if(!l&&!w)return f&&Md(t,i,!1),Lr(e,t,h);l=t.stateNode,xg.current=t;var I=w&&typeof i.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&w?(t.child=Qo(t,e.child,null,h),t.child=Qo(t,null,I,h)):sn(e,t,I,h),t.memoizedState=l.state,f&&Md(t,i,!0),t.child}function Ff(e){var t=e.stateNode;t.pendingContext?Ld(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ld(e,t.context,!1),Pc(e,t.containerInfo)}function Lf(e,t,i,l,f){return Go(),Cc(f),t.flags|=256,sn(e,t,i,l),t.child}var Jc={dehydrated:null,treeContext:null,retryLane:0};function Xc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bf(e,t,i){var l=t.pendingProps,f=Ct.current,h=!1,w=(t.flags&128)!==0,I;if((I=w)||(I=e!==null&&e.memoizedState===null?!1:(f&2)!==0),I?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),yt(Ct,f&1),e===null)return _c(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(w=l.children,e=l.fallback,h?(l=t.mode,h=t.child,w={mode:"hidden",children:w},(l&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=w):h=kl(w,l,0,null),e=fo(e,l,i,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=Xc(i),t.memoizedState=Jc,e):Zc(t,w));if(f=e.memoizedState,f!==null&&(I=f.dehydrated,I!==null))return wg(e,t,w,l,I,f,i);if(h){h=l.fallback,w=t.mode,f=e.child,I=f.sibling;var T={mode:"hidden",children:l.children};return(w&1)===0&&t.child!==f?(l=t.child,l.childLanes=0,l.pendingProps=T,t.deletions=null):(l=ji(f,T),l.subtreeFlags=f.subtreeFlags&14680064),I!==null?h=ji(I,h):(h=fo(h,w,i,null),h.flags|=2),h.return=t,l.return=t,l.sibling=h,t.child=l,l=h,h=t.child,w=e.child.memoizedState,w=w===null?Xc(i):{baseLanes:w.baseLanes|i,cachePool:null,transitions:w.transitions},h.memoizedState=w,h.childLanes=e.childLanes&~i,t.memoizedState=Jc,l}return h=e.child,e=h.sibling,l=ji(h,{mode:"visible",children:l.children}),(t.mode&1)===0&&(l.lanes=i),l.return=t,l.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=l,t.memoizedState=null,l}function Zc(e,t){return t=kl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hl(e,t,i,l){return l!==null&&Cc(l),Qo(t,e.child,null,i),e=Zc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wg(e,t,i,l,f,h,w){if(i)return t.flags&256?(t.flags&=-257,l=qc(Error(o(422))),hl(e,t,w,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=l.fallback,f=t.mode,l=kl({mode:"visible",children:l.children},f,0,null),h=fo(h,f,w,null),h.flags|=2,l.return=t,h.return=t,l.sibling=h,t.child=l,(t.mode&1)!==0&&Qo(t,e.child,null,w),t.child.memoizedState=Xc(w),t.memoizedState=Jc,h);if((t.mode&1)===0)return hl(e,t,w,null);if(f.data==="$!"){if(l=f.nextSibling&&f.nextSibling.dataset,l)var I=l.dgst;return l=I,h=Error(o(419)),l=qc(h,l,void 0),hl(e,t,w,l)}if(I=(w&e.childLanes)!==0,fn||I){if(l=Ht,l!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(l.suspendedLanes|w))!==0?0:f,f!==0&&f!==h.retryLane&&(h.retryLane=f,Dr(e,f),$n(l,e,f,-1))}return mu(),l=qc(Error(o(421))),hl(e,t,w,l)}return f.data==="$?"?(t.flags|=128,t.child=e.child,t=Pg.bind(null,e),f._reactRetry=t,null):(e=h.treeContext,wn=pi(f.nextSibling),xn=t,bt=!0,Mn=null,e!==null&&(En[jn++]=Pr,En[jn++]=Or,En[jn++]=no,Pr=e.id,Or=e.overflow,no=t),t=Zc(t,l.children),t.flags|=4096,t)}function Mf(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Tc(e.return,t,i)}function eu(e,t,i,l,f){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:f}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=i,h.tailMode=f)}function Uf(e,t,i){var l=t.pendingProps,f=l.revealOrder,h=l.tail;if(sn(e,t,l.children,i),l=Ct.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mf(e,i,t);else if(e.tag===19)Mf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(yt(Ct,l),(t.mode&1)===0)t.memoizedState=null;else switch(f){case"forwards":for(i=t.child,f=null;i!==null;)e=i.alternate,e!==null&&al(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=t.child,t.child=null):(f=i.sibling,i.sibling=null),eu(t,!1,f,i,h);break;case"backwards":for(i=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&al(e)===null){t.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}eu(t,!0,i,null,h);break;case"together":eu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ml(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ao|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,i=ji(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ji(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Sg(e,t,i){switch(t.tag){case 3:Ff(t),Go();break;case 5:Zd(t);break;case 1:dn(t.type)&&Ja(t);break;case 4:Pc(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,f=t.memoizedProps.value;yt(rl,l._currentValue),l._currentValue=f;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(yt(Ct,Ct.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Bf(e,t,i):(yt(Ct,Ct.current&1),e=Lr(e,t,i),e!==null?e.sibling:null);yt(Ct,Ct.current&1);break;case 19:if(l=(i&t.childLanes)!==0,(e.flags&128)!==0){if(l)return Uf(e,t,i);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),yt(Ct,Ct.current),l)break;return null;case 22:case 23:return t.lanes=0,Pf(e,t,i)}return Lr(e,t,i)}var zf,tu,Hf,$f;zf=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},tu=function(){},Hf=function(e,t,i,l){var f=e.memoizedProps;if(f!==l){e=t.stateNode,oo(lr.current);var h=null;switch(i){case"input":f=fs(e,f),l=fs(e,l),h=[];break;case"select":f=te({},f,{value:void 0}),l=te({},l,{value:void 0}),h=[];break;case"textarea":f=bo(e,f),l=bo(e,l),h=[];break;default:typeof f.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ya)}ke(i,l);var w;i=null;for(Q in f)if(!l.hasOwnProperty(Q)&&f.hasOwnProperty(Q)&&f[Q]!=null)if(Q==="style"){var I=f[Q];for(w in I)I.hasOwnProperty(w)&&(i||(i={}),i[w]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(d.hasOwnProperty(Q)?h||(h=[]):(h=h||[]).push(Q,null));for(Q in l){var T=l[Q];if(I=f?.[Q],l.hasOwnProperty(Q)&&T!==I&&(T!=null||I!=null))if(Q==="style")if(I){for(w in I)!I.hasOwnProperty(w)||T&&T.hasOwnProperty(w)||(i||(i={}),i[w]="");for(w in T)T.hasOwnProperty(w)&&I[w]!==T[w]&&(i||(i={}),i[w]=T[w])}else i||(h||(h=[]),h.push(Q,i)),i=T;else Q==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,I=I?I.__html:void 0,T!=null&&I!==T&&(h=h||[]).push(Q,T)):Q==="children"?typeof T!="string"&&typeof T!="number"||(h=h||[]).push(Q,""+T):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(d.hasOwnProperty(Q)?(T!=null&&Q==="onScroll"&&vt("scroll",e),h||I===T||(h=[])):(h=h||[]).push(Q,T))}i&&(h=h||[]).push("style",i);var Q=h;(t.updateQueue=Q)&&(t.flags|=4)}},$f=function(e,t,i,l){i!==l&&(t.flags|=4)};function Gs(e,t){if(!bt)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags&14680064,l|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function bg(e,t,i){var l=t.pendingProps;switch(Ec(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return dn(t.type)&&Qa(),Zt(t),null;case 3:return l=t.stateNode,Zo(),xt(un),xt(Jt),Fc(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(tl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Mn!==null&&(fu(Mn),Mn=null))),tu(e,t),Zt(t),null;case 5:Oc(t);var f=oo(Vs.current);if(i=t.type,e!==null&&t.stateNode!=null)Hf(e,t,i,l,f),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Zt(t),null}if(e=oo(lr.current),tl(t)){l=t.stateNode,i=t.type;var h=t.memoizedProps;switch(l[ar]=t,l[Ms]=h,e=(t.mode&1)!==0,i){case"dialog":vt("cancel",l),vt("close",l);break;case"iframe":case"object":case"embed":vt("load",l);break;case"video":case"audio":for(f=0;f<Fs.length;f++)vt(Fs[f],l);break;case"source":vt("error",l);break;case"img":case"image":case"link":vt("error",l),vt("load",l);break;case"details":vt("toggle",l);break;case"input":Wn(l,h),vt("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!h.multiple},vt("invalid",l);break;case"textarea":Kr(l,h),vt("invalid",l)}ke(i,h),f=null;for(var w in h)if(h.hasOwnProperty(w)){var I=h[w];w==="children"?typeof I=="string"?l.textContent!==I&&(h.suppressHydrationWarning!==!0&&qa(l.textContent,I,e),f=["children",I]):typeof I=="number"&&l.textContent!==""+I&&(h.suppressHydrationWarning!==!0&&qa(l.textContent,I,e),f=["children",""+I]):d.hasOwnProperty(w)&&I!=null&&w==="onScroll"&&vt("scroll",l)}switch(i){case"input":Fi(l),Sa(l,h,!0);break;case"textarea":Fi(l),Wr(l);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(l.onclick=Ya)}l=f,t.updateQueue=l,l!==null&&(t.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gt(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=w.createElement(i,{is:l.is}):(e=w.createElement(i),i==="select"&&(w=e,l.multiple?w.multiple=!0:l.size&&(w.size=l.size))):e=w.createElementNS(e,i),e[ar]=t,e[Ms]=l,zf(e,t,!1,!1),t.stateNode=e;e:{switch(w=mr(i,l),i){case"dialog":vt("cancel",e),vt("close",e),f=l;break;case"iframe":case"object":case"embed":vt("load",e),f=l;break;case"video":case"audio":for(f=0;f<Fs.length;f++)vt(Fs[f],e);f=l;break;case"source":vt("error",e),f=l;break;case"img":case"image":case"link":vt("error",e),vt("load",e),f=l;break;case"details":vt("toggle",e),f=l;break;case"input":Wn(e,l),f=fs(e,l),vt("invalid",e);break;case"option":f=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},f=te({},l,{value:void 0}),vt("invalid",e);break;case"textarea":Kr(e,l),f=bo(e,l),vt("invalid",e);break;default:f=l}ke(i,f),I=f;for(h in I)if(I.hasOwnProperty(h)){var T=I[h];h==="style"?Eo(e,T):h==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&Yr(e,T)):h==="children"?typeof T=="string"?(i!=="textarea"||T!=="")&&pr(e,T):typeof T=="number"&&pr(e,""+T):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(d.hasOwnProperty(h)?T!=null&&h==="onScroll"&&vt("scroll",e):T!=null&&ee(e,h,T,w))}switch(i){case"input":Fi(e),Sa(e,l,!1);break;case"textarea":Fi(e),Wr(e);break;case"option":l.value!=null&&e.setAttribute("value",""+nt(l.value));break;case"select":e.multiple=!!l.multiple,h=l.value,h!=null?Vt(e,!!l.multiple,h,!1):l.defaultValue!=null&&Vt(e,!!l.multiple,l.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=Ya)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&t.stateNode!=null)$f(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(i=oo(Vs.current),oo(lr.current),tl(t)){if(l=t.stateNode,i=t.memoizedProps,l[ar]=t,(h=l.nodeValue!==i)&&(e=xn,e!==null))switch(e.tag){case 3:qa(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qa(l.nodeValue,i,(e.mode&1)!==0)}h&&(t.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[ar]=t,t.stateNode=l}return Zt(t),null;case 13:if(xt(Ct),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bt&&wn!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Kd(),Go(),t.flags|=98560,h=!1;else if(h=tl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(o(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[ar]=t}else Go(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Zt(t),h=!1}else Mn!==null&&(fu(Mn),Mn=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ct.current&1)!==0?Bt===0&&(Bt=3):mu())),t.updateQueue!==null&&(t.flags|=4),Zt(t),null);case 4:return Zo(),tu(e,t),e===null&&Ls(t.stateNode.containerInfo),Zt(t),null;case 10:return Ac(t.type._context),Zt(t),null;case 17:return dn(t.type)&&Qa(),Zt(t),null;case 19:if(xt(Ct),h=t.memoizedState,h===null)return Zt(t),null;if(l=(t.flags&128)!==0,w=h.rendering,w===null)if(l)Gs(h,!1);else{if(Bt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(w=al(e),w!==null){for(t.flags|=128,Gs(h,!1),l=w.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=i,i=t.child;i!==null;)h=i,e=l,h.flags&=14680066,w=h.alternate,w===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=w.childLanes,h.lanes=w.lanes,h.child=w.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=w.memoizedProps,h.memoizedState=w.memoizedState,h.updateQueue=w.updateQueue,h.type=w.type,e=w.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return yt(Ct,Ct.current&1|2),t.child}e=e.sibling}h.tail!==null&&lt()>rs&&(t.flags|=128,l=!0,Gs(h,!1),t.lanes=4194304)}else{if(!l)if(e=al(w),e!==null){if(t.flags|=128,l=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Gs(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!bt)return Zt(t),null}else 2*lt()-h.renderingStartTime>rs&&i!==1073741824&&(t.flags|=128,l=!0,Gs(h,!1),t.lanes=4194304);h.isBackwards?(w.sibling=t.child,t.child=w):(i=h.last,i!==null?i.sibling=w:t.child=w,h.last=w)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=lt(),t.sibling=null,i=Ct.current,yt(Ct,l?i&1|2:i&1),t):(Zt(t),null);case 22:case 23:return hu(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&(t.mode&1)!==0?(Sn&1073741824)!==0&&(Zt(t),t.subtreeFlags&6&&(t.flags|=8192)):Zt(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function Eg(e,t){switch(Ec(t),t.tag){case 1:return dn(t.type)&&Qa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zo(),xt(un),xt(Jt),Fc(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Oc(t),null;case 13:if(xt(Ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Go()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xt(Ct),null;case 4:return Zo(),null;case 10:return Ac(t.type._context),null;case 22:case 23:return hu(),null;case 24:return null;default:return null}}var gl=!1,en=!1,jg=typeof WeakSet=="function"?WeakSet:Set,_e=null;function ts(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){It(e,t,l)}else i.current=null}function nu(e,t,i){try{i()}catch(l){It(e,t,l)}}var Vf=!1;function _g(e,t){if(hc=qi,e=O(),P(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var f=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var w=0,I=-1,T=-1,Q=0,ae=0,le=e,oe=null;t:for(;;){for(var be;le!==i||f!==0&&le.nodeType!==3||(I=w+f),le!==h||l!==0&&le.nodeType!==3||(T=w+l),le.nodeType===3&&(w+=le.nodeValue.length),(be=le.firstChild)!==null;)oe=le,le=be;for(;;){if(le===e)break t;if(oe===i&&++Q===f&&(I=w),oe===h&&++ae===l&&(T=w),(be=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=be}i=I===-1||T===-1?null:{start:I,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(mc={focusedElem:e,selectionRange:i},qi=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var Ce=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Ie=Ce.memoizedProps,At=Ce.memoizedState,$=t.stateNode,B=$.getSnapshotBeforeUpdate(t.elementType===t.type?Ie:Un(t.type,Ie),At);$.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var W=t.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(fe){It(t,t.return,fe)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return Ce=Vf,Vf=!1,Ce}function Qs(e,t,i){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&e)===e){var h=f.destroy;f.destroy=void 0,h!==void 0&&nu(t,i,h)}f=f.next}while(f!==l)}}function yl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==t)}}function ru(e){var t=e.ref;if(t!==null){var i=e.stateNode;e.tag,e=i,typeof t=="function"?t(e):t.current=e}}function Kf(e){var t=e.alternate;t!==null&&(e.alternate=null,Kf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ar],delete t[Ms],delete t[xc],delete t[ag],delete t[lg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wf(e){return e.tag===5||e.tag===3||e.tag===4}function qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iu(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Ya));else if(l!==4&&(e=e.child,e!==null))for(iu(e,t,i),e=e.sibling;e!==null;)iu(e,t,i),e=e.sibling}function ou(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(ou(e,t,i),e=e.sibling;e!==null;)ou(e,t,i),e=e.sibling}var qt=null,zn=!1;function xi(e,t,i){for(i=i.child;i!==null;)Yf(e,t,i),i=i.sibling}function Yf(e,t,i){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(zi,i)}catch{}switch(i.tag){case 5:en||ts(i,t);case 6:var l=qt,f=zn;qt=null,xi(e,t,i),qt=l,zn=f,qt!==null&&(zn?(e=qt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):qt.removeChild(i.stateNode));break;case 18:qt!==null&&(zn?(e=qt,i=i.stateNode,e.nodeType===8?vc(e.parentNode,i):e.nodeType===1&&vc(e,i),Pn(e)):vc(qt,i.stateNode));break;case 4:l=qt,f=zn,qt=i.stateNode.containerInfo,zn=!0,xi(e,t,i),qt=l,zn=f;break;case 0:case 11:case 14:case 15:if(!en&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){f=l=l.next;do{var h=f,w=h.destroy;h=h.tag,w!==void 0&&((h&2)!==0||(h&4)!==0)&&nu(i,t,w),f=f.next}while(f!==l)}xi(e,t,i);break;case 1:if(!en&&(ts(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(I){It(i,t,I)}xi(e,t,i);break;case 21:xi(e,t,i);break;case 22:i.mode&1?(en=(l=en)||i.memoizedState!==null,xi(e,t,i),en=l):xi(e,t,i);break;default:xi(e,t,i)}}function Gf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new jg),t.forEach(function(l){var f=Og.bind(null,e,l);i.has(l)||(i.add(l),l.then(f,f))})}}function Hn(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var f=i[l];try{var h=e,w=t,I=w;e:for(;I!==null;){switch(I.tag){case 5:qt=I.stateNode,zn=!1;break e;case 3:qt=I.stateNode.containerInfo,zn=!0;break e;case 4:qt=I.stateNode.containerInfo,zn=!0;break e}I=I.return}if(qt===null)throw Error(o(160));Yf(h,w,f),qt=null,zn=!1;var T=f.alternate;T!==null&&(T.return=null),f.return=null}catch(Q){It(f,t,Q)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qf(t,e),t=t.sibling}function Qf(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hn(t,e),ur(e),l&4){try{Qs(3,e,e.return),yl(3,e)}catch(Ie){It(e,e.return,Ie)}try{Qs(5,e,e.return)}catch(Ie){It(e,e.return,Ie)}}break;case 1:Hn(t,e),ur(e),l&512&&i!==null&&ts(i,i.return);break;case 5:if(Hn(t,e),ur(e),l&512&&i!==null&&ts(i,i.return),e.flags&32){var f=e.stateNode;try{pr(f,"")}catch(Ie){It(e,e.return,Ie)}}if(l&4&&(f=e.stateNode,f!=null)){var h=e.memoizedProps,w=i!==null?i.memoizedProps:h,I=e.type,T=e.updateQueue;if(e.updateQueue=null,T!==null)try{I==="input"&&h.type==="radio"&&h.name!=null&&wa(f,h),mr(I,w);var Q=mr(I,h);for(w=0;w<T.length;w+=2){var ae=T[w],le=T[w+1];ae==="style"?Eo(f,le):ae==="dangerouslySetInnerHTML"?Yr(f,le):ae==="children"?pr(f,le):ee(f,ae,le,Q)}switch(I){case"input":ps(f,h);break;case"textarea":ms(f,h);break;case"select":var oe=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!h.multiple;var be=h.value;be!=null?Vt(f,!!h.multiple,be,!1):oe!==!!h.multiple&&(h.defaultValue!=null?Vt(f,!!h.multiple,h.defaultValue,!0):Vt(f,!!h.multiple,h.multiple?[]:"",!1))}f[Ms]=h}catch(Ie){It(e,e.return,Ie)}}break;case 6:if(Hn(t,e),ur(e),l&4){if(e.stateNode===null)throw Error(o(162));f=e.stateNode,h=e.memoizedProps;try{f.nodeValue=h}catch(Ie){It(e,e.return,Ie)}}break;case 3:if(Hn(t,e),ur(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Pn(t.containerInfo)}catch(Ie){It(e,e.return,Ie)}break;case 4:Hn(t,e),ur(e);break;case 13:Hn(t,e),ur(e),f=e.child,f.flags&8192&&(h=f.memoizedState!==null,f.stateNode.isHidden=h,!h||f.alternate!==null&&f.alternate.memoizedState!==null||(lu=lt())),l&4&&Gf(e);break;case 22:if(ae=i!==null&&i.memoizedState!==null,e.mode&1?(en=(Q=en)||ae,Hn(t,e),en=Q):Hn(t,e),ur(e),l&8192){if(Q=e.memoizedState!==null,(e.stateNode.isHidden=Q)&&!ae&&(e.mode&1)!==0)for(_e=e,ae=e.child;ae!==null;){for(le=_e=ae;_e!==null;){switch(oe=_e,be=oe.child,oe.tag){case 0:case 11:case 14:case 15:Qs(4,oe,oe.return);break;case 1:ts(oe,oe.return);var Ce=oe.stateNode;if(typeof Ce.componentWillUnmount=="function"){l=oe,i=oe.return;try{t=l,Ce.props=t.memoizedProps,Ce.state=t.memoizedState,Ce.componentWillUnmount()}catch(Ie){It(l,i,Ie)}}break;case 5:ts(oe,oe.return);break;case 22:if(oe.memoizedState!==null){Zf(le);continue}}be!==null?(be.return=oe,_e=be):Zf(le)}ae=ae.sibling}e:for(ae=null,le=e;;){if(le.tag===5){if(ae===null){ae=le;try{f=le.stateNode,Q?(h=f.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(I=le.stateNode,T=le.memoizedProps.style,w=T!=null&&T.hasOwnProperty("display")?T.display:null,I.style.display=Li("display",w))}catch(Ie){It(e,e.return,Ie)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=Q?"":le.memoizedProps}catch(Ie){It(e,e.return,Ie)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===e)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===e)break e;for(;le.sibling===null;){if(le.return===null||le.return===e)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Hn(t,e),ur(e),l&4&&Gf(e);break;case 21:break;default:Hn(t,e),ur(e)}}function ur(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Wf(i)){var l=i;break e}i=i.return}throw Error(o(160))}switch(l.tag){case 5:var f=l.stateNode;l.flags&32&&(pr(f,""),l.flags&=-33);var h=qf(e);ou(e,h,f);break;case 3:case 4:var w=l.stateNode.containerInfo,I=qf(e);iu(e,I,w);break;default:throw Error(o(161))}}catch(T){It(e,e.return,T)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cg(e,t,i){_e=e,Jf(e)}function Jf(e,t,i){for(var l=(e.mode&1)!==0;_e!==null;){var f=_e,h=f.child;if(f.tag===22&&l){var w=f.memoizedState!==null||gl;if(!w){var I=f.alternate,T=I!==null&&I.memoizedState!==null||en;I=gl;var Q=en;if(gl=w,(en=T)&&!Q)for(_e=f;_e!==null;)w=_e,T=w.child,w.tag===22&&w.memoizedState!==null?ep(f):T!==null?(T.return=w,_e=T):ep(f);for(;h!==null;)_e=h,Jf(h),h=h.sibling;_e=f,gl=I,en=Q}Xf(e)}else(f.subtreeFlags&8772)!==0&&h!==null?(h.return=f,_e=h):Xf(e)}}function Xf(e){for(;_e!==null;){var t=_e;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:en||yl(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!en)if(i===null)l.componentDidMount();else{var f=t.elementType===t.type?i.memoizedProps:Un(t.type,i.memoizedProps);l.componentDidUpdate(f,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&Xd(t,h,l);break;case 3:var w=t.updateQueue;if(w!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Xd(t,w,i)}break;case 5:var I=t.stateNode;if(i===null&&t.flags&4){i=I;var T=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&i.focus();break;case"img":T.src&&(i.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var Q=t.alternate;if(Q!==null){var ae=Q.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&Pn(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}en||t.flags&512&&ru(t)}catch(oe){It(t,t.return,oe)}}if(t===e){_e=null;break}if(i=t.sibling,i!==null){i.return=t.return,_e=i;break}_e=t.return}}function Zf(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var i=t.sibling;if(i!==null){i.return=t.return,_e=i;break}_e=t.return}}function ep(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{yl(4,t)}catch(T){It(t,i,T)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var f=t.return;try{l.componentDidMount()}catch(T){It(t,f,T)}}var h=t.return;try{ru(t)}catch(T){It(t,h,T)}break;case 5:var w=t.return;try{ru(t)}catch(T){It(t,w,T)}}}catch(T){It(t,t.return,T)}if(t===e){_e=null;break}var I=t.sibling;if(I!==null){I.return=t.return,_e=I;break}_e=t.return}}var kg=Math.ceil,vl=xe.ReactCurrentDispatcher,su=xe.ReactCurrentOwner,kn=xe.ReactCurrentBatchConfig,rt=0,Ht=null,Ot=null,Yt=0,Sn=0,ns=hi(0),Bt=0,Js=null,ao=0,xl=0,au=0,Xs=null,pn=null,lu=0,rs=1/0,Br=null,wl=!1,cu=null,wi=null,Sl=!1,Si=null,bl=0,Zs=0,uu=null,El=-1,jl=0;function an(){return(rt&6)!==0?lt():El!==-1?El:El=lt()}function bi(e){return(e.mode&1)===0?1:(rt&2)!==0&&Yt!==0?Yt&-Yt:ug.transition!==null?(jl===0&&(jl=Er()),jl):(e=Je,e!==0||(e=window.event,e=e===void 0?16:Gi(e.type)),e)}function $n(e,t,i,l){if(50<Zs)throw Zs=0,uu=null,Error(o(185));jr(e,i,l),((rt&2)===0||e!==Ht)&&(e===Ht&&((rt&2)===0&&(xl|=i),Bt===4&&Ei(e,Yt)),hn(e,l),i===1&&rt===0&&(t.mode&1)===0&&(rs=lt()+500,Xa&&gi()))}function hn(e,t){var i=e.callbackNode;Vi(e,t);var l=$i(e,e===Ht?Yt:0);if(l===0)i!==null&&Co(i),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(i!=null&&Co(i),t===1)e.tag===0?cg(np.bind(null,e)):Ud(np.bind(null,e)),og(function(){(rt&6)===0&&gi()}),i=null;else{switch(ws(l)){case 1:i=er;break;case 4:i=Ui;break;case 16:i=Zr;break;case 536870912:i=tr;break;default:i=Zr}i=up(i,tp.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function tp(e,t){if(El=-1,jl=0,(rt&6)!==0)throw Error(o(327));var i=e.callbackNode;if(is()&&e.callbackNode!==i)return null;var l=$i(e,e===Ht?Yt:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||t)t=_l(e,l);else{t=l;var f=rt;rt|=2;var h=ip();(Ht!==e||Yt!==t)&&(Br=null,rs=lt()+500,co(e,t));do try{Tg();break}catch(I){rp(e,I)}while(!0);Ic(),vl.current=h,rt=f,Ot!==null?t=0:(Ht=null,Yt=0,t=Bt)}if(t!==0){if(t===2&&(f=br(e),f!==0&&(l=f,t=du(e,f))),t===1)throw i=Js,co(e,0),Ei(e,l),hn(e,lt()),i;if(t===6)Ei(e,l);else{if(f=e.current.alternate,(l&30)===0&&!Ig(f)&&(t=_l(e,l),t===2&&(h=br(e),h!==0&&(l=h,t=du(e,h))),t===1))throw i=Js,co(e,0),Ei(e,l),hn(e,lt()),i;switch(e.finishedWork=f,e.finishedLanes=l,t){case 0:case 1:throw Error(o(345));case 2:uo(e,pn,Br);break;case 3:if(Ei(e,l),(l&130023424)===l&&(t=lu+500-lt(),10<t)){if($i(e,0)!==0)break;if(f=e.suspendedLanes,(f&l)!==l){an(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=yc(uo.bind(null,e,pn,Br),t);break}uo(e,pn,Br);break;case 4:if(Ei(e,l),(l&4194240)===l)break;for(t=e.eventTimes,f=-1;0<l;){var w=31-Be(l);h=1<<w,w=t[w],w>f&&(f=w),l&=~h}if(l=f,l=lt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*kg(l/1960))-l,10<l){e.timeoutHandle=yc(uo.bind(null,e,pn,Br),l);break}uo(e,pn,Br);break;case 5:uo(e,pn,Br);break;default:throw Error(o(329))}}}return hn(e,lt()),e.callbackNode===i?tp.bind(null,e):null}function du(e,t){var i=Xs;return e.current.memoizedState.isDehydrated&&(co(e,t).flags|=256),e=_l(e,t),e!==2&&(t=pn,pn=i,t!==null&&fu(t)),e}function fu(e){pn===null?pn=e:pn.push.apply(pn,e)}function Ig(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var f=i[l],h=f.getSnapshot;f=f.value;try{if(!M(h(),f))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ei(e,t){for(t&=~au,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Be(t),l=1<<i;e[i]=-1,t&=~l}}function np(e){if((rt&6)!==0)throw Error(o(327));is();var t=$i(e,0);if((t&1)===0)return hn(e,lt()),null;var i=_l(e,t);if(e.tag!==0&&i===2){var l=br(e);l!==0&&(t=l,i=du(e,l))}if(i===1)throw i=Js,co(e,0),Ei(e,t),hn(e,lt()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uo(e,pn,Br),hn(e,lt()),null}function pu(e,t){var i=rt;rt|=1;try{return e(t)}finally{rt=i,rt===0&&(rs=lt()+500,Xa&&gi())}}function lo(e){Si!==null&&Si.tag===0&&(rt&6)===0&&is();var t=rt;rt|=1;var i=kn.transition,l=Je;try{if(kn.transition=null,Je=1,e)return e()}finally{Je=l,kn.transition=i,rt=t,(rt&6)===0&&gi()}}function hu(){Sn=ns.current,xt(ns)}function co(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,ig(i)),Ot!==null)for(i=Ot.return;i!==null;){var l=i;switch(Ec(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Qa();break;case 3:Zo(),xt(un),xt(Jt),Fc();break;case 5:Oc(l);break;case 4:Zo();break;case 13:xt(Ct);break;case 19:xt(Ct);break;case 10:Ac(l.type._context);break;case 22:case 23:hu()}i=i.return}if(Ht=e,Ot=e=ji(e.current,null),Yt=Sn=t,Bt=0,Js=null,au=xl=ao=0,pn=Xs=null,io!==null){for(t=0;t<io.length;t++)if(i=io[t],l=i.interleaved,l!==null){i.interleaved=null;var f=l.next,h=i.pending;if(h!==null){var w=h.next;h.next=f,l.next=w}i.pending=l}io=null}return e}function rp(e,t){do{var i=Ot;try{if(Ic(),ll.current=fl,cl){for(var l=kt.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}cl=!1}if(so=0,zt=Lt=kt=null,Ks=!1,Ws=0,su.current=null,i===null||i.return===null){Bt=1,Js=t,Ot=null;break}e:{var h=e,w=i.return,I=i,T=t;if(t=Yt,I.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var Q=T,ae=I,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var be=If(w);if(be!==null){be.flags&=-257,Af(be,w,I,h,t),be.mode&1&&kf(h,Q,t),t=be,T=Q;var Ce=t.updateQueue;if(Ce===null){var Ie=new Set;Ie.add(T),t.updateQueue=Ie}else Ce.add(T);break e}else{if((t&1)===0){kf(h,Q,t),mu();break e}T=Error(o(426))}}else if(bt&&I.mode&1){var At=If(w);if(At!==null){(At.flags&65536)===0&&(At.flags|=256),Af(At,w,I,h,t),Cc(es(T,I));break e}}h=T=es(T,I),Bt!==4&&(Bt=2),Xs===null?Xs=[h]:Xs.push(h),h=w;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var $=_f(h,T,t);Jd(h,$);break e;case 1:I=T;var B=h.type,W=h.stateNode;if((h.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(wi===null||!wi.has(W)))){h.flags|=65536,t&=-t,h.lanes|=t;var fe=Cf(h,I,t);Jd(h,fe);break e}}h=h.return}while(h!==null)}sp(i)}catch(Ae){t=Ae,Ot===i&&i!==null&&(Ot=i=i.return);continue}break}while(!0)}function ip(){var e=vl.current;return vl.current=fl,e===null?fl:e}function mu(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Ht===null||(ao&268435455)===0&&(xl&268435455)===0||Ei(Ht,Yt)}function _l(e,t){var i=rt;rt|=2;var l=ip();(Ht!==e||Yt!==t)&&(Br=null,co(e,t));do try{Ag();break}catch(f){rp(e,f)}while(!0);if(Ic(),rt=i,vl.current=l,Ot!==null)throw Error(o(261));return Ht=null,Yt=0,Bt}function Ag(){for(;Ot!==null;)op(Ot)}function Tg(){for(;Ot!==null&&!jt();)op(Ot)}function op(e){var t=cp(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,t===null?sp(e):Ot=t,su.current=null}function sp(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=bg(i,t,Sn),i!==null){Ot=i;return}}else{if(i=Eg(i,t),i!==null){i.flags&=32767,Ot=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Bt=6,Ot=null;return}}if(t=t.sibling,t!==null){Ot=t;return}Ot=t=e}while(t!==null);Bt===0&&(Bt=5)}function uo(e,t,i){var l=Je,f=kn.transition;try{kn.transition=null,Je=1,Ng(e,t,i,l)}finally{kn.transition=f,Je=l}return null}function Ng(e,t,i,l){do is();while(Si!==null);if((rt&6)!==0)throw Error(o(327));i=e.finishedWork;var f=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var h=i.lanes|i.childLanes;if(Io(e,h),e===Ht&&(Ot=Ht=null,Yt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Sl||(Sl=!0,up(Zr,function(){return is(),null})),h=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||h){h=kn.transition,kn.transition=null;var w=Je;Je=1;var I=rt;rt|=4,su.current=null,_g(e,i),Qf(i,e),K(mc),qi=!!hc,mc=hc=null,e.current=i,Cg(i),Sr(),rt=I,Je=w,kn.transition=h}else e.current=i;if(Sl&&(Sl=!1,Si=e,bl=f),h=e.pendingLanes,h===0&&(wi=null),Ca(i.stateNode),hn(e,lt()),t!==null)for(l=e.onRecoverableError,i=0;i<t.length;i++)f=t[i],l(f.value,{componentStack:f.stack,digest:f.digest});if(wl)throw wl=!1,e=cu,cu=null,e;return(bl&1)!==0&&e.tag!==0&&is(),h=e.pendingLanes,(h&1)!==0?e===uu?Zs++:(Zs=0,uu=e):Zs=0,gi(),null}function is(){if(Si!==null){var e=ws(bl),t=kn.transition,i=Je;try{if(kn.transition=null,Je=16>e?16:e,Si===null)var l=!1;else{if(e=Si,Si=null,bl=0,(rt&6)!==0)throw Error(o(331));var f=rt;for(rt|=4,_e=e.current;_e!==null;){var h=_e,w=h.child;if((_e.flags&16)!==0){var I=h.deletions;if(I!==null){for(var T=0;T<I.length;T++){var Q=I[T];for(_e=Q;_e!==null;){var ae=_e;switch(ae.tag){case 0:case 11:case 15:Qs(8,ae,h)}var le=ae.child;if(le!==null)le.return=ae,_e=le;else for(;_e!==null;){ae=_e;var oe=ae.sibling,be=ae.return;if(Kf(ae),ae===Q){_e=null;break}if(oe!==null){oe.return=be,_e=oe;break}_e=be}}}var Ce=h.alternate;if(Ce!==null){var Ie=Ce.child;if(Ie!==null){Ce.child=null;do{var At=Ie.sibling;Ie.sibling=null,Ie=At}while(Ie!==null)}}_e=h}}if((h.subtreeFlags&2064)!==0&&w!==null)w.return=h,_e=w;else e:for(;_e!==null;){if(h=_e,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Qs(9,h,h.return)}var $=h.sibling;if($!==null){$.return=h.return,_e=$;break e}_e=h.return}}var B=e.current;for(_e=B;_e!==null;){w=_e;var W=w.child;if((w.subtreeFlags&2064)!==0&&W!==null)W.return=w,_e=W;else e:for(w=B;_e!==null;){if(I=_e,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:yl(9,I)}}catch(Ae){It(I,I.return,Ae)}if(I===w){_e=null;break e}var fe=I.sibling;if(fe!==null){fe.return=I.return,_e=fe;break e}_e=I.return}}if(rt=f,gi(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(zi,e)}catch{}l=!0}return l}finally{Je=i,kn.transition=t}}return!1}function ap(e,t,i){t=es(i,t),t=_f(e,t,1),e=vi(e,t,1),t=an(),e!==null&&(jr(e,1,t),hn(e,t))}function It(e,t,i){if(e.tag===3)ap(e,e,i);else for(;t!==null;){if(t.tag===3){ap(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wi===null||!wi.has(l))){e=es(i,e),e=Cf(t,e,1),t=vi(t,e,1),e=an(),t!==null&&(jr(t,1,e),hn(t,e));break}}t=t.return}}function Rg(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),t=an(),e.pingedLanes|=e.suspendedLanes&i,Ht===e&&(Yt&i)===i&&(Bt===4||Bt===3&&(Yt&130023424)===Yt&&500>lt()-lu?co(e,0):au|=i),hn(e,t)}function lp(e,t){t===0&&((e.mode&1)===0?t=1:(t=Hi,Hi<<=1,(Hi&130023424)===0&&(Hi=4194304)));var i=an();e=Dr(e,t),e!==null&&(jr(e,t,i),hn(e,i))}function Pg(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),lp(e,i)}function Og(e,t){var i=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(o(314))}l!==null&&l.delete(t),lp(e,i)}var cp;cp=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)fn=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return fn=!1,Sg(e,t,i);fn=(e.flags&131072)!==0}else fn=!1,bt&&(t.flags&1048576)!==0&&zd(t,el,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;ml(e,t),e=t.pendingProps;var f=Wo(t,Jt.current);Xo(t,i),f=Mc(null,t,l,e,f,i);var h=Uc();return t.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dn(l)?(h=!0,Ja(t)):h=!1,t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Rc(t),f.updater=pl,t.stateNode=f,f._reactInternals=t,Wc(t,l,e,i),t=Qc(null,t,l,!0,h,i)):(t.tag=0,bt&&h&&bc(t),sn(null,t,f,i),t=t.child),t;case 16:l=t.elementType;e:{switch(ml(e,t),e=t.pendingProps,f=l._init,l=f(l._payload),t.type=l,f=t.tag=Fg(l),e=Un(l,e),f){case 0:t=Gc(null,t,l,e,i);break e;case 1:t=Df(null,t,l,e,i);break e;case 11:t=Tf(null,t,l,e,i);break e;case 14:t=Nf(null,t,l,Un(l.type,e),i);break e}throw Error(o(306,l,""))}return t;case 0:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:Un(l,f),Gc(e,t,l,f,i);case 1:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:Un(l,f),Df(e,t,l,f,i);case 3:e:{if(Ff(t),e===null)throw Error(o(387));l=t.pendingProps,h=t.memoizedState,f=h.element,Qd(e,t),sl(t,l,null,i);var w=t.memoizedState;if(l=w.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){f=es(Error(o(423)),t),t=Lf(e,t,l,i,f);break e}else if(l!==f){f=es(Error(o(424)),t),t=Lf(e,t,l,i,f);break e}else for(wn=pi(t.stateNode.containerInfo.firstChild),xn=t,bt=!0,Mn=null,i=Yd(t,null,l,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Go(),l===f){t=Lr(e,t,i);break e}sn(e,t,l,i)}t=t.child}return t;case 5:return Zd(t),e===null&&_c(t),l=t.type,f=t.pendingProps,h=e!==null?e.memoizedProps:null,w=f.children,gc(l,f)?w=null:h!==null&&gc(l,h)&&(t.flags|=32),Of(e,t),sn(e,t,w,i),t.child;case 6:return e===null&&_c(t),null;case 13:return Bf(e,t,i);case 4:return Pc(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Qo(t,null,l,i):sn(e,t,l,i),t.child;case 11:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:Un(l,f),Tf(e,t,l,f,i);case 7:return sn(e,t,t.pendingProps,i),t.child;case 8:return sn(e,t,t.pendingProps.children,i),t.child;case 12:return sn(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(l=t.type._context,f=t.pendingProps,h=t.memoizedProps,w=f.value,yt(rl,l._currentValue),l._currentValue=w,h!==null)if(M(h.value,w)){if(h.children===f.children&&!un.current){t=Lr(e,t,i);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var I=h.dependencies;if(I!==null){w=h.child;for(var T=I.firstContext;T!==null;){if(T.context===l){if(h.tag===1){T=Fr(-1,i&-i),T.tag=2;var Q=h.updateQueue;if(Q!==null){Q=Q.shared;var ae=Q.pending;ae===null?T.next=T:(T.next=ae.next,ae.next=T),Q.pending=T}}h.lanes|=i,T=h.alternate,T!==null&&(T.lanes|=i),Tc(h.return,i,t),I.lanes|=i;break}T=T.next}}else if(h.tag===10)w=h.type===t.type?null:h.child;else if(h.tag===18){if(w=h.return,w===null)throw Error(o(341));w.lanes|=i,I=w.alternate,I!==null&&(I.lanes|=i),Tc(w,i,t),w=h.sibling}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===t){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}sn(e,t,f.children,i),t=t.child}return t;case 9:return f=t.type,l=t.pendingProps.children,Xo(t,i),f=_n(f),l=l(f),t.flags|=1,sn(e,t,l,i),t.child;case 14:return l=t.type,f=Un(l,t.pendingProps),f=Un(l.type,f),Nf(e,t,l,f,i);case 15:return Rf(e,t,t.type,t.pendingProps,i);case 17:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:Un(l,f),ml(e,t),t.tag=1,dn(l)?(e=!0,Ja(t)):e=!1,Xo(t,i),Ef(t,l,f),Wc(t,l,f,i),Qc(null,t,l,!0,e,i);case 19:return Uf(e,t,i);case 22:return Pf(e,t,i)}throw Error(o(156,t.tag))};function up(e,t){return vs(e,t)}function Dg(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,t,i,l){return new Dg(e,t,i,l)}function gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fg(e){if(typeof e=="function")return gu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===et)return 11;if(e===Rt)return 14}return 2}function ji(e,t){var i=e.alternate;return i===null?(i=In(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Cl(e,t,i,l,f,h){var w=2;if(l=e,typeof e=="function")gu(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case re:return fo(i.children,f,h,t);case Fe:w=8,f|=8;break;case Ze:return e=In(12,i,t,f|2),e.elementType=Ze,e.lanes=h,e;case ze:return e=In(13,i,t,f),e.elementType=ze,e.lanes=h,e;case Et:return e=In(19,i,t,f),e.elementType=Et,e.lanes=h,e;case pt:return kl(i,f,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ue:w=10;break e;case ft:w=9;break e;case et:w=11;break e;case Rt:w=14;break e;case it:w=16,l=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=In(w,i,t,f),t.elementType=e,t.type=l,t.lanes=h,t}function fo(e,t,i,l){return e=In(7,e,l,t),e.lanes=i,e}function kl(e,t,i,l){return e=In(22,e,l,t),e.elementType=pt,e.lanes=i,e.stateNode={isHidden:!1},e}function yu(e,t,i){return e=In(6,e,null,t),e.lanes=i,e}function vu(e,t,i){return t=In(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lg(e,t,i,l,f){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ki(0),this.expirationTimes=Ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.identifierPrefix=l,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function xu(e,t,i,l,f,h,w,I,T){return e=new Lg(e,t,i,I,T),t===1?(t=1,h===!0&&(t|=8)):t=0,h=In(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rc(h),e}function Bg(e,t,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:De,key:l==null?null:""+l,children:e,containerInfo:t,implementation:i}}function dp(e){if(!e)return mi;e=e._reactInternals;e:{if(Qt(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(dn(i))return Bd(e,i,t)}return t}function fp(e,t,i,l,f,h,w,I,T){return e=xu(i,l,!0,e,f,h,w,I,T),e.context=dp(null),i=e.current,l=an(),f=bi(i),h=Fr(l,f),h.callback=t??null,vi(i,h,f),e.current.lanes=f,jr(e,f,l),hn(e,l),e}function Il(e,t,i,l){var f=t.current,h=an(),w=bi(f);return i=dp(i),t.context===null?t.context=i:t.pendingContext=i,t=Fr(h,w),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=vi(f,t,w),e!==null&&($n(e,f,w,h),ol(e,f,w)),w}function Al(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function pp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function wu(e,t){pp(e,t),(e=e.alternate)&&pp(e,t)}function Mg(){return null}var hp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Su(e){this._internalRoot=e}Tl.prototype.render=Su.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Il(e,t,null,null)},Tl.prototype.unmount=Su.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lo(function(){Il(null,e,null,null)}),t[Nr]=null}};function Tl(e){this._internalRoot=e}Tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ta();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Ft.length&&t!==0&&t<Ft[i].priority;i++);Ft.splice(i,0,e),i===0&&Ra(e)}};function bu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mp(){}function Ug(e,t,i,l,f){if(f){if(typeof l=="function"){var h=l;l=function(){var Q=Al(w);h.call(Q)}}var w=fp(t,l,e,0,null,!1,!1,"",mp);return e._reactRootContainer=w,e[Nr]=w.current,Ls(e.nodeType===8?e.parentNode:e),lo(),w}for(;f=e.lastChild;)e.removeChild(f);if(typeof l=="function"){var I=l;l=function(){var Q=Al(T);I.call(Q)}}var T=xu(e,0,!1,null,null,!1,!1,"",mp);return e._reactRootContainer=T,e[Nr]=T.current,Ls(e.nodeType===8?e.parentNode:e),lo(function(){Il(t,T,i,l)}),T}function Rl(e,t,i,l,f){var h=i._reactRootContainer;if(h){var w=h;if(typeof f=="function"){var I=f;f=function(){var T=Al(w);I.call(T)}}Il(t,w,e,f)}else w=Ug(i,t,e,f,l);return Al(w)}Aa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ei(t.pendingLanes);i!==0&&(Ao(t,i|1),hn(t,lt()),(rt&6)===0&&(rs=lt()+500,gi()))}break;case 13:lo(function(){var l=Dr(e,1);if(l!==null){var f=an();$n(l,e,1,f)}}),wu(e,1)}},Ge=function(e){if(e.tag===13){var t=Dr(e,134217728);if(t!==null){var i=an();$n(t,e,134217728,i)}wu(e,134217728)}},Ss=function(e){if(e.tag===13){var t=bi(e),i=Dr(e,t);if(i!==null){var l=an();$n(i,e,t,l)}wu(e,t)}},Ta=function(){return Je},Na=function(e,t){var i=Je;try{return Je=e,t()}finally{Je=i}},me=function(e,t,i){switch(t){case"input":if(ps(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var f=Ga(l);if(!f)throw Error(o(90));at(l),ps(l,f)}}}break;case"textarea":ms(e,i);break;case"select":t=i.value,t!=null&&Vt(e,!!i.multiple,t,!1)}},ba=pu,Ea=lo;var zg={usingClientEntryPoint:!1,Events:[Us,Vo,Ga,gs,_o,pu]},ea={findFiberByHostInstance:eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hg={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ys(e),e===null?null:e.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||Mg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{zi=Pl.inject(Hg),nn=Pl}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zg,mn.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(t))throw Error(o(200));return Bg(e,t,null,i)},mn.createRoot=function(e,t){if(!bu(e))throw Error(o(299));var i=!1,l="",f=hp;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=xu(e,1,!1,null,null,i,!1,l,f),e[Nr]=t.current,Ls(e.nodeType===8?e.parentNode:e),new Su(t)},mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=ys(t),e=e===null?null:e.stateNode,e},mn.flushSync=function(e){return lo(e)},mn.hydrate=function(e,t,i){if(!Nl(t))throw Error(o(200));return Rl(null,e,t,!0,i)},mn.hydrateRoot=function(e,t,i){if(!bu(e))throw Error(o(405));var l=i!=null&&i.hydratedSources||null,f=!1,h="",w=hp;if(i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),t=fp(t,null,e,1,i??null,f,!1,h,w),e[Nr]=t.current,Ls(e),l)for(e=0;e<l.length;e++)i=l[e],f=i._getVersion,f=f(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,f]:t.mutableSourceEagerHydrationData.push(i,f);return new Tl(t)},mn.render=function(e,t,i){if(!Nl(t))throw Error(o(200));return Rl(null,e,t,!1,i)},mn.unmountComponentAtNode=function(e){if(!Nl(e))throw Error(o(40));return e._reactRootContainer?(lo(function(){Rl(null,null,e,!1,function(){e._reactRootContainer=null,e[Nr]=null})}),!0):!1},mn.unstable_batchedUpdates=pu,mn.unstable_renderSubtreeIntoContainer=function(e,t,i,l){if(!Nl(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Rl(e,t,i,!1,l)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var Ep;function Ih(){if(Ep)return _u.exports;Ep=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),_u.exports=Xg(),_u.exports}var jp;function Zg(){if(jp)return Ol;jp=1;var n=Ih();return Ol.createRoot=n.createRoot,Ol.hydrateRoot=n.hydrateRoot,Ol}var ey=Zg();const ty=cd(ey);Ih();function ca(){return ca=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(n[c]=o[c])}return n},ca.apply(this,arguments)}var Ai;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ai||(Ai={}));const _p="popstate";function ny(n){n===void 0&&(n={});function r(c,d){let{pathname:g,search:y,hash:S}=c.location;return Vu("",{pathname:g,search:y,hash:S},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function o(c,d){return typeof d=="string"?d:Vl(d)}return iy(r,o,null,n)}function Tt(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function dd(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function ry(){return Math.random().toString(36).substr(2,8)}function Cp(n,r){return{usr:n.state,key:n.key,idx:r}}function Vu(n,r,o,c){return o===void 0&&(o=null),ca({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof r=="string"?as(r):r,{state:o,key:r&&r.key||c||ry()})}function Vl(n){let{pathname:r="/",search:o="",hash:c=""}=n;return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),c&&c!=="#"&&(r+=c.charAt(0)==="#"?c:"#"+c),r}function as(n){let r={};if(n){let o=n.indexOf("#");o>=0&&(r.hash=n.substr(o),n=n.substr(0,o));let c=n.indexOf("?");c>=0&&(r.search=n.substr(c),n=n.substr(0,c)),n&&(r.pathname=n)}return r}function iy(n,r,o,c){c===void 0&&(c={});let{window:d=document.defaultView,v5Compat:g=!1}=c,y=d.history,S=Ai.Pop,b=null,_=C();_==null&&(_=0,y.replaceState(ca({},y.state,{idx:_}),""));function C(){return(y.state||{idx:null}).idx}function k(){S=Ai.Pop;let U=C(),de=U==null?null:U-_;_=U,b&&b({action:S,location:Y.location,delta:de})}function H(U,de){S=Ai.Push;let Se=Vu(Y.location,U,de);_=C()+1;let ee=Cp(Se,_),xe=Y.createHref(Se);try{y.pushState(ee,"",xe)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;d.location.assign(xe)}g&&b&&b({action:S,location:Y.location,delta:1})}function ne(U,de){S=Ai.Replace;let Se=Vu(Y.location,U,de);_=C();let ee=Cp(Se,_),xe=Y.createHref(Se);y.replaceState(ee,"",xe),g&&b&&b({action:S,location:Y.location,delta:0})}function q(U){let de=d.location.origin!=="null"?d.location.origin:d.location.href,Se=typeof U=="string"?U:Vl(U);return Se=Se.replace(/ $/,"%20"),Tt(de,"No window.location.(origin|href) available to create URL for href: "+Se),new URL(Se,de)}let Y={get action(){return S},get location(){return n(d,y)},listen(U){if(b)throw new Error("A history only accepts one active listener");return d.addEventListener(_p,k),b=U,()=>{d.removeEventListener(_p,k),b=null}},createHref(U){return r(d,U)},createURL:q,encodeLocation(U){let de=q(U);return{pathname:de.pathname,search:de.search,hash:de.hash}},push:H,replace:ne,go(U){return y.go(U)}};return Y}var kp;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(kp||(kp={}));function oy(n,r,o){return o===void 0&&(o="/"),sy(n,r,o)}function sy(n,r,o,c){let d=typeof r=="string"?as(r):r,g=fd(d.pathname||"/",o);if(g==null)return null;let y=Ah(n);ay(y);let S=null;for(let b=0;S==null&&b<y.length;++b){let _=xy(g);S=gy(y[b],_)}return S}function Ah(n,r,o,c){r===void 0&&(r=[]),o===void 0&&(o=[]),c===void 0&&(c="");let d=(g,y,S)=>{let b={relativePath:S===void 0?g.path||"":S,caseSensitive:g.caseSensitive===!0,childrenIndex:y,route:g};b.relativePath.startsWith("/")&&(Tt(b.relativePath.startsWith(c),'Absolute route path "'+b.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),b.relativePath=b.relativePath.slice(c.length));let _=Ti([c,b.relativePath]),C=o.concat(b);g.children&&g.children.length>0&&(Tt(g.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),Ah(g.children,r,C,_)),!(g.path==null&&!g.index)&&r.push({path:_,score:hy(_,g.index),routesMeta:C})};return n.forEach((g,y)=>{var S;if(g.path===""||!((S=g.path)!=null&&S.includes("?")))d(g,y);else for(let b of Th(g.path))d(g,y,b)}),r}function Th(n){let r=n.split("/");if(r.length===0)return[];let[o,...c]=r,d=o.endsWith("?"),g=o.replace(/\?$/,"");if(c.length===0)return d?[g,""]:[g];let y=Th(c.join("/")),S=[];return S.push(...y.map(b=>b===""?g:[g,b].join("/"))),d&&S.push(...y),S.map(b=>n.startsWith("/")&&b===""?"/":b)}function ay(n){n.sort((r,o)=>r.score!==o.score?o.score-r.score:my(r.routesMeta.map(c=>c.childrenIndex),o.routesMeta.map(c=>c.childrenIndex)))}const ly=/^:[\w-]+$/,cy=3,uy=2,dy=1,fy=10,py=-2,Ip=n=>n==="*";function hy(n,r){let o=n.split("/"),c=o.length;return o.some(Ip)&&(c+=py),r&&(c+=uy),o.filter(d=>!Ip(d)).reduce((d,g)=>d+(ly.test(g)?cy:g===""?dy:fy),c)}function my(n,r){return n.length===r.length&&n.slice(0,-1).every((c,d)=>c===r[d])?n[n.length-1]-r[r.length-1]:0}function gy(n,r,o){let{routesMeta:c}=n,d={},g="/",y=[];for(let S=0;S<c.length;++S){let b=c[S],_=S===c.length-1,C=g==="/"?r:r.slice(g.length)||"/",k=yy({path:b.relativePath,caseSensitive:b.caseSensitive,end:_},C),H=b.route;if(!k)return null;Object.assign(d,k.params),y.push({params:d,pathname:Ti([g,k.pathname]),pathnameBase:jy(Ti([g,k.pathnameBase])),route:H}),k.pathnameBase!=="/"&&(g=Ti([g,k.pathnameBase]))}return y}function yy(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[o,c]=vy(n.path,n.caseSensitive,n.end),d=r.match(o);if(!d)return null;let g=d[0],y=g.replace(/(.)\/+$/,"$1"),S=d.slice(1);return{params:c.reduce((_,C,k)=>{let{paramName:H,isOptional:ne}=C;if(H==="*"){let Y=S[k]||"";y=g.slice(0,g.length-Y.length).replace(/(.)\/+$/,"$1")}const q=S[k];return ne&&!q?_[H]=void 0:_[H]=(q||"").replace(/%2F/g,"/"),_},{}),pathname:g,pathnameBase:y,pattern:n}}function vy(n,r,o){r===void 0&&(r=!1),o===void 0&&(o=!0),dd(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let c=[],d="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,S,b)=>(c.push({paramName:S,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(c.push({paramName:"*"}),d+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?d+="\\/*$":n!==""&&n!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,r?void 0:"i"),c]}function xy(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return dd(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),n}}function fd(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,c=n.charAt(o);return c&&c!=="/"?null:n.slice(o)||"/"}const wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sy=n=>wy.test(n);function by(n,r){r===void 0&&(r="/");let{pathname:o,search:c="",hash:d=""}=typeof n=="string"?as(n):n,g;if(o)if(Sy(o))g=o;else{if(o.includes("//")){let y=o;o=o.replace(/\/\/+/g,"/"),dd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(y+" -> "+o))}o.startsWith("/")?g=Ap(o.substring(1),"/"):g=Ap(o,r)}else g=r;return{pathname:g,search:_y(c),hash:Cy(d)}}function Ap(n,r){let o=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(d=>{d===".."?o.length>1&&o.pop():d!=="."&&o.push(d)}),o.length>1?o.join("/"):"/"}function Iu(n,r,o,c){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ey(n){return n.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function pd(n,r){let o=Ey(n);return r?o.map((c,d)=>d===o.length-1?c.pathname:c.pathnameBase):o.map(c=>c.pathnameBase)}function hd(n,r,o,c){c===void 0&&(c=!1);let d;typeof n=="string"?d=as(n):(d=ca({},n),Tt(!d.pathname||!d.pathname.includes("?"),Iu("?","pathname","search",d)),Tt(!d.pathname||!d.pathname.includes("#"),Iu("#","pathname","hash",d)),Tt(!d.search||!d.search.includes("#"),Iu("#","search","hash",d)));let g=n===""||d.pathname==="",y=g?"/":d.pathname,S;if(y==null)S=o;else{let k=r.length-1;if(!c&&y.startsWith("..")){let H=y.split("/");for(;H[0]==="..";)H.shift(),k-=1;d.pathname=H.join("/")}S=k>=0?r[k]:"/"}let b=by(d,S),_=y&&y!=="/"&&y.endsWith("/"),C=(g||y===".")&&o.endsWith("/");return!b.pathname.endsWith("/")&&(_||C)&&(b.pathname+="/"),b}const Ti=n=>n.join("/").replace(/\/\/+/g,"/"),jy=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_y=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Cy=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ky(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Nh=["post","put","patch","delete"];new Set(Nh);const Iy=["get",...Nh];new Set(Iy);function ua(){return ua=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(n[c]=o[c])}return n},ua.apply(this,arguments)}const md=V.createContext(null),Ay=V.createContext(null),Oi=V.createContext(null),Gl=V.createContext(null),Di=V.createContext({outlet:null,matches:[],isDataRoute:!1}),Rh=V.createContext(null);function Ty(n,r){let{relative:o}=r===void 0?{}:r;ls()||Tt(!1);let{basename:c,navigator:d}=V.useContext(Oi),{hash:g,pathname:y,search:S}=Oh(n,{relative:o}),b=y;return c!=="/"&&(b=y==="/"?c:Ti([c,y])),d.createHref({pathname:b,search:S,hash:g})}function ls(){return V.useContext(Gl)!=null}function cs(){return ls()||Tt(!1),V.useContext(Gl).location}function Ph(n){V.useContext(Oi).static||V.useLayoutEffect(n)}function Vr(){let{isDataRoute:n}=V.useContext(Di);return n?$y():Ny()}function Ny(){ls()||Tt(!1);let n=V.useContext(md),{basename:r,future:o,navigator:c}=V.useContext(Oi),{matches:d}=V.useContext(Di),{pathname:g}=cs(),y=JSON.stringify(pd(d,o.v7_relativeSplatPath)),S=V.useRef(!1);return Ph(()=>{S.current=!0}),V.useCallback(function(_,C){if(C===void 0&&(C={}),!S.current)return;if(typeof _=="number"){c.go(_);return}let k=hd(_,JSON.parse(y),g,C.relative==="path");n==null&&r!=="/"&&(k.pathname=k.pathname==="/"?r:Ti([r,k.pathname])),(C.replace?c.replace:c.push)(k,C.state,C)},[r,c,y,g,n])}function Oh(n,r){let{relative:o}=r===void 0?{}:r,{future:c}=V.useContext(Oi),{matches:d}=V.useContext(Di),{pathname:g}=cs(),y=JSON.stringify(pd(d,c.v7_relativeSplatPath));return V.useMemo(()=>hd(n,JSON.parse(y),g,o==="path"),[n,y,g,o])}function Ry(n,r){return Py(n,r)}function Py(n,r,o,c){ls()||Tt(!1);let{navigator:d}=V.useContext(Oi),{matches:g}=V.useContext(Di),y=g[g.length-1],S=y?y.params:{};y&&y.pathname;let b=y?y.pathnameBase:"/";y&&y.route;let _=cs(),C;if(r){var k;let U=typeof r=="string"?as(r):r;b==="/"||(k=U.pathname)!=null&&k.startsWith(b)||Tt(!1),C=U}else C=_;let H=C.pathname||"/",ne=H;if(b!=="/"){let U=b.replace(/^\//,"").split("/");ne="/"+H.replace(/^\//,"").split("/").slice(U.length).join("/")}let q=oy(n,{pathname:ne}),Y=By(q&&q.map(U=>Object.assign({},U,{params:Object.assign({},S,U.params),pathname:Ti([b,d.encodeLocation?d.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?b:Ti([b,d.encodeLocation?d.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),g,o,c);return r&&Y?V.createElement(Gl.Provider,{value:{location:ua({pathname:"/",search:"",hash:"",state:null,key:"default"},C),navigationType:Ai.Pop}},Y):Y}function Oy(){let n=Hy(),r=ky(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),o=n instanceof Error?n.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},r),o?V.createElement("pre",{style:d},o):null,null)}const Dy=V.createElement(Oy,null);class Fy extends V.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){console.error("React Router caught the following error during render",r,o)}render(){return this.state.error!==void 0?V.createElement(Di.Provider,{value:this.props.routeContext},V.createElement(Rh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ly(n){let{routeContext:r,match:o,children:c}=n,d=V.useContext(md);return d&&d.static&&d.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=o.route.id),V.createElement(Di.Provider,{value:r},c)}function By(n,r,o,c){var d;if(r===void 0&&(r=[]),o===void 0&&(o=null),c===void 0&&(c=null),n==null){var g;if(!o)return null;if(o.errors)n=o.matches;else if((g=c)!=null&&g.v7_partialHydration&&r.length===0&&!o.initialized&&o.matches.length>0)n=o.matches;else return null}let y=n,S=(d=o)==null?void 0:d.errors;if(S!=null){let C=y.findIndex(k=>k.route.id&&S?.[k.route.id]!==void 0);C>=0||Tt(!1),y=y.slice(0,Math.min(y.length,C+1))}let b=!1,_=-1;if(o&&c&&c.v7_partialHydration)for(let C=0;C<y.length;C++){let k=y[C];if((k.route.HydrateFallback||k.route.hydrateFallbackElement)&&(_=C),k.route.id){let{loaderData:H,errors:ne}=o,q=k.route.loader&&H[k.route.id]===void 0&&(!ne||ne[k.route.id]===void 0);if(k.route.lazy||q){b=!0,_>=0?y=y.slice(0,_+1):y=[y[0]];break}}}return y.reduceRight((C,k,H)=>{let ne,q=!1,Y=null,U=null;o&&(ne=S&&k.route.id?S[k.route.id]:void 0,Y=k.route.errorElement||Dy,b&&(_<0&&H===0?(Vy("route-fallback"),q=!0,U=null):_===H&&(q=!0,U=k.route.hydrateFallbackElement||null)));let de=r.concat(y.slice(0,H+1)),Se=()=>{let ee;return ne?ee=Y:q?ee=U:k.route.Component?ee=V.createElement(k.route.Component,null):k.route.element?ee=k.route.element:ee=C,V.createElement(Ly,{match:k,routeContext:{outlet:C,matches:de,isDataRoute:o!=null},children:ee})};return o&&(k.route.ErrorBoundary||k.route.errorElement||H===0)?V.createElement(Fy,{location:o.location,revalidation:o.revalidation,component:Y,error:ne,children:Se(),routeContext:{outlet:null,matches:de,isDataRoute:!0}}):Se()},null)}var Dh=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(Dh||{}),Fh=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(Fh||{});function My(n){let r=V.useContext(md);return r||Tt(!1),r}function Uy(n){let r=V.useContext(Ay);return r||Tt(!1),r}function zy(n){let r=V.useContext(Di);return r||Tt(!1),r}function Lh(n){let r=zy(),o=r.matches[r.matches.length-1];return o.route.id||Tt(!1),o.route.id}function Hy(){var n;let r=V.useContext(Rh),o=Uy(),c=Lh();return r!==void 0?r:(n=o.errors)==null?void 0:n[c]}function $y(){let{router:n}=My(Dh.UseNavigateStable),r=Lh(Fh.UseNavigateStable),o=V.useRef(!1);return Ph(()=>{o.current=!0}),V.useCallback(function(d,g){g===void 0&&(g={}),o.current&&(typeof d=="number"?n.navigate(d):n.navigate(d,ua({fromRouteId:r},g)))},[n,r])}const Tp={};function Vy(n,r,o){Tp[n]||(Tp[n]=!0)}function Ky(n,r){n?.v7_startTransition,n?.v7_relativeSplatPath}function Dl(n){let{to:r,replace:o,state:c,relative:d}=n;ls()||Tt(!1);let{future:g,static:y}=V.useContext(Oi),{matches:S}=V.useContext(Di),{pathname:b}=cs(),_=Vr(),C=hd(r,pd(S,g.v7_relativeSplatPath),b,d==="path"),k=JSON.stringify(C);return V.useEffect(()=>_(JSON.parse(k),{replace:o,state:c,relative:d}),[_,k,d,o,c]),null}function Dt(n){Tt(!1)}function Wy(n){let{basename:r="/",children:o=null,location:c,navigationType:d=Ai.Pop,navigator:g,static:y=!1,future:S}=n;ls()&&Tt(!1);let b=r.replace(/^\/*/,"/"),_=V.useMemo(()=>({basename:b,navigator:g,static:y,future:ua({v7_relativeSplatPath:!1},S)}),[b,S,g,y]);typeof c=="string"&&(c=as(c));let{pathname:C="/",search:k="",hash:H="",state:ne=null,key:q="default"}=c,Y=V.useMemo(()=>{let U=fd(C,b);return U==null?null:{location:{pathname:U,search:k,hash:H,state:ne,key:q},navigationType:d}},[b,C,k,H,ne,q,d]);return Y==null?null:V.createElement(Oi.Provider,{value:_},V.createElement(Gl.Provider,{children:o,value:Y}))}function Np(n){let{children:r,location:o}=n;return Ry(Ku(r),o)}new Promise(()=>{});function Ku(n,r){r===void 0&&(r=[]);let o=[];return V.Children.forEach(n,(c,d)=>{if(!V.isValidElement(c))return;let g=[...r,d];if(c.type===V.Fragment){o.push.apply(o,Ku(c.props.children,g));return}c.type!==Dt&&Tt(!1),!c.props.index||!c.props.children||Tt(!1);let y={id:c.props.id||g.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(y.children=Ku(c.props.children,g)),o.push(y)}),o}function Wu(){return Wu=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(n[c]=o[c])}return n},Wu.apply(this,arguments)}function qy(n,r){if(n==null)return{};var o={},c=Object.keys(n),d,g;for(g=0;g<c.length;g++)d=c[g],!(r.indexOf(d)>=0)&&(o[d]=n[d]);return o}function Yy(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Gy(n,r){return n.button===0&&(!r||r==="_self")&&!Yy(n)}function qu(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((r,o)=>{let c=n[o];return r.concat(Array.isArray(c)?c.map(d=>[o,d]):[[o,c]])},[]))}function Qy(n,r){let o=qu(n);return r&&r.forEach((c,d)=>{o.has(d)||r.getAll(d).forEach(g=>{o.append(d,g)})}),o}const Jy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xy="6";try{window.__reactRouterVersion=Xy}catch{}const Zy="startTransition",Rp=Gg[Zy];function ev(n){let{basename:r,children:o,future:c,window:d}=n,g=V.useRef();g.current==null&&(g.current=ny({window:d,v5Compat:!0}));let y=g.current,[S,b]=V.useState({action:y.action,location:y.location}),{v7_startTransition:_}=c||{},C=V.useCallback(k=>{_&&Rp?Rp(()=>b(k)):b(k)},[b,_]);return V.useLayoutEffect(()=>y.listen(C),[y,C]),V.useEffect(()=>Ky(c),[c]),V.createElement(Wy,{basename:r,children:o,location:S.location,navigationType:S.action,navigator:y,future:c})}const tv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ur=V.forwardRef(function(r,o){let{onClick:c,relative:d,reloadDocument:g,replace:y,state:S,target:b,to:_,preventScrollReset:C,viewTransition:k}=r,H=qy(r,Jy),{basename:ne}=V.useContext(Oi),q,Y=!1;if(typeof _=="string"&&nv.test(_)&&(q=_,tv))try{let ee=new URL(window.location.href),xe=_.startsWith("//")?new URL(ee.protocol+_):new URL(_),ge=fd(xe.pathname,ne);xe.origin===ee.origin&&ge!=null?_=ge+xe.search+xe.hash:Y=!0}catch{}let U=Ty(_,{relative:d}),de=rv(_,{replace:y,state:S,target:b,preventScrollReset:C,relative:d,viewTransition:k});function Se(ee){c&&c(ee),ee.defaultPrevented||de(ee)}return V.createElement("a",Wu({},H,{href:q||U,onClick:Y||g?c:Se,ref:o,target:b}))});var Pp;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Pp||(Pp={}));var Op;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Op||(Op={}));function rv(n,r){let{target:o,replace:c,state:d,preventScrollReset:g,relative:y,viewTransition:S}=r===void 0?{}:r,b=Vr(),_=cs(),C=Oh(n,{relative:y});return V.useCallback(k=>{if(Gy(k,o)){k.preventDefault();let H=c!==void 0?c:Vl(_)===Vl(C);b(n,{replace:H,state:d,preventScrollReset:g,relative:y,viewTransition:S})}},[_,b,C,c,d,o,n,g,y,S])}function iv(n){let r=V.useRef(qu(n)),o=V.useRef(!1),c=cs(),d=V.useMemo(()=>Qy(c.search,o.current?null:r.current),[c.search]),g=Vr(),y=V.useCallback((S,b)=>{const _=qu(typeof S=="function"?S(d):S);o.current=!0,g("?"+_,b)},[g,d]);return[d,y]}const ov=[{id:"drug-interactions",type:"tool",category:"Clinical Tools",name:"Drug Interactions",icon:"",description:"Check medication interactions",prompt:"Check interactions between warfarin and aspirin."},{id:"calculators",type:"tool",category:"Clinical Tools",name:"Medical Calculators",icon:"",description:"SOFA, APACHE, CHA2DS2-VASc",prompt:"Calculate SOFA score for: PaO2/FiO2 180, platelets 90, bilirubin 2.4, MAP 62, GCS 12, creatinine 1.9.",highlights:[{title:"SOFA Score",subtitle:"Sepsis assessment"},{title:"CHA2DS2-VASc",subtitle:"Stroke risk"},{title:"GFR",subtitle:"Kidney function"},{title:"BMI",subtitle:"Body mass"}]},{id:"protocols",type:"tool",category:"Clinical Tools",name:"Clinical Protocols",icon:"",description:"Evidence-based guidelines",prompt:"Summarize the sepsis protocol for initial management in the ED."},{id:"lab-interpreter",type:"tool",category:"Clinical Tools",name:"Lab Interpreter",icon:"",description:"Interpret lab values",prompt:"Interpret: Na 128, K 5.2, Cr 2.1, WBC 15.2, lactate 3.1."},{id:"diagnosis",type:"tool",category:"Clinical Tools",name:"Differential Diagnosis",icon:"",description:"Generate DDx",prompt:"Generate a differential for chest pain with diaphoresis and nausea."},{id:"procedures",type:"tool",category:"Clinical Tools",name:"Procedures",icon:"",description:"Step-by-step guides",prompt:"Give a step-by-step guide for central line placement."},{id:"ai-workflow",type:"feature",category:"AI Workflow",name:"AI Workflow Assistant",icon:"",description:"Guided clinical workflows and checklists",prompt:"Create a sepsis workflow checklist for ED admission."},{id:"audit-logging",type:"feature",category:"Compliance",name:"Audit Logging",icon:"",description:"HIPAA/GDPR audit trails for access and actions",prompt:"Show how to review audit logs for patient record access."},{id:"drug-database",type:"feature",category:"Clinical Data",name:"Drug Database",icon:"",description:"Comprehensive medication reference and dosing info",prompt:"Provide dosing guidance for amoxicillin in adults."},{id:"offline-access",type:"feature",category:"Platform",name:"Offline Access",icon:"",description:"Use key clinical tools without connectivity",prompt:"What features are available offline?"},{id:"fhir-hl7-dicom",type:"feature",category:"Integrations",name:"FHIR/HL7/DICOM Integration",icon:"",description:"Interoperability with EHR and imaging systems",prompt:"Explain how to integrate FHIR data sources."},{id:"custom-branding",type:"feature",category:"Platform",name:"Custom Branding",icon:"",description:"White-labeling and tenant branding options",prompt:"How do I configure custom branding for an institution?"},{id:"dedicated-support",type:"feature",category:"Support",name:"Dedicated Support",icon:"",description:"Priority support for enterprise deployments",prompt:"What is included in dedicated support?"},{id:"sso-saml",type:"feature",category:"Security",name:"SSO/SAML",icon:"",description:"Enterprise single sign-on and identity federation",prompt:"What is required to enable SSO/SAML integration?"},{id:"team-management",type:"feature",category:"Operations",name:"Team Management",icon:"",description:"Roles, permissions, and multi-user administration",prompt:"How do I manage roles and permissions?"},{id:"ai-query-limits",type:"feature",category:"AI Usage",name:"AI Query Limits",icon:"",description:"Daily AI query thresholds by plan tier",prompt:"What are the AI query limits for each plan?"}],Bh=n=>ov.find(r=>r.id===n),sv=({tool:n,feature:r})=>{const o=r||n;if(!o)return null;const c=Bh(o);return s.jsxs("div",{style:{position:"absolute",bottom:"100px",left:"50%",transform:"translateX(-50%)",maxWidth:"900px",width:"calc(100% - 40px)",background:"rgba(0, 255, 136, 0.1)",border:"1px solid rgba(0, 255, 136, 0.3)",borderRadius:"12px",padding:"20px",color:"var(--text-color)"},children:[!c&&s.jsx("div",{children:"Tool information not available"}),c&&s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[s.jsx("div",{style:{fontSize:"20px"},children:c.icon}),s.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600},children:c.name}),s.jsx("div",{style:{marginLeft:"auto",fontSize:"11px",padding:"4px 8px",borderRadius:"12px",background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.7)"},children:c.category})]}),s.jsx("p",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)",marginBottom:"12px"},children:c.description}),c.highlights&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",fontSize:"13px",marginBottom:"12px"},children:c.highlights.map(d=>s.jsxs("div",{style:{padding:"10px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px"},children:[s.jsx("div",{style:{fontWeight:600,marginBottom:"4px"},children:d.title}),s.jsx("div",{style:{color:"rgba(255, 255, 255, 0.6)"},children:d.subtitle})]},d.title))}),c.prompt&&s.jsxs("div",{style:{fontSize:"13px",color:"rgba(255, 255, 255, 0.7)"},children:["Try asking: ",s.jsx("span",{style:{color:"#00FF88"},children:c.prompt})]})]})]})},av=({toolResult:n})=>{if(!n)return null;const{toolId:r,toolName:o,result:c}=n,{data:d,interpretation:g,citations:y,warnings:S,errors:b,disclaimer:_,timestamp:C}=c,k=()=>{switch(r){case"sofa-calculator":return lv(d);case"drug-interaction-checker":return cv(d);case"lab-interpreter":return uv(d);default:return dv(d)}};return s.jsxs(Card,{className:"tool-result-card",title:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(ExperimentOutlined,{style:{fontSize:"18px",color:"#1890ff"}}),s.jsx("span",{children:o})]}),bordered:!0,style:{marginTop:"12px",marginBottom:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.18)",borderRadius:"12px"},headStyle:{background:"rgba(255, 255, 255, 0.1)",borderBottom:"1px solid rgba(255, 255, 255, 0.18)",color:"#fff",fontWeight:600},bodyStyle:{background:"rgba(255, 255, 255, 0.95)",padding:"20px"},children:[g&&s.jsx(Alert,{message:g,type:b?.length>0?"error":S?.length>0?"warning":"info",showIcon:!0,style:{marginBottom:"16px"}}),k(),S&&S.length>0&&s.jsx(Alert,{message:"Warnings",description:s.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:S.map((H,ne)=>s.jsx("li",{children:H},ne))}),type:"warning",icon:s.jsx(WarningOutlined,{}),style:{marginTop:"16px"}}),y&&y.length>0&&s.jsxs("div",{style:{marginTop:"16px"},children:[s.jsx(Divider,{}),s.jsxs(Text,{type:"secondary",style:{fontSize:"12px"},children:[s.jsx(InfoCircleOutlined,{})," ",s.jsx("strong",{children:"References:"})]}),s.jsx("ul",{style:{margin:"8px 0 0 0",paddingLeft:"20px",fontSize:"12px"},children:y.map((H,ne)=>s.jsxs("li",{children:[H.title," - ",H.reference,H.url&&s.jsxs(s.Fragment,{children:[" ",s.jsx("a",{href:H.url,target:"_blank",rel:"noopener noreferrer",children:"[Link]"})]})]},ne))})]}),_&&s.jsxs(Paragraph,{type:"secondary",style:{fontSize:"11px",marginTop:"16px",marginBottom:0,fontStyle:"italic"},children:[" ",_]}),C&&s.jsxs(Text,{type:"secondary",style:{fontSize:"11px",display:"block",marginTop:"8px"},children:["Executed at ",new Date(C).toLocaleString()]})]})},lv=n=>{const r=[{label:"Respiration",value:n.respirationScore,key:"respiration"},{label:"Coagulation",value:n.coagulationScore,key:"coagulation"},{label:"Liver",value:n.liverScore,key:"liver"},{label:"Cardiovascular",value:n.cardiovascularScore,key:"cardiovascular"},{label:"CNS",value:n.cnsScore,key:"cns"},{label:"Renal",value:n.renalScore,key:"renal"}].filter(o=>o.value!==void 0);return s.jsxs("div",{children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[s.jsx(Title,{level:2,style:{margin:0,color:"#1890ff"},children:n.totalScore}),s.jsx(Text,{type:"secondary",children:"Total SOFA Score (0-24)"})]}),s.jsx(Table,{dataSource:r,columns:[{title:"Organ System",dataIndex:"label",key:"label"},{title:"Score",dataIndex:"value",key:"value",align:"center",render:o=>s.jsx(Badge,{count:o,style:{backgroundColor:o===0?"#52c41a":o<=2?"#faad14":"#f5222d"}})}],pagination:!1,size:"small"}),n.mortalityEstimate&&s.jsx(Alert,{message:"Mortality Estimate",description:n.mortalityEstimate,type:"info",showIcon:!0,style:{marginTop:"16px"}})]})},cv=n=>{if(!n.interactions||n.interactions.length===0)return s.jsx(Alert,{message:"No Interactions Detected",description:"No significant drug interactions were found.",type:"success",icon:s.jsx(CheckCircleOutlined,{})});const r={contraindicated:n.interactions.filter(o=>o.severity==="contraindicated"),major:n.interactions.filter(o=>o.severity==="major"),moderate:n.interactions.filter(o=>o.severity==="moderate"),minor:n.interactions.filter(o=>o.severity==="minor")};return s.jsxs("div",{children:[s.jsxs(Text,{strong:!0,children:["Found ",n.interactions.length," interaction(s)"]}),s.jsx(Divider,{style:{margin:"12px 0"}}),r.contraindicated.length>0&&s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx(Badge,{status:"error",text:s.jsx(Text,{strong:!0,children:"Contraindicated"})}),s.jsx("ul",{style:{marginTop:"8px"},children:r.contraindicated.map((o,c)=>s.jsxs("li",{children:[s.jsxs(Text,{strong:!0,children:[o.drug1," + ",o.drug2]}),": ",o.description,o.recommendation&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsxs(Text,{type:"danger",style:{fontSize:"12px"},children:[" ",o.recommendation]})]})]},c))})]}),r.major.length>0&&s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx(Badge,{status:"warning",text:s.jsx(Text,{strong:!0,children:"Major"})}),s.jsx("ul",{style:{marginTop:"8px"},children:r.major.map((o,c)=>s.jsxs("li",{children:[s.jsxs(Text,{strong:!0,children:[o.drug1," + ",o.drug2]}),": ",o.description]},c))})]}),r.moderate.length>0&&s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx(Badge,{status:"processing",text:s.jsx(Text,{strong:!0,children:"Moderate"})}),s.jsxs("ul",{style:{marginTop:"8px"},children:[r.moderate.slice(0,3).map((o,c)=>s.jsxs("li",{children:[s.jsxs(Text,{children:[o.drug1," + ",o.drug2]}),": ",o.description]},c)),r.moderate.length>3&&s.jsx("li",{children:s.jsxs(Text,{type:"secondary",children:["... and ",r.moderate.length-3," more moderate interaction(s)"]})})]})]})]})},uv=n=>{n.summary?.abnormal>0;const r=n.summary?.critical>0;return s.jsxs("div",{children:[n.summary&&s.jsxs("div",{style:{marginBottom:"16px",textAlign:"center"},children:[s.jsxs(Text,{children:[n.summary.abnormal," of ",n.summary.total," values abnormal"]}),r&&s.jsxs(s.Fragment,{children:[" ",s.jsx(Badge,{count:`${n.summary.critical} critical`,style:{backgroundColor:"#f5222d"}})]})]}),n.criticalValues&&n.criticalValues.length>0&&s.jsx(Alert,{message:"Critical Values",description:s.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:n.criticalValues.map((o,c)=>s.jsxs("li",{children:[s.jsx(Text,{strong:!0,children:o.name}),": ",o.value," ",o.unit," (",s.jsx(Text,{type:"danger",children:o.status}),")"]},c))}),type:"error",showIcon:!0,style:{marginBottom:"16px"}}),n.interpretations&&n.interpretations.length>0&&s.jsx("div",{children:n.interpretations.map((o,c)=>s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx(Title,{level:5,style:{marginBottom:"8px"},children:o.category}),s.jsx(Paragraph,{style:{margin:"0 0 8px 0"},children:o.clinicalSignificance}),o.suggestedActions&&o.suggestedActions.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(Text,{type:"secondary",style:{fontSize:"12px"},children:"Suggested Actions:"}),s.jsx("ul",{style:{marginTop:"4px",paddingLeft:"20px",fontSize:"12px"},children:o.suggestedActions.map((d,g)=>s.jsx("li",{children:d},g))})]}),c<n.interpretations.length-1&&s.jsx(Divider,{})]},c))}),n.labValues&&n.labValues.length>0&&s.jsxs("div",{style:{marginTop:"16px"},children:[s.jsx(Divider,{}),s.jsx(Text,{strong:!0,children:"All Lab Values"}),s.jsx(Table,{dataSource:n.labValues,columns:[{title:"Test",dataIndex:"name",key:"name"},{title:"Value",dataIndex:"value",key:"value",render:(o,c)=>s.jsxs(s.Fragment,{children:[o," ",c.unit]})},{title:"Reference",dataIndex:"referenceRange",key:"referenceRange"},{title:"Status",dataIndex:"status",key:"status",render:o=>{const d={normal:{color:"success",text:"Normal"},high:{color:"warning",text:"High"},low:{color:"warning",text:"Low"},"critical-high":{color:"error",text:"Critical High"},"critical-low":{color:"error",text:"Critical Low"}}[o]||{color:"default",text:o};return s.jsx(Badge,{status:d.color,text:d.text})}}],pagination:!1,size:"small",style:{marginTop:"8px"}})]})]})},dv=n=>s.jsx("div",{children:s.jsx("pre",{style:{background:"#f5f5f5",padding:"12px",borderRadius:"4px",overflow:"auto"},children:JSON.stringify(n,null,2)})}),fv=({citation:n,index:r,onClick:o})=>s.jsxs("button",{onClick:()=>o(n),style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 10px",margin:"2px",borderRadius:"12px",border:"1px solid rgba(0, 180, 255, 0.4)",background:"rgba(0, 180, 255, 0.1)",color:"#00B4FF",fontSize:"11px",fontWeight:500,cursor:"pointer",transition:"all 0.2s ease",textDecoration:"none"},onMouseEnter:c=>{c.currentTarget.style.background="rgba(0, 180, 255, 0.2)",c.currentTarget.style.borderColor="rgba(0, 180, 255, 0.6)"},onMouseLeave:c=>{c.currentTarget.style.background="rgba(0, 180, 255, 0.1)",c.currentTarget.style.borderColor="rgba(0, 180, 255, 0.4)"},children:[s.jsxs("span",{children:["[",r+1,"]"]}),s.jsx("span",{children:n.title.length>30?n.title.substring(0,30)+"...":n.title})]}),pv=({citations:n,onViewDetails:r})=>!n||n.length===0?null:s.jsxs("div",{style:{marginTop:"16px",padding:"12px 16px",borderRadius:"10px",background:"rgba(0, 180, 255, 0.05)",border:"1px solid rgba(0, 180, 255, 0.2)"},children:[s.jsxs("div",{style:{fontSize:"11px",fontWeight:600,color:"rgba(255, 255, 255, 0.7)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:[" Sources (",n.length,")"]}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:n.map((o,c)=>s.jsx(fv,{citation:o,index:c,onClick:r},c))})]}),hv=({citation:n,onClose:r})=>n?s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:r,children:s.jsxs("div",{style:{background:"var(--surface-2)",border:"1px solid var(--panel-border)",borderRadius:"16px",maxWidth:"600px",width:"100%",maxHeight:"80vh",overflow:"auto",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},onClick:o=>o.stopPropagation(),children:[s.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid var(--panel-border)",display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:"16px"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:600,color:"var(--text-color)",lineHeight:"1.4"},children:n.title}),n.organization&&s.jsx("div",{style:{fontSize:"13px",color:"rgba(255, 255, 255, 0.6)"},children:n.organization})]}),s.jsx("button",{onClick:r,style:{background:"none",border:"none",color:"rgba(255, 255, 255, 0.6)",fontSize:"24px",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",transition:"all 0.2s ease"},onMouseEnter:o=>{o.currentTarget.style.background="rgba(255, 255, 255, 0.1)",o.currentTarget.style.color="#fff"},onMouseLeave:o=>{o.currentTarget.style.background="none",o.currentTarget.style.color="rgba(255, 255, 255, 0.6)"},children:""})]}),s.jsxs("div",{style:{padding:"24px"},children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:"12px",fontSize:"11px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px",background:n.type==="protocol"?"rgba(255, 184, 0, 0.15)":n.type==="guideline"?"rgba(0, 255, 136, 0.15)":n.type==="drug_info"?"rgba(0, 180, 255, 0.15)":"rgba(255, 255, 255, 0.1)",color:n.type==="protocol"?"#FFB800":n.type==="guideline"?"#00FF88":n.type==="drug_info"?"#00B4FF":"rgba(255, 255, 255, 0.8)",border:`1px solid ${n.type==="protocol"?"rgba(255, 184, 0, 0.3)":n.type==="guideline"?"rgba(0, 255, 136, 0.3)":n.type==="drug_info"?"rgba(0, 180, 255, 0.3)":"rgba(255, 255, 255, 0.2)"}`},children:n.type.replace("_"," ")}),n.evidenceLevel&&s.jsxs("span",{style:{display:"inline-block",marginLeft:"8px",padding:"4px 12px",borderRadius:"12px",fontSize:"11px",fontWeight:600,background:"rgba(0, 255, 136, 0.15)",color:"#00FF88",border:"1px solid rgba(0, 255, 136, 0.3)"},children:["Evidence Level: ",n.evidenceLevel]})]}),n.description&&s.jsx("div",{style:{marginBottom:"16px",padding:"12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"8px",fontSize:"14px",lineHeight:"1.6",color:"rgba(255, 255, 255, 0.8)"},children:n.description}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"16px"},children:[n.authors&&n.authors.length>0&&s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"11px",fontWeight:600,color:"rgba(255, 255, 255, 0.5)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},children:"Authors"}),s.jsx("div",{style:{fontSize:"13px",color:"rgba(255, 255, 255, 0.8)"},children:n.authors.join(", ")})]}),n.date&&s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"11px",fontWeight:600,color:"rgba(255, 255, 255, 0.5)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},children:"Date"}),s.jsx("div",{style:{fontSize:"13px",color:"rgba(255, 255, 255, 0.8)"},children:n.date})]}),n.specialty&&s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"11px",fontWeight:600,color:"rgba(255, 255, 255, 0.5)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},children:"Specialty"}),s.jsx("div",{style:{fontSize:"13px",color:"rgba(255, 255, 255, 0.8)"},children:n.specialty})]}),n.doi&&s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"11px",fontWeight:600,color:"rgba(255, 255, 255, 0.5)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},children:"DOI"}),s.jsx("div",{style:{fontSize:"13px",color:"#00B4FF",wordBreak:"break-all"},children:n.doi})]})]}),n.tags&&n.tags.length>0&&s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("div",{style:{fontSize:"11px",fontWeight:600,color:"rgba(255, 255, 255, 0.5)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:"Tags"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:n.tags.map((o,c)=>s.jsx("span",{style:{padding:"3px 10px",borderRadius:"10px",fontSize:"11px",background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.7)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:o},c))})]}),n.url&&s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"11px",fontWeight:600,color:"rgba(255, 255, 255, 0.5)",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:"Source Link"}),s.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"10px 16px",borderRadius:"8px",background:"rgba(0, 180, 255, 0.1)",border:"1px solid rgba(0, 180, 255, 0.3)",color:"#00B4FF",textDecoration:"none",fontSize:"13px",fontWeight:500,transition:"all 0.2s ease",wordBreak:"break-all"},onMouseEnter:o=>{o.currentTarget.style.background="rgba(0, 180, 255, 0.2)",o.currentTarget.style.borderColor="rgba(0, 180, 255, 0.5)"},onMouseLeave:o=>{o.currentTarget.style.background="rgba(0, 180, 255, 0.1)",o.currentTarget.style.borderColor="rgba(0, 180, 255, 0.3)"},children:[s.jsx("span",{children:""}),s.jsx("span",{children:"View Full Source"})]})]})]})]})}):null,mv=({confidence:n})=>{if(n==null)return null;let r,o,c,d,g;n>=.8?(r="#00FF88",o="rgba(0, 255, 136, 0.1)",c="rgba(0, 255, 136, 0.3)",d="",g="High Confidence"):n>=.6?(r="#FFB800",o="rgba(255, 184, 0, 0.1)",c="rgba(255, 184, 0, 0.3)",d="",g="Moderate Confidence"):n>=.3?(r="#FF8800",o="rgba(255, 136, 0, 0.1)",c="rgba(255, 136, 0, 0.3)",d="",g="Low Confidence"):(r="#FF4444",o="rgba(255, 68, 68, 0.1)",c="rgba(255, 68, 68, 0.3)",d="",g="Very Low Confidence");const y=Math.round(n*100);return s.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 12px",borderRadius:"12px",background:o,border:`1px solid ${c}`,fontSize:"11px",fontWeight:500,color:r},children:[s.jsx("span",{children:d}),s.jsx("span",{children:g}),s.jsxs("span",{style:{opacity:.7,fontSize:"10px"},children:["(",y,"%)"]})]})};function Mh(n,r){return function(){return n.apply(r,arguments)}}const{toString:gv}=Object.prototype,{getPrototypeOf:gd}=Object,{iterator:Ql,toStringTag:Uh}=Symbol,Jl=(n=>r=>{const o=gv.call(r);return n[o]||(n[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),Vn=n=>(n=n.toLowerCase(),r=>Jl(r)===n),Xl=n=>r=>typeof r===n,{isArray:us}=Array,ss=Xl("undefined");function ma(n){return n!==null&&!ss(n)&&n.constructor!==null&&!ss(n.constructor)&&gn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const zh=Vn("ArrayBuffer");function yv(n){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(n):r=n&&n.buffer&&zh(n.buffer),r}const vv=Xl("string"),gn=Xl("function"),Hh=Xl("number"),ga=n=>n!==null&&typeof n=="object",xv=n=>n===!0||n===!1,Ul=n=>{if(Jl(n)!=="object")return!1;const r=gd(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Uh in n)&&!(Ql in n)},wv=n=>{if(!ga(n)||ma(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},Sv=Vn("Date"),bv=Vn("File"),Ev=Vn("Blob"),jv=Vn("FileList"),_v=n=>ga(n)&&gn(n.pipe),Cv=n=>{let r;return n&&(typeof FormData=="function"&&n instanceof FormData||gn(n.append)&&((r=Jl(n))==="formdata"||r==="object"&&gn(n.toString)&&n.toString()==="[object FormData]"))},kv=Vn("URLSearchParams"),[Iv,Av,Tv,Nv]=["ReadableStream","Request","Response","Headers"].map(Vn),Rv=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ya(n,r,{allOwnKeys:o=!1}={}){if(n===null||typeof n>"u")return;let c,d;if(typeof n!="object"&&(n=[n]),us(n))for(c=0,d=n.length;c<d;c++)r.call(null,n[c],c,n);else{if(ma(n))return;const g=o?Object.getOwnPropertyNames(n):Object.keys(n),y=g.length;let S;for(c=0;c<y;c++)S=g[c],r.call(null,n[S],S,n)}}function $h(n,r){if(ma(n))return null;r=r.toLowerCase();const o=Object.keys(n);let c=o.length,d;for(;c-- >0;)if(d=o[c],r===d.toLowerCase())return d;return null}const mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Vh=n=>!ss(n)&&n!==mo;function Yu(){const{caseless:n,skipUndefined:r}=Vh(this)&&this||{},o={},c=(d,g)=>{const y=n&&$h(o,g)||g;Ul(o[y])&&Ul(d)?o[y]=Yu(o[y],d):Ul(d)?o[y]=Yu({},d):us(d)?o[y]=d.slice():(!r||!ss(d))&&(o[y]=d)};for(let d=0,g=arguments.length;d<g;d++)arguments[d]&&ya(arguments[d],c);return o}const Pv=(n,r,o,{allOwnKeys:c}={})=>(ya(r,(d,g)=>{o&&gn(d)?Object.defineProperty(n,g,{value:Mh(d,o),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(n,g,{value:d,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:c}),n),Ov=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Dv=(n,r,o,c)=>{n.prototype=Object.create(r.prototype,c),Object.defineProperty(n.prototype,"constructor",{value:n,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(n,"super",{value:r.prototype}),o&&Object.assign(n.prototype,o)},Fv=(n,r,o,c)=>{let d,g,y;const S={};if(r=r||{},n==null)return r;do{for(d=Object.getOwnPropertyNames(n),g=d.length;g-- >0;)y=d[g],(!c||c(y,n,r))&&!S[y]&&(r[y]=n[y],S[y]=!0);n=o!==!1&&gd(n)}while(n&&(!o||o(n,r))&&n!==Object.prototype);return r},Lv=(n,r,o)=>{n=String(n),(o===void 0||o>n.length)&&(o=n.length),o-=r.length;const c=n.indexOf(r,o);return c!==-1&&c===o},Bv=n=>{if(!n)return null;if(us(n))return n;let r=n.length;if(!Hh(r))return null;const o=new Array(r);for(;r-- >0;)o[r]=n[r];return o},Mv=(n=>r=>n&&r instanceof n)(typeof Uint8Array<"u"&&gd(Uint8Array)),Uv=(n,r)=>{const c=(n&&n[Ql]).call(n);let d;for(;(d=c.next())&&!d.done;){const g=d.value;r.call(n,g[0],g[1])}},zv=(n,r)=>{let o;const c=[];for(;(o=n.exec(r))!==null;)c.push(o);return c},Hv=Vn("HTMLFormElement"),$v=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,c,d){return c.toUpperCase()+d}),Dp=(({hasOwnProperty:n})=>(r,o)=>n.call(r,o))(Object.prototype),Vv=Vn("RegExp"),Kh=(n,r)=>{const o=Object.getOwnPropertyDescriptors(n),c={};ya(o,(d,g)=>{let y;(y=r(d,g,n))!==!1&&(c[g]=y||d)}),Object.defineProperties(n,c)},Kv=n=>{Kh(n,(r,o)=>{if(gn(n)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const c=n[o];if(gn(c)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},Wv=(n,r)=>{const o={},c=d=>{d.forEach(g=>{o[g]=!0})};return us(n)?c(n):c(String(n).split(r)),o},qv=()=>{},Yv=(n,r)=>n!=null&&Number.isFinite(n=+n)?n:r;function Gv(n){return!!(n&&gn(n.append)&&n[Uh]==="FormData"&&n[Ql])}const Qv=n=>{const r=new Array(10),o=(c,d)=>{if(ga(c)){if(r.indexOf(c)>=0)return;if(ma(c))return c;if(!("toJSON"in c)){r[d]=c;const g=us(c)?[]:{};return ya(c,(y,S)=>{const b=o(y,d+1);!ss(b)&&(g[S]=b)}),r[d]=void 0,g}}return c};return o(n,0)},Jv=Vn("AsyncFunction"),Xv=n=>n&&(ga(n)||gn(n))&&gn(n.then)&&gn(n.catch),Wh=((n,r)=>n?setImmediate:r?((o,c)=>(mo.addEventListener("message",({source:d,data:g})=>{d===mo&&g===o&&c.length&&c.shift()()},!1),d=>{c.push(d),mo.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",gn(mo.postMessage)),Zv=typeof queueMicrotask<"u"?queueMicrotask.bind(mo):typeof process<"u"&&process.nextTick||Wh,ex=n=>n!=null&&gn(n[Ql]),J={isArray:us,isArrayBuffer:zh,isBuffer:ma,isFormData:Cv,isArrayBufferView:yv,isString:vv,isNumber:Hh,isBoolean:xv,isObject:ga,isPlainObject:Ul,isEmptyObject:wv,isReadableStream:Iv,isRequest:Av,isResponse:Tv,isHeaders:Nv,isUndefined:ss,isDate:Sv,isFile:bv,isBlob:Ev,isRegExp:Vv,isFunction:gn,isStream:_v,isURLSearchParams:kv,isTypedArray:Mv,isFileList:jv,forEach:ya,merge:Yu,extend:Pv,trim:Rv,stripBOM:Ov,inherits:Dv,toFlatObject:Fv,kindOf:Jl,kindOfTest:Vn,endsWith:Lv,toArray:Bv,forEachEntry:Uv,matchAll:zv,isHTMLForm:Hv,hasOwnProperty:Dp,hasOwnProp:Dp,reduceDescriptors:Kh,freezeMethods:Kv,toObjectSet:Wv,toCamelCase:$v,noop:qv,toFiniteNumber:Yv,findKey:$h,global:mo,isContextDefined:Vh,isSpecCompliantForm:Gv,toJSONObject:Qv,isAsyncFn:Jv,isThenable:Xv,setImmediate:Wh,asap:Zv,isIterable:ex};let Le=class qh extends Error{static from(r,o,c,d,g,y){const S=new qh(r.message,o||r.code,c,d,g);return S.cause=r,S.name=r.name,y&&Object.assign(S,y),S}constructor(r,o,c,d,g){super(r),this.name="AxiosError",this.isAxiosError=!0,o&&(this.code=o),c&&(this.config=c),d&&(this.request=d),g&&(this.response=g,this.status=g.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}};Le.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Le.ERR_BAD_OPTION="ERR_BAD_OPTION";Le.ECONNABORTED="ECONNABORTED";Le.ETIMEDOUT="ETIMEDOUT";Le.ERR_NETWORK="ERR_NETWORK";Le.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Le.ERR_DEPRECATED="ERR_DEPRECATED";Le.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Le.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Le.ERR_CANCELED="ERR_CANCELED";Le.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Le.ERR_INVALID_URL="ERR_INVALID_URL";const tx=null;function Gu(n){return J.isPlainObject(n)||J.isArray(n)}function Yh(n){return J.endsWith(n,"[]")?n.slice(0,-2):n}function Fp(n,r,o){return n?n.concat(r).map(function(d,g){return d=Yh(d),!o&&g?"["+d+"]":d}).join(o?".":""):r}function nx(n){return J.isArray(n)&&!n.some(Gu)}const rx=J.toFlatObject(J,{},null,function(r){return/^is[A-Z]/.test(r)});function Zl(n,r,o){if(!J.isObject(n))throw new TypeError("target must be an object");r=r||new FormData,o=J.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Y,U){return!J.isUndefined(U[Y])});const c=o.metaTokens,d=o.visitor||C,g=o.dots,y=o.indexes,b=(o.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(r);if(!J.isFunction(d))throw new TypeError("visitor must be a function");function _(q){if(q===null)return"";if(J.isDate(q))return q.toISOString();if(J.isBoolean(q))return q.toString();if(!b&&J.isBlob(q))throw new Le("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(q)||J.isTypedArray(q)?b&&typeof Blob=="function"?new Blob([q]):Buffer.from(q):q}function C(q,Y,U){let de=q;if(q&&!U&&typeof q=="object"){if(J.endsWith(Y,"{}"))Y=c?Y:Y.slice(0,-2),q=JSON.stringify(q);else if(J.isArray(q)&&nx(q)||(J.isFileList(q)||J.endsWith(Y,"[]"))&&(de=J.toArray(q)))return Y=Yh(Y),de.forEach(function(ee,xe){!(J.isUndefined(ee)||ee===null)&&r.append(y===!0?Fp([Y],xe,g):y===null?Y:Y+"[]",_(ee))}),!1}return Gu(q)?!0:(r.append(Fp(U,Y,g),_(q)),!1)}const k=[],H=Object.assign(rx,{defaultVisitor:C,convertValue:_,isVisitable:Gu});function ne(q,Y){if(!J.isUndefined(q)){if(k.indexOf(q)!==-1)throw Error("Circular reference detected in "+Y.join("."));k.push(q),J.forEach(q,function(de,Se){(!(J.isUndefined(de)||de===null)&&d.call(r,de,J.isString(Se)?Se.trim():Se,Y,H))===!0&&ne(de,Y?Y.concat(Se):[Se])}),k.pop()}}if(!J.isObject(n))throw new TypeError("data must be an object");return ne(n),r}function Lp(n){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(c){return r[c]})}function yd(n,r){this._pairs=[],n&&Zl(n,this,r)}const Gh=yd.prototype;Gh.append=function(r,o){this._pairs.push([r,o])};Gh.toString=function(r){const o=r?function(c){return r.call(this,c,Lp)}:Lp;return this._pairs.map(function(d){return o(d[0])+"="+o(d[1])},"").join("&")};function ix(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Qh(n,r,o){if(!r)return n;const c=o&&o.encode||ix,d=J.isFunction(o)?{serialize:o}:o,g=d&&d.serialize;let y;if(g?y=g(r,d):y=J.isURLSearchParams(r)?r.toString():new yd(r,d).toString(c),y){const S=n.indexOf("#");S!==-1&&(n=n.slice(0,S)),n+=(n.indexOf("?")===-1?"?":"&")+y}return n}class Bp{constructor(){this.handlers=[]}use(r,o,c){return this.handlers.push({fulfilled:r,rejected:o,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){J.forEach(this.handlers,function(c){c!==null&&r(c)})}}const Jh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ox=typeof URLSearchParams<"u"?URLSearchParams:yd,sx=typeof FormData<"u"?FormData:null,ax=typeof Blob<"u"?Blob:null,lx={isBrowser:!0,classes:{URLSearchParams:ox,FormData:sx,Blob:ax},protocols:["http","https","file","blob","url","data"]},vd=typeof window<"u"&&typeof document<"u",Qu=typeof navigator=="object"&&navigator||void 0,cx=vd&&(!Qu||["ReactNative","NativeScript","NS"].indexOf(Qu.product)<0),ux=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dx=vd&&window.location.href||"http://localhost",fx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vd,hasStandardBrowserEnv:cx,hasStandardBrowserWebWorkerEnv:ux,navigator:Qu,origin:dx},Symbol.toStringTag,{value:"Module"})),tn={...fx,...lx};function px(n,r){return Zl(n,new tn.classes.URLSearchParams,{visitor:function(o,c,d,g){return tn.isNode&&J.isBuffer(o)?(this.append(c,o.toString("base64")),!1):g.defaultVisitor.apply(this,arguments)},...r})}function hx(n){return J.matchAll(/\w+|\[(\w*)]/g,n).map(r=>r[0]==="[]"?"":r[1]||r[0])}function mx(n){const r={},o=Object.keys(n);let c;const d=o.length;let g;for(c=0;c<d;c++)g=o[c],r[g]=n[g];return r}function Xh(n){function r(o,c,d,g){let y=o[g++];if(y==="__proto__")return!0;const S=Number.isFinite(+y),b=g>=o.length;return y=!y&&J.isArray(d)?d.length:y,b?(J.hasOwnProp(d,y)?d[y]=[d[y],c]:d[y]=c,!S):((!d[y]||!J.isObject(d[y]))&&(d[y]=[]),r(o,c,d[y],g)&&J.isArray(d[y])&&(d[y]=mx(d[y])),!S)}if(J.isFormData(n)&&J.isFunction(n.entries)){const o={};return J.forEachEntry(n,(c,d)=>{r(hx(c),d,o,0)}),o}return null}function gx(n,r,o){if(J.isString(n))try{return(r||JSON.parse)(n),J.trim(n)}catch(c){if(c.name!=="SyntaxError")throw c}return(o||JSON.stringify)(n)}const va={transitional:Jh,adapter:["xhr","http","fetch"],transformRequest:[function(r,o){const c=o.getContentType()||"",d=c.indexOf("application/json")>-1,g=J.isObject(r);if(g&&J.isHTMLForm(r)&&(r=new FormData(r)),J.isFormData(r))return d?JSON.stringify(Xh(r)):r;if(J.isArrayBuffer(r)||J.isBuffer(r)||J.isStream(r)||J.isFile(r)||J.isBlob(r)||J.isReadableStream(r))return r;if(J.isArrayBufferView(r))return r.buffer;if(J.isURLSearchParams(r))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let S;if(g){if(c.indexOf("application/x-www-form-urlencoded")>-1)return px(r,this.formSerializer).toString();if((S=J.isFileList(r))||c.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Zl(S?{"files[]":r}:r,b&&new b,this.formSerializer)}}return g||d?(o.setContentType("application/json",!1),gx(r)):r}],transformResponse:[function(r){const o=this.transitional||va.transitional,c=o&&o.forcedJSONParsing,d=this.responseType==="json";if(J.isResponse(r)||J.isReadableStream(r))return r;if(r&&J.isString(r)&&(c&&!this.responseType||d)){const y=!(o&&o.silentJSONParsing)&&d;try{return JSON.parse(r,this.parseReviver)}catch(S){if(y)throw S.name==="SyntaxError"?Le.from(S,Le.ERR_BAD_RESPONSE,this,null,this.response):S}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tn.classes.FormData,Blob:tn.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],n=>{va.headers[n]={}});const yx=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vx=n=>{const r={};let o,c,d;return n&&n.split(`
`).forEach(function(y){d=y.indexOf(":"),o=y.substring(0,d).trim().toLowerCase(),c=y.substring(d+1).trim(),!(!o||r[o]&&yx[o])&&(o==="set-cookie"?r[o]?r[o].push(c):r[o]=[c]:r[o]=r[o]?r[o]+", "+c:c)}),r},Mp=Symbol("internals");function na(n){return n&&String(n).trim().toLowerCase()}function zl(n){return n===!1||n==null?n:J.isArray(n)?n.map(zl):String(n)}function xx(n){const r=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=o.exec(n);)r[c[1]]=c[2];return r}const wx=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Au(n,r,o,c,d){if(J.isFunction(c))return c.call(this,r,o);if(d&&(r=o),!!J.isString(r)){if(J.isString(c))return r.indexOf(c)!==-1;if(J.isRegExp(c))return c.test(r)}}function Sx(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,o,c)=>o.toUpperCase()+c)}function bx(n,r){const o=J.toCamelCase(" "+r);["get","set","has"].forEach(c=>{Object.defineProperty(n,c+o,{value:function(d,g,y){return this[c].call(this,r,d,g,y)},configurable:!0})})}let yn=class{constructor(r){r&&this.set(r)}set(r,o,c){const d=this;function g(S,b,_){const C=na(b);if(!C)throw new Error("header name must be a non-empty string");const k=J.findKey(d,C);(!k||d[k]===void 0||_===!0||_===void 0&&d[k]!==!1)&&(d[k||b]=zl(S))}const y=(S,b)=>J.forEach(S,(_,C)=>g(_,C,b));if(J.isPlainObject(r)||r instanceof this.constructor)y(r,o);else if(J.isString(r)&&(r=r.trim())&&!wx(r))y(vx(r),o);else if(J.isObject(r)&&J.isIterable(r)){let S={},b,_;for(const C of r){if(!J.isArray(C))throw TypeError("Object iterator must return a key-value pair");S[_=C[0]]=(b=S[_])?J.isArray(b)?[...b,C[1]]:[b,C[1]]:C[1]}y(S,o)}else r!=null&&g(o,r,c);return this}get(r,o){if(r=na(r),r){const c=J.findKey(this,r);if(c){const d=this[c];if(!o)return d;if(o===!0)return xx(d);if(J.isFunction(o))return o.call(this,d,c);if(J.isRegExp(o))return o.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,o){if(r=na(r),r){const c=J.findKey(this,r);return!!(c&&this[c]!==void 0&&(!o||Au(this,this[c],c,o)))}return!1}delete(r,o){const c=this;let d=!1;function g(y){if(y=na(y),y){const S=J.findKey(c,y);S&&(!o||Au(c,c[S],S,o))&&(delete c[S],d=!0)}}return J.isArray(r)?r.forEach(g):g(r),d}clear(r){const o=Object.keys(this);let c=o.length,d=!1;for(;c--;){const g=o[c];(!r||Au(this,this[g],g,r,!0))&&(delete this[g],d=!0)}return d}normalize(r){const o=this,c={};return J.forEach(this,(d,g)=>{const y=J.findKey(c,g);if(y){o[y]=zl(d),delete o[g];return}const S=r?Sx(g):String(g).trim();S!==g&&delete o[g],o[S]=zl(d),c[S]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const o=Object.create(null);return J.forEach(this,(c,d)=>{c!=null&&c!==!1&&(o[d]=r&&J.isArray(c)?c.join(", "):c)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,o])=>r+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...o){const c=new this(r);return o.forEach(d=>c.set(d)),c}static accessor(r){const c=(this[Mp]=this[Mp]={accessors:{}}).accessors,d=this.prototype;function g(y){const S=na(y);c[S]||(bx(d,y),c[S]=!0)}return J.isArray(r)?r.forEach(g):g(r),this}};yn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(yn.prototype,({value:n},r)=>{let o=r[0].toUpperCase()+r.slice(1);return{get:()=>n,set(c){this[o]=c}}});J.freezeMethods(yn);function Tu(n,r){const o=this||va,c=r||o,d=yn.from(c.headers);let g=c.data;return J.forEach(n,function(S){g=S.call(o,g,d.normalize(),r?r.status:void 0)}),d.normalize(),g}function Zh(n){return!!(n&&n.__CANCEL__)}let xa=class extends Le{constructor(r,o,c){super(r??"canceled",Le.ERR_CANCELED,o,c),this.name="CanceledError",this.__CANCEL__=!0}};function em(n,r,o){const c=o.config.validateStatus;!o.status||!c||c(o.status)?n(o):r(new Le("Request failed with status code "+o.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function Ex(n){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return r&&r[1]||""}function jx(n,r){n=n||10;const o=new Array(n),c=new Array(n);let d=0,g=0,y;return r=r!==void 0?r:1e3,function(b){const _=Date.now(),C=c[g];y||(y=_),o[d]=b,c[d]=_;let k=g,H=0;for(;k!==d;)H+=o[k++],k=k%n;if(d=(d+1)%n,d===g&&(g=(g+1)%n),_-y<r)return;const ne=C&&_-C;return ne?Math.round(H*1e3/ne):void 0}}function _x(n,r){let o=0,c=1e3/r,d,g;const y=(_,C=Date.now())=>{o=C,d=null,g&&(clearTimeout(g),g=null),n(..._)};return[(..._)=>{const C=Date.now(),k=C-o;k>=c?y(_,C):(d=_,g||(g=setTimeout(()=>{g=null,y(d)},c-k)))},()=>d&&y(d)]}const Kl=(n,r,o=3)=>{let c=0;const d=jx(50,250);return _x(g=>{const y=g.loaded,S=g.lengthComputable?g.total:void 0,b=y-c,_=d(b),C=y<=S;c=y;const k={loaded:y,total:S,progress:S?y/S:void 0,bytes:b,rate:_||void 0,estimated:_&&S&&C?(S-y)/_:void 0,event:g,lengthComputable:S!=null,[r?"download":"upload"]:!0};n(k)},o)},Up=(n,r)=>{const o=n!=null;return[c=>r[0]({lengthComputable:o,total:n,loaded:c}),r[1]]},zp=n=>(...r)=>J.asap(()=>n(...r)),Cx=tn.hasStandardBrowserEnv?((n,r)=>o=>(o=new URL(o,tn.origin),n.protocol===o.protocol&&n.host===o.host&&(r||n.port===o.port)))(new URL(tn.origin),tn.navigator&&/(msie|trident)/i.test(tn.navigator.userAgent)):()=>!0,kx=tn.hasStandardBrowserEnv?{write(n,r,o,c,d,g,y){if(typeof document>"u")return;const S=[`${n}=${encodeURIComponent(r)}`];J.isNumber(o)&&S.push(`expires=${new Date(o).toUTCString()}`),J.isString(c)&&S.push(`path=${c}`),J.isString(d)&&S.push(`domain=${d}`),g===!0&&S.push("secure"),J.isString(y)&&S.push(`SameSite=${y}`),document.cookie=S.join("; ")},read(n){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ix(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Ax(n,r){return r?n.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):n}function tm(n,r,o){let c=!Ix(r);return n&&(c||o==!1)?Ax(n,r):r}const Hp=n=>n instanceof yn?{...n}:n;function vo(n,r){r=r||{};const o={};function c(_,C,k,H){return J.isPlainObject(_)&&J.isPlainObject(C)?J.merge.call({caseless:H},_,C):J.isPlainObject(C)?J.merge({},C):J.isArray(C)?C.slice():C}function d(_,C,k,H){if(J.isUndefined(C)){if(!J.isUndefined(_))return c(void 0,_,k,H)}else return c(_,C,k,H)}function g(_,C){if(!J.isUndefined(C))return c(void 0,C)}function y(_,C){if(J.isUndefined(C)){if(!J.isUndefined(_))return c(void 0,_)}else return c(void 0,C)}function S(_,C,k){if(k in r)return c(_,C);if(k in n)return c(void 0,_)}const b={url:g,method:g,data:g,baseURL:y,transformRequest:y,transformResponse:y,paramsSerializer:y,timeout:y,timeoutMessage:y,withCredentials:y,withXSRFToken:y,adapter:y,responseType:y,xsrfCookieName:y,xsrfHeaderName:y,onUploadProgress:y,onDownloadProgress:y,decompress:y,maxContentLength:y,maxBodyLength:y,beforeRedirect:y,transport:y,httpAgent:y,httpsAgent:y,cancelToken:y,socketPath:y,responseEncoding:y,validateStatus:S,headers:(_,C,k)=>d(Hp(_),Hp(C),k,!0)};return J.forEach(Object.keys({...n,...r}),function(C){const k=b[C]||d,H=k(n[C],r[C],C);J.isUndefined(H)&&k!==S||(o[C]=H)}),o}const nm=n=>{const r=vo({},n);let{data:o,withXSRFToken:c,xsrfHeaderName:d,xsrfCookieName:g,headers:y,auth:S}=r;if(r.headers=y=yn.from(y),r.url=Qh(tm(r.baseURL,r.url,r.allowAbsoluteUrls),n.params,n.paramsSerializer),S&&y.set("Authorization","Basic "+btoa((S.username||"")+":"+(S.password?unescape(encodeURIComponent(S.password)):""))),J.isFormData(o)){if(tn.hasStandardBrowserEnv||tn.hasStandardBrowserWebWorkerEnv)y.setContentType(void 0);else if(J.isFunction(o.getHeaders)){const b=o.getHeaders(),_=["content-type","content-length"];Object.entries(b).forEach(([C,k])=>{_.includes(C.toLowerCase())&&y.set(C,k)})}}if(tn.hasStandardBrowserEnv&&(c&&J.isFunction(c)&&(c=c(r)),c||c!==!1&&Cx(r.url))){const b=d&&g&&kx.read(g);b&&y.set(d,b)}return r},Tx=typeof XMLHttpRequest<"u",Nx=Tx&&function(n){return new Promise(function(o,c){const d=nm(n);let g=d.data;const y=yn.from(d.headers).normalize();let{responseType:S,onUploadProgress:b,onDownloadProgress:_}=d,C,k,H,ne,q;function Y(){ne&&ne(),q&&q(),d.cancelToken&&d.cancelToken.unsubscribe(C),d.signal&&d.signal.removeEventListener("abort",C)}let U=new XMLHttpRequest;U.open(d.method.toUpperCase(),d.url,!0),U.timeout=d.timeout;function de(){if(!U)return;const ee=yn.from("getAllResponseHeaders"in U&&U.getAllResponseHeaders()),ge={data:!S||S==="text"||S==="json"?U.responseText:U.response,status:U.status,statusText:U.statusText,headers:ee,config:n,request:U};em(function(re){o(re),Y()},function(re){c(re),Y()},ge),U=null}"onloadend"in U?U.onloadend=de:U.onreadystatechange=function(){!U||U.readyState!==4||U.status===0&&!(U.responseURL&&U.responseURL.indexOf("file:")===0)||setTimeout(de)},U.onabort=function(){U&&(c(new Le("Request aborted",Le.ECONNABORTED,n,U)),U=null)},U.onerror=function(xe){const ge=xe&&xe.message?xe.message:"Network Error",De=new Le(ge,Le.ERR_NETWORK,n,U);De.event=xe||null,c(De),U=null},U.ontimeout=function(){let xe=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const ge=d.transitional||Jh;d.timeoutErrorMessage&&(xe=d.timeoutErrorMessage),c(new Le(xe,ge.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,n,U)),U=null},g===void 0&&y.setContentType(null),"setRequestHeader"in U&&J.forEach(y.toJSON(),function(xe,ge){U.setRequestHeader(ge,xe)}),J.isUndefined(d.withCredentials)||(U.withCredentials=!!d.withCredentials),S&&S!=="json"&&(U.responseType=d.responseType),_&&([H,q]=Kl(_,!0),U.addEventListener("progress",H)),b&&U.upload&&([k,ne]=Kl(b),U.upload.addEventListener("progress",k),U.upload.addEventListener("loadend",ne)),(d.cancelToken||d.signal)&&(C=ee=>{U&&(c(!ee||ee.type?new xa(null,n,U):ee),U.abort(),U=null)},d.cancelToken&&d.cancelToken.subscribe(C),d.signal&&(d.signal.aborted?C():d.signal.addEventListener("abort",C)));const Se=Ex(d.url);if(Se&&tn.protocols.indexOf(Se)===-1){c(new Le("Unsupported protocol "+Se+":",Le.ERR_BAD_REQUEST,n));return}U.send(g||null)})},Rx=(n,r)=>{const{length:o}=n=n?n.filter(Boolean):[];if(r||o){let c=new AbortController,d;const g=function(_){if(!d){d=!0,S();const C=_ instanceof Error?_:this.reason;c.abort(C instanceof Le?C:new xa(C instanceof Error?C.message:C))}};let y=r&&setTimeout(()=>{y=null,g(new Le(`timeout of ${r}ms exceeded`,Le.ETIMEDOUT))},r);const S=()=>{n&&(y&&clearTimeout(y),y=null,n.forEach(_=>{_.unsubscribe?_.unsubscribe(g):_.removeEventListener("abort",g)}),n=null)};n.forEach(_=>_.addEventListener("abort",g));const{signal:b}=c;return b.unsubscribe=()=>J.asap(S),b}},Px=function*(n,r){let o=n.byteLength;if(o<r){yield n;return}let c=0,d;for(;c<o;)d=c+r,yield n.slice(c,d),c=d},Ox=async function*(n,r){for await(const o of Dx(n))yield*Px(o,r)},Dx=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const r=n.getReader();try{for(;;){const{done:o,value:c}=await r.read();if(o)break;yield c}}finally{await r.cancel()}},$p=(n,r,o,c)=>{const d=Ox(n,r);let g=0,y,S=b=>{y||(y=!0,c&&c(b))};return new ReadableStream({async pull(b){try{const{done:_,value:C}=await d.next();if(_){S(),b.close();return}let k=C.byteLength;if(o){let H=g+=k;o(H)}b.enqueue(new Uint8Array(C))}catch(_){throw S(_),_}},cancel(b){return S(b),d.return()}},{highWaterMark:2})},Vp=64*1024,{isFunction:Fl}=J,Fx=(({Request:n,Response:r})=>({Request:n,Response:r}))(J.global),{ReadableStream:Kp,TextEncoder:Wp}=J.global,qp=(n,...r)=>{try{return!!n(...r)}catch{return!1}},Lx=n=>{n=J.merge.call({skipUndefined:!0},Fx,n);const{fetch:r,Request:o,Response:c}=n,d=r?Fl(r):typeof fetch=="function",g=Fl(o),y=Fl(c);if(!d)return!1;const S=d&&Fl(Kp),b=d&&(typeof Wp=="function"?(q=>Y=>q.encode(Y))(new Wp):async q=>new Uint8Array(await new o(q).arrayBuffer())),_=g&&S&&qp(()=>{let q=!1;const Y=new o(tn.origin,{body:new Kp,method:"POST",get duplex(){return q=!0,"half"}}).headers.has("Content-Type");return q&&!Y}),C=y&&S&&qp(()=>J.isReadableStream(new c("").body)),k={stream:C&&(q=>q.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(q=>{!k[q]&&(k[q]=(Y,U)=>{let de=Y&&Y[q];if(de)return de.call(Y);throw new Le(`Response type '${q}' is not supported`,Le.ERR_NOT_SUPPORT,U)})});const H=async q=>{if(q==null)return 0;if(J.isBlob(q))return q.size;if(J.isSpecCompliantForm(q))return(await new o(tn.origin,{method:"POST",body:q}).arrayBuffer()).byteLength;if(J.isArrayBufferView(q)||J.isArrayBuffer(q))return q.byteLength;if(J.isURLSearchParams(q)&&(q=q+""),J.isString(q))return(await b(q)).byteLength},ne=async(q,Y)=>{const U=J.toFiniteNumber(q.getContentLength());return U??H(Y)};return async q=>{let{url:Y,method:U,data:de,signal:Se,cancelToken:ee,timeout:xe,onDownloadProgress:ge,onUploadProgress:De,responseType:re,headers:Fe,withCredentials:Ze="same-origin",fetchOptions:Ue}=nm(q),ft=r||fetch;re=re?(re+"").toLowerCase():"text";let et=Rx([Se,ee&&ee.toAbortSignal()],xe),ze=null;const Et=et&&et.unsubscribe&&(()=>{et.unsubscribe()});let Rt;try{if(De&&_&&U!=="get"&&U!=="head"&&(Rt=await ne(Fe,de))!==0){let N=new o(Y,{method:"POST",body:de,duplex:"half"}),X;if(J.isFormData(de)&&(X=N.headers.get("content-type"))&&Fe.setContentType(X),N.body){const[Ne,Oe]=Up(Rt,Kl(zp(De)));de=$p(N.body,Vp,Ne,Oe)}}J.isString(Ze)||(Ze=Ze?"include":"omit");const it=g&&"credentials"in o.prototype,pt={...Ue,signal:et,method:U.toUpperCase(),headers:Fe.normalize().toJSON(),body:de,duplex:"half",credentials:it?Ze:void 0};ze=g&&new o(Y,pt);let ue=await(g?ft(ze,Ue):ft(Y,pt));const je=C&&(re==="stream"||re==="response");if(C&&(ge||je&&Et)){const N={};["status","statusText","headers"].forEach($e=>{N[$e]=ue[$e]});const X=J.toFiniteNumber(ue.headers.get("content-length")),[Ne,Oe]=ge&&Up(X,Kl(zp(ge),!0))||[];ue=new c($p(ue.body,Vp,Ne,()=>{Oe&&Oe(),Et&&Et()}),N)}re=re||"text";let te=await k[J.findKey(k,re)||"text"](ue,q);return!je&&Et&&Et(),await new Promise((N,X)=>{em(N,X,{data:te,headers:yn.from(ue.headers),status:ue.status,statusText:ue.statusText,config:q,request:ze})})}catch(it){throw Et&&Et(),it&&it.name==="TypeError"&&/Load failed|fetch/i.test(it.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,q,ze),{cause:it.cause||it}):Le.from(it,it&&it.code,q,ze)}}},Bx=new Map,rm=n=>{let r=n&&n.env||{};const{fetch:o,Request:c,Response:d}=r,g=[c,d,o];let y=g.length,S=y,b,_,C=Bx;for(;S--;)b=g[S],_=C.get(b),_===void 0&&C.set(b,_=S?new Map:Lx(r)),C=_;return _};rm();const xd={http:tx,xhr:Nx,fetch:{get:rm}};J.forEach(xd,(n,r)=>{if(n){try{Object.defineProperty(n,"name",{value:r})}catch{}Object.defineProperty(n,"adapterName",{value:r})}});const Yp=n=>`- ${n}`,Mx=n=>J.isFunction(n)||n===null||n===!1;function Ux(n,r){n=J.isArray(n)?n:[n];const{length:o}=n;let c,d;const g={};for(let y=0;y<o;y++){c=n[y];let S;if(d=c,!Mx(c)&&(d=xd[(S=String(c)).toLowerCase()],d===void 0))throw new Le(`Unknown adapter '${S}'`);if(d&&(J.isFunction(d)||(d=d.get(r))))break;g[S||"#"+y]=d}if(!d){const y=Object.entries(g).map(([b,_])=>`adapter ${b} `+(_===!1?"is not supported by the environment":"is not available in the build"));let S=o?y.length>1?`since :
`+y.map(Yp).join(`
`):" "+Yp(y[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+S,"ERR_NOT_SUPPORT")}return d}const im={getAdapter:Ux,adapters:xd};function Nu(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new xa(null,n)}function Gp(n){return Nu(n),n.headers=yn.from(n.headers),n.data=Tu.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),im.getAdapter(n.adapter||va.adapter,n)(n).then(function(c){return Nu(n),c.data=Tu.call(n,n.transformResponse,c),c.headers=yn.from(c.headers),c},function(c){return Zh(c)||(Nu(n),c&&c.response&&(c.response.data=Tu.call(n,n.transformResponse,c.response),c.response.headers=yn.from(c.response.headers))),Promise.reject(c)})}const om="1.13.4",ec={};["object","boolean","number","function","string","symbol"].forEach((n,r)=>{ec[n]=function(c){return typeof c===n||"a"+(r<1?"n ":" ")+n}});const Qp={};ec.transitional=function(r,o,c){function d(g,y){return"[Axios v"+om+"] Transitional option '"+g+"'"+y+(c?". "+c:"")}return(g,y,S)=>{if(r===!1)throw new Le(d(y," has been removed"+(o?" in "+o:"")),Le.ERR_DEPRECATED);return o&&!Qp[y]&&(Qp[y]=!0,console.warn(d(y," has been deprecated since v"+o+" and will be removed in the near future"))),r?r(g,y,S):!0}};ec.spelling=function(r){return(o,c)=>(console.warn(`${c} is likely a misspelling of ${r}`),!0)};function zx(n,r,o){if(typeof n!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const c=Object.keys(n);let d=c.length;for(;d-- >0;){const g=c[d],y=r[g];if(y){const S=n[g],b=S===void 0||y(S,g,n);if(b!==!0)throw new Le("option "+g+" must be "+b,Le.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new Le("Unknown option "+g,Le.ERR_BAD_OPTION)}}const Hl={assertOptions:zx,validators:ec},dr=Hl.validators;let yo=class{constructor(r){this.defaults=r||{},this.interceptors={request:new Bp,response:new Bp}}async request(r,o){try{return await this._request(r,o)}catch(c){if(c instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const g=d.stack?d.stack.replace(/^.+\n/,""):"";try{c.stack?g&&!String(c.stack).endsWith(g.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+g):c.stack=g}catch{}}throw c}}_request(r,o){typeof r=="string"?(o=o||{},o.url=r):o=r||{},o=vo(this.defaults,o);const{transitional:c,paramsSerializer:d,headers:g}=o;c!==void 0&&Hl.assertOptions(c,{silentJSONParsing:dr.transitional(dr.boolean),forcedJSONParsing:dr.transitional(dr.boolean),clarifyTimeoutError:dr.transitional(dr.boolean)},!1),d!=null&&(J.isFunction(d)?o.paramsSerializer={serialize:d}:Hl.assertOptions(d,{encode:dr.function,serialize:dr.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),Hl.assertOptions(o,{baseUrl:dr.spelling("baseURL"),withXsrfToken:dr.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let y=g&&J.merge(g.common,g[o.method]);g&&J.forEach(["delete","get","head","post","put","patch","common"],q=>{delete g[q]}),o.headers=yn.concat(y,g);const S=[];let b=!0;this.interceptors.request.forEach(function(Y){typeof Y.runWhen=="function"&&Y.runWhen(o)===!1||(b=b&&Y.synchronous,S.unshift(Y.fulfilled,Y.rejected))});const _=[];this.interceptors.response.forEach(function(Y){_.push(Y.fulfilled,Y.rejected)});let C,k=0,H;if(!b){const q=[Gp.bind(this),void 0];for(q.unshift(...S),q.push(..._),H=q.length,C=Promise.resolve(o);k<H;)C=C.then(q[k++],q[k++]);return C}H=S.length;let ne=o;for(;k<H;){const q=S[k++],Y=S[k++];try{ne=q(ne)}catch(U){Y.call(this,U);break}}try{C=Gp.call(this,ne)}catch(q){return Promise.reject(q)}for(k=0,H=_.length;k<H;)C=C.then(_[k++],_[k++]);return C}getUri(r){r=vo(this.defaults,r);const o=tm(r.baseURL,r.url,r.allowAbsoluteUrls);return Qh(o,r.params,r.paramsSerializer)}};J.forEach(["delete","get","head","options"],function(r){yo.prototype[r]=function(o,c){return this.request(vo(c||{},{method:r,url:o,data:(c||{}).data}))}});J.forEach(["post","put","patch"],function(r){function o(c){return function(g,y,S){return this.request(vo(S||{},{method:r,headers:c?{"Content-Type":"multipart/form-data"}:{},url:g,data:y}))}}yo.prototype[r]=o(),yo.prototype[r+"Form"]=o(!0)});let Hx=class sm{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(g){o=g});const c=this;this.promise.then(d=>{if(!c._listeners)return;let g=c._listeners.length;for(;g-- >0;)c._listeners[g](d);c._listeners=null}),this.promise.then=d=>{let g;const y=new Promise(S=>{c.subscribe(S),g=S}).then(d);return y.cancel=function(){c.unsubscribe(g)},y},r(function(g,y,S){c.reason||(c.reason=new xa(g,y,S),o(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const o=this._listeners.indexOf(r);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const r=new AbortController,o=c=>{r.abort(c)};return this.subscribe(o),r.signal.unsubscribe=()=>this.unsubscribe(o),r.signal}static source(){let r;return{token:new sm(function(d){r=d}),cancel:r}}};function $x(n){return function(o){return n.apply(null,o)}}function Vx(n){return J.isObject(n)&&n.isAxiosError===!0}const Ju={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ju).forEach(([n,r])=>{Ju[r]=n});function am(n){const r=new yo(n),o=Mh(yo.prototype.request,r);return J.extend(o,yo.prototype,r,{allOwnKeys:!0}),J.extend(o,r,null,{allOwnKeys:!0}),o.create=function(d){return am(vo(n,d))},o}const Nt=am(va);Nt.Axios=yo;Nt.CanceledError=xa;Nt.CancelToken=Hx;Nt.isCancel=Zh;Nt.VERSION=om;Nt.toFormData=Zl;Nt.AxiosError=Le;Nt.Cancel=Nt.CanceledError;Nt.all=function(r){return Promise.all(r)};Nt.spread=$x;Nt.isAxiosError=Vx;Nt.mergeConfig=vo;Nt.AxiosHeaders=yn;Nt.formToJSON=n=>Xh(J.isHTMLForm(n)?new FormData(n):n);Nt.getAdapter=im.getAdapter;Nt.HttpStatusCode=Ju;Nt.default=Nt;const{Axios:Mb,AxiosError:Ub,CanceledError:zb,isCancel:Hb,CancelToken:$b,VERSION:Vb,all:Kb,Cancel:Wb,isAxiosError:qb,spread:Yb,toFormData:Gb,AxiosHeaders:Qb,HttpStatusCode:Jb,formToJSON:Xb,getAdapter:Zb,mergeConfig:eE}=Nt,Kx={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"",VITE_APP_BUILD_DATE:"2026-01-31",VITE_APP_ENVIRONMENT:"development",VITE_APP_NAME:"CareDroid AI",VITE_APP_VERSION:"1.0.0",VITE_DEBUG:"false",VITE_ENABLE_ANALYTICS:"true",VITE_ENABLE_BIOMETRIC_AUTH:"true",VITE_ENABLE_CRASH_REPORTING:"true",VITE_ENABLE_OFFLINE_MODE:"true",VITE_ENABLE_PUSH_NOTIFICATIONS:"true",VITE_FDA_API_KEY:"",VITE_FIREBASE_API_KEY:"AIzaSyDemoKey1234567890Demo",VITE_FIREBASE_APP_ID:"1:123456789012:web:abcdef1234567890",VITE_FIREBASE_AUTH_DOMAIN:"caredroid-demo.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-DEMOKEY1234",VITE_FIREBASE_MESSAGING_SENDER_ID:"123456789012",VITE_FIREBASE_PROJECT_ID:"caredroid-demo",VITE_FIREBASE_STORAGE_BUCKET:"caredroid-demo.appspot.com",VITE_FIREBASE_VAPID_KEY:"BJeSampleVapidKey1234567890SampleVapidKey1234567890SampleVapidKey",VITE_HIPAA_BAA_URL:"http://localhost:8000/hipaa-baa",VITE_LOG_LEVEL:"info",VITE_NIH_API_KEY:"",VITE_OPENAI_API_KEY:"",VITE_OPENAI_MODEL:"gpt-4-turbo-preview",VITE_PRIVACY_POLICY_URL:"http://localhost:8000/privacy",VITE_PUBMED_API_KEY:"",VITE_SEGMENT_WRITE_KEY:"write_key_development_demo",VITE_SENTRY_DSN:"https://examplePublicKey@o0.ingest.sentry.io/0",VITE_SENTRY_ENVIRONMENT:"development",VITE_SENTRY_PROFILES_SAMPLE_RATE:"0.1",VITE_SENTRY_TRACES_SAMPLE_RATE:"1.0",VITE_SUPPORT_URL:"http://localhost:8000/support",VITE_TERMS_OF_SERVICE_URL:"http://localhost:8000/terms",VITE_WS_URL:""},qe=(n,r="")=>{const o=Kx?.[n];return o==null||o===""?r:o},os=(n,r=!1)=>n==null||n===""?r:typeof n=="boolean"?n:String(n).toLowerCase()==="true",Wx=n=>n?n.endsWith("/")?n.slice(0,-1):n:"",st={app:{name:qe("VITE_APP_NAME","CareDroid Clinical AI"),version:qe("VITE_APP_VERSION","1.0.0"),environment:qe("VITE_APP_ENVIRONMENT","development"),buildDate:qe("VITE_APP_BUILD_DATE","")},api:{baseUrl:Wx(qe("VITE_API_URL","")),wsUrl:qe("VITE_WS_URL","")},analytics:{enabled:os(qe("VITE_ENABLE_ANALYTICS",qe("VITE_ANALYTICS_ENABLED","false"))),segmentWriteKey:qe("VITE_SEGMENT_WRITE_KEY","")},crashReporting:{enabled:os(qe("VITE_ENABLE_CRASH_REPORTING","false")),dsn:qe("VITE_SENTRY_DSN",""),environment:qe("VITE_SENTRY_ENVIRONMENT","development"),tracesSampleRate:parseFloat(qe("VITE_SENTRY_TRACES_SAMPLE_RATE","0.1")),profilesSampleRate:parseFloat(qe("VITE_SENTRY_PROFILES_SAMPLE_RATE","0.1")),debug:os(qe("VITE_DEBUG","false"))},features:{enablePushNotifications:os(qe("VITE_ENABLE_PUSH_NOTIFICATIONS","false")),enableOfflineMode:os(qe("VITE_ENABLE_OFFLINE_MODE","false")),enableBiometricAuth:os(qe("VITE_ENABLE_BIOMETRIC_AUTH","false"))},legal:{privacyPolicyUrl:qe("VITE_PRIVACY_POLICY_URL",""),termsOfServiceUrl:qe("VITE_TERMS_OF_SERVICE_URL",""),supportUrl:qe("VITE_SUPPORT_URL",""),hipaaBaaUrl:qe("VITE_HIPAA_BAA_URL","")},firebase:{apiKey:qe("VITE_FIREBASE_API_KEY",""),authDomain:qe("VITE_FIREBASE_AUTH_DOMAIN",""),projectId:qe("VITE_FIREBASE_PROJECT_ID",""),storageBucket:qe("VITE_FIREBASE_STORAGE_BUCKET",""),messagingSenderId:qe("VITE_FIREBASE_MESSAGING_SENDER_ID",""),appId:qe("VITE_FIREBASE_APP_ID",""),measurementId:qe("VITE_FIREBASE_MEASUREMENT_ID",""),vapidKey:qe("VITE_FIREBASE_VAPID_KEY","")},dev:{bearerToken:qe("VITE_DEV_BEARER_TOKEN","dev-bypass-token")},logging:{level:qe("VITE_LOG_LEVEL","info")},externalApis:{fda:{apiKey:qe("VITE_FDA_API_KEY",""),baseUrl:"https://api.fda.gov"},nih:{apiKey:qe("VITE_NIH_API_KEY",""),baseUrl:"https://api.ncbi.nlm.nih.gov"},pubmed:{apiKey:qe("VITE_PUBMED_API_KEY",""),baseUrl:"https://pubmed.ncbi.nlm.nih.gov"}},ai:{openai:{apiKey:qe("VITE_OPENAI_API_KEY",""),model:qe("VITE_OPENAI_MODEL","gpt-4"),baseUrl:"https://api.openai.com/v1"}}},aa=st.api.baseUrl||"",Xu=n=>n?n.startsWith("/")?n:`/${n}`:"",lm=(n="")=>n?/^https?:\/\//i.test(n)?n:aa?`${aa}${Xu(n)}`:Xu(n):aa||"",Ye=(n,r)=>fetch(lm(n),r),cm=(n="")=>{const r=st.api.wsUrl?st.api.wsUrl.replace(/^ws/i,"http"):aa;return n?/^https?:\/\//i.test(n)||!r?n:`${r}${Xu(n)}`:r||""},qx=Nt.create({baseURL:aa||void 0}),ra={apiFetch:Ye,apiAxios:qx,buildApiUrl:lm,buildStreamUrl:cm},Yx=({currentTool:n,currentFeature:r,prefillText:o,conversationId:c,messages:d,onAppendMessage:g,onTrackEvent:y,onAddToast:S,authToken:b,onToolSelect:_,onFeatureSelect:C})=>{const[k,H]=V.useState(""),[ne,q]=V.useState(!1),[Y,U]=V.useState(null),de=V.useRef(null),Se=()=>{de.current?.scrollIntoView({behavior:"smooth"})};V.useEffect(Se,[d]),V.useEffect(()=>{o&&!k.trim()&&H(o)},[o]);const ee=async()=>{if(!k.trim()||ne)return;g?.(c,{role:"user",content:k,timestamp:new Date}),y?.("message_sent",{conversationId:c,tool:n,feature:r,length:k.length}),H(""),q(!0);try{const De={"Content-Type":"application/json"};b&&(De.Authorization=`Bearer ${b}`);const re=await Ye("/api/chat/message",{method:"POST",headers:De,body:JSON.stringify({message:k,tool:n,feature:r,conversationId:c})});if(!re.ok)throw new Error(`Request failed with status ${re.status}`);let Fe={};try{Fe=await re.json()}catch{Fe={}}const Ze={role:"assistant",content:Fe.response||"I encountered an error processing your request.",citations:Fe.citations||[],confidence:Fe.confidence,ragContext:Fe.ragContext,timestamp:new Date};Fe.toolResult&&(Ze.toolResult=Fe.toolResult),g?.(c,Ze)}catch{g?.(c,{role:"assistant",content:"I'm having trouble connecting to the server. Please try again in a moment.",timestamp:new Date}),S?.("Unable to reach the server. Please try again.","error"),y?.("message_error",{conversationId:c,tool:n,feature:r})}finally{q(!1)}},xe=ge=>{ge.key==="Enter"&&!ge.shiftKey&&(ge.preventDefault(),ee())};return s.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",position:"relative"},children:[s.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px",display:"flex",flexDirection:"column",gap:"20px"},children:[d.length===0&&s.jsx("div",{style:{padding:"30px",borderRadius:"12px",border:"1px dashed var(--panel-border)",color:"var(--muted-text)",textAlign:"center"},children:"Start a conversation to see messages here."}),d.map((ge,De)=>s.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"flex-start",maxWidth:"860px",margin:ge.role==="user"?"0 0 0 auto":"0 auto 0 0",width:"100%"},children:[ge.role==="assistant"&&s.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #00FF88, #00FFFF)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",flexShrink:0},children:""}),s.jsxs("div",{style:{flex:1,background:ge.role==="user"?"rgba(0, 255, 136, 0.1)":"var(--surface-2)",padding:"16px 20px",borderRadius:"16px",border:ge.role==="user"?"1px solid rgba(0, 255, 136, 0.3)":"1px solid var(--panel-border)",lineHeight:"1.6",boxShadow:"var(--shadow-1)"},children:[ge.confidence!==void 0&&ge.role==="assistant"&&s.jsx("div",{style:{marginTop:"12px"},children:s.jsx(mv,{confidence:ge.confidence})}),ge.toolResult&&s.jsx("div",{style:{marginTop:"12px"},children:s.jsx(av,{toolResult:ge.toolResult})}),ge.citations&&ge.citations.length>0&&ge.role==="assistant"&&s.jsx(pv,{citations:ge.citations,onViewDetails:re=>U(re)}),s.jsxs("div",{style:{fontSize:"12px",color:"var(--muted-text)",marginTop:"8px"},children:[ge.timestamp?new Date(ge.timestamp).toLocaleTimeString():"Unknown time",ge.ragContext&&ge.ragContext.sourcesFound>0&&s.jsxs("span",{style:{marginLeft:"12px",opacity:.7},children:[" ",ge.ragContext.chunksRetrieved," chunks from ",ge.ragContext.sourcesFound," sources"]})]})]}),ge.role==="user"&&s.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",flexShrink:0},children:""})]},De)),ne&&s.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"flex-start",maxWidth:"900px",margin:"0 auto 0 0"},children:[s.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #00FF88, #00FFFF)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:""}),s.jsx("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:"15px 20px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("div",{className:"dot-pulse",children:""}),s.jsx("div",{className:"dot-pulse",style:{animationDelay:"0.2s"},children:""}),s.jsx("div",{className:"dot-pulse",style:{animationDelay:"0.4s"},children:""})]})})]}),s.jsx("div",{ref:de})]}),(n||r)&&s.jsx(sv,{tool:n,feature:r}),s.jsxs("div",{style:{padding:"20px 24px 28px",borderTop:"1px solid var(--panel-border)",background:"var(--surface-2)"},children:[s.jsx("div",{style:{maxWidth:"900px",margin:"0 auto 12px",display:"flex",gap:"10px",flexWrap:"wrap"},children:["Summarize a protocol","Check drug interaction","Interpret labs"].map(ge=>s.jsx("button",{onClick:()=>H(ge),className:"btn-ghost",style:{fontSize:"12px",padding:"6px 10px"},children:ge},ge))}),s.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",display:"flex",gap:"10px",alignItems:"flex-end"},children:[s.jsx("textarea",{value:k,onChange:ge=>H(ge.target.value),onKeyPress:xe,placeholder:"Ask CareDroid anything clinical...",disabled:ne,style:{flex:1,background:"var(--surface-1)",border:"1px solid var(--panel-border)",borderRadius:"16px",padding:"16px",color:"var(--text-color)",fontSize:"15px",resize:"none",minHeight:"28px",maxHeight:"200px",fontFamily:"inherit",outline:"none",boxShadow:"var(--shadow-1)"},rows:1}),s.jsx("button",{onClick:ee,disabled:!k.trim()||ne,className:"btn-primary",style:{padding:"14px 26px",opacity:k.trim()&&!ne?1:.6,cursor:k.trim()&&!ne?"pointer":"not-allowed"},children:ne?"...":"Send"})]}),s.jsx("div",{style:{maxWidth:"900px",margin:"10px auto 0",fontSize:"12px",color:"var(--muted-text)",textAlign:"center"},children:"CareDroid can make mistakes. Verify medical information."})]}),Y&&s.jsx(hv,{citation:Y,onClose:()=>U(null)}),s.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% { opacity: 0.3; }
          50% { opacity: 1; }
        }
        .dot-pulse {
          animation: pulse 1.5s infinite;
          color: #00FF88;
        }
      `})]})},Jp="caredroid_session_id",Gx=()=>{if(typeof window>"u")return"session-server";const n=window.localStorage.getItem(Jp);if(n)return n;const r=window.crypto?.randomUUID?.()||`session-${Date.now()}-${Math.random().toString(16).slice(2)}`;return window.localStorage.setItem(Jp,r),r},Qx=(n,r)=>{const o={id:`crash-${Date.now()}`,error:{name:n?.name||"Error",message:n?.message||"Unknown error",stack:n?.stack?n.stack.split(`
`):[]},breadcrumbs:[],timestamp:new Date().toISOString(),sessionId:Gx(),environment:"production"};Ye("/api/crashes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).catch(()=>{})};class Jx extends V.Component{constructor(r){super(r),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,o){console.error("ErrorBoundary caught:",r,o),Qx(r),this.setState({error:r,errorInfo:o})}handleReload=()=>{window.location.reload()};render(){return this.state.hasError?s.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"var(--navy-bg)",color:"var(--text-color)",padding:"20px"},children:s.jsxs("div",{style:{maxWidth:"600px",textAlign:"center"},children:[s.jsx("h1",{style:{color:"#FF0000",marginBottom:"20px"},children:" Something went wrong"}),s.jsx("p",{style:{marginBottom:"20px",fontSize:"16px"},children:"The application encountered an unexpected error. This has been automatically reported."}),this.state.error&&s.jsxs("details",{style:{marginBottom:"20px",textAlign:"left",backgroundColor:"rgba(255,255,255,0.1)",padding:"10px",borderRadius:"5px"},children:[s.jsx("summary",{style:{cursor:"pointer",marginBottom:"10px"},children:"Error Details"}),s.jsxs("pre",{style:{fontSize:"12px",overflow:"auto"},children:[this.state.error.toString(),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}),s.jsx("button",{onClick:this.handleReload,style:{backgroundColor:"#00FF88",color:"var(--navy-ink)",border:"none",padding:"15px 30px",fontSize:"16px",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},children:" Reload Application"})]})}):this.props.children}}const ia={container:{position:"fixed",top:"20px",right:"20px",display:"flex",flexDirection:"column",gap:"10px",zIndex:2e3},toast:{minWidth:"240px",maxWidth:"320px",padding:"12px 14px",borderRadius:"10px",border:"1px solid var(--panel-border)",background:"var(--panel-bg)",color:"var(--text-color)",boxShadow:"0 10px 25px rgba(0,0,0,0.2)",display:"flex",alignItems:"center",gap:"10px"},dot:n=>({width:"10px",height:"10px",borderRadius:"50%",background:n==="error"?"#FF6B6B":n==="success"?"#00FF88":"#00FFFF"}),message:{fontSize:"13px",lineHeight:1.4,flex:1},close:{background:"transparent",border:"none",color:"var(--muted-text)",cursor:"pointer",fontSize:"16px"}},Xx=({toasts:n,onDismiss:r})=>n.length?s.jsx("div",{style:ia.container,children:n.map(o=>s.jsxs("div",{style:ia.toast,children:[s.jsx("span",{style:ia.dot(o.type)}),s.jsx("div",{style:ia.message,children:o.message}),s.jsx("button",{onClick:()=>r(o.id),style:ia.close,"aria-label":"Dismiss notification",children:""})]},o.id))}):null,ln=({variant:n="primary",children:r,style:o,...c})=>{const d=n==="ghost"?"btn-ghost":"btn-primary";return s.jsx("button",{className:d,style:o,...c,children:r})},zr=({children:n,style:r,subtle:o=!1})=>s.jsx("div",{className:o?"card-subtle":"card",style:{padding:"24px",...r},children:n}),Ii=({style:n,...r})=>s.jsx("input",{...r,style:{padding:"12px 14px",borderRadius:"12px",border:"1px solid var(--panel-border)",background:"transparent",color:"var(--text-color)",...n}}),Zx=({onAddToast:n,onAuthSuccess:r})=>{const[o,c]=V.useState("login"),[d,g]=V.useState({email:"",password:"",name:""}),[y,S]=V.useState(""),[b,_]=V.useState(!1),[C,k]=V.useState(null),[H,ne]=V.useState(""),q=st.dev.bearerToken,Y=async ee=>{ee.preventDefault();try{const xe=o==="login"?"/api/auth/login":"/api/auth/register",ge=o==="login"?{email:d.email,password:d.password}:{email:d.email,password:d.password,fullName:d.name},De=await Ye(xe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)});if(!De.ok)throw new Error("Authentication failed");const re=await De.json();if(re?.requiresTwoFactor){_(!0),k(re.userId),n?.("Please enter your 2FA code","info");return}re?.accessToken?r?.(re.accessToken):n?.("Registration successful. Please verify your email.","success")}catch{n?.("Unable to authenticate. Check your credentials.","error")}},U=async ee=>{if(ee.preventDefault(),!H||H.length<6){n?.("Please enter a valid 6-digit code","error");return}try{const xe=await Ye("/api/auth/verify-2fa",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:C,token:H})});if(!xe.ok)throw new Error("Invalid 2FA code");const ge=await xe.json();ge?.accessToken&&(r?.(ge.accessToken),n?.("Successfully authenticated!","success"))}catch{n?.("Invalid 2FA code. Please try again.","error")}},de=()=>{_(!1),k(null),ne("")},Se=async ee=>{if(ee.preventDefault(),!y){n?.("Enter your institutional email to receive a link.","info");return}try{if(!(await Ye("/api/auth/magic-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:y})})).ok)throw new Error("Magic link failed");n?.("Magic link sent. Check your email.","success")}catch{n?.("Unable to send magic link.","error")}};return s.jsx(zr,{style:{width:"100%",maxWidth:"520px"},children:b?s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"24px",textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),s.jsx("h2",{style:{margin:0,fontSize:"22px"},children:"Two-Factor Authentication"}),s.jsx("p",{style:{marginTop:"8px",color:"var(--muted-text)",fontSize:"14px"},children:"Enter the 6-digit code from your authenticator app"})]}),s.jsxs("form",{onSubmit:U,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[s.jsx(Ii,{type:"text",placeholder:"000000",value:H,onChange:ee=>ne(ee.target.value.replace(/\D/g,"").slice(0,8)),maxLength:8,style:{textAlign:"center",fontSize:"24px",letterSpacing:"0.5em",fontFamily:"monospace"},autoComplete:"off",autoFocus:!0}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx(ln,{type:"button",variant:"secondary",onClick:de,style:{flex:1},children:"Cancel"}),s.jsx(ln,{type:"submit",disabled:H.length<6,style:{flex:1},children:"Verify"})]})]}),s.jsx("div",{style:{marginTop:"16px",fontSize:"12px",color:"var(--muted-text)",textAlign:"center"},children:s.jsx("button",{type:"button",onClick:()=>ne(""),style:{background:"none",border:"none",color:"#00FFFF",fontSize:"12px",cursor:"pointer",textDecoration:"underline"},children:"Use backup code instead?"})})]}):s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsx("h2",{style:{margin:0,fontSize:"22px"},children:"Institutional Sign-In"}),s.jsx("p",{style:{marginTop:"8px",color:"var(--muted-text)",fontSize:"14px"},children:"Secure access for hospitals, universities, and clinical teams."})]}),s.jsxs("form",{onSubmit:Se,style:{display:"flex",gap:"10px",marginBottom:"16px"},children:[s.jsx(Ii,{type:"email",placeholder:"name@institution.org",value:y,onChange:ee=>S(ee.target.value),style:{flex:1}}),s.jsx(ln,{type:"submit",children:"Send Link"})]}),s.jsxs("div",{style:{display:"grid",gap:"8px",marginBottom:"18px"},children:[s.jsx("button",{onClick:async()=>{try{const xe=await(await Ye("/api/auth/oidc")).json().catch(()=>({}));n?.(xe?.message||"OIDC SSO is not configured.","info")}catch{n?.("OIDC SSO is not available.","info")}},style:{padding:"10px 12px",borderRadius:"10px",border:"1px solid var(--panel-border)",background:"transparent",color:"var(--text-color)",cursor:"pointer",textAlign:"left"},children:" Institutional SSO (OIDC)"}),s.jsx("button",{onClick:async()=>{try{const xe=await(await Ye("/api/auth/saml")).json().catch(()=>({}));n?.(xe?.message||"SAML SSO is not configured.","info")}catch{n?.("SAML SSO is not available.","info")}},style:{padding:"10px 12px",borderRadius:"10px",border:"1px solid var(--panel-border)",background:"transparent",color:"var(--text-color)",cursor:"pointer",textAlign:"left"},children:" Institutional SSO (SAML)"})]}),s.jsx("div",{style:{margin:"18px 0 12px",color:"var(--muted-text)",fontSize:"12px"},children:"Or continue with social login"}),s.jsxs("div",{style:{display:"grid",gap:"10px"},children:[s.jsx("a",{href:"/api/auth/google",style:{padding:"10px 12px",borderRadius:"10px",border:"1px solid var(--panel-border)",background:"transparent",color:"var(--text-color)",textDecoration:"none",textAlign:"left"},children:" Continue with Google"}),s.jsx("a",{href:"/api/auth/linkedin",style:{padding:"10px 12px",borderRadius:"10px",border:"1px solid var(--panel-border)",background:"transparent",color:"var(--text-color)",textDecoration:"none",textAlign:"left"},children:" Continue with LinkedIn"}),s.jsx(ln,{onClick:()=>{console.log(`

===  DIRECT SIGN-IN CLICKED ===`),console.log("bypassToken:",q),console.log("onAuthSuccess exists:",!!r);try{const ee={id:"dev-user",email:"dev@caredroid.local",name:"Development User",role:"admin",fullName:"Development User",isEmailVerified:!0,twoFactorEnabled:!1,createdAt:new Date().toISOString()};localStorage.setItem("caredroid_user_profile",JSON.stringify(ee)),localStorage.setItem("caredroid_access_token",q),console.log(" Saved to localStorage:"),console.log("- Token:",localStorage.getItem("caredroid_access_token")),console.log("- Profile:",JSON.parse(localStorage.getItem("caredroid_user_profile"))),r?(console.log(" Calling onAuthSuccess..."),r(q,ee),console.log(" onAuthSuccess completed")):console.error(" ERROR: onAuthSuccess is not defined!")}catch(ee){console.error(" Error in Direct Sign-In:",ee),console.error("Error stack:",ee.stack)}n?.("Signing in...","info")},variant:"ghost",style:{borderStyle:"dashed",textAlign:"left"},children:" Direct Sign-In (no auth)"})]}),s.jsx("div",{style:{margin:"18px 0 10px",color:"var(--muted-text)",fontSize:"12px"},children:"Or sign in with email and password"}),s.jsxs("form",{onSubmit:Y,style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o==="signup"&&s.jsx(Ii,{type:"text",placeholder:"Full name",value:d.name,onChange:ee=>g({...d,name:ee.target.value})}),s.jsx(Ii,{type:"email",placeholder:"Email address",value:d.email,onChange:ee=>g({...d,email:ee.target.value})}),s.jsx(Ii,{type:"password",placeholder:"Password",value:d.password,onChange:ee=>g({...d,password:ee.target.value})}),s.jsx(ln,{type:"submit",style:{marginTop:"6px"},children:o==="login"?"Sign in":"Create account"})]}),s.jsx("div",{style:{marginTop:"16px",fontSize:"13px",color:"var(--muted-text)"},children:o==="login"?s.jsxs("span",{children:["New here?"," ",s.jsx("button",{onClick:()=>c("signup"),style:{background:"none",border:"none",color:"#00FFFF",cursor:"pointer"},children:"Create account"})]}):s.jsxs("span",{children:["Already have an account?"," ",s.jsx("button",{onClick:()=>c("login"),style:{background:"none",border:"none",color:"#00FFFF",cursor:"pointer"},children:"Sign in"})]})}),s.jsx("div",{style:{marginTop:"18px",fontSize:"12px",color:"var(--muted-text)"},children:s.jsx(Ur,{to:"/",style:{color:"#00FF88",textDecoration:"none"},children:" Back to chat"})})]})})},Ll=[{title:"Choose your role",description:"Help us tailor CareDroid to your workflow.",options:["Physician","Nurse","Pharmacist","Student"]},{title:"Set your focus",description:"Pick the clinical areas you use most.",options:["Emergency","ICU","Primary Care","Cardiology"]},{title:"Safety & compliance",description:"Always verify medical information before action.",options:["I understand and agree"]}],e0=({onAddToast:n})=>{const[r,o]=V.useState(0),[c,d]=V.useState({}),g=Vr(),y=Ll[r],S=()=>{if(r<Ll.length-1){o(r+1);return}n?.("Onboarding completed.","success"),g("/")};return s.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"40px"},children:s.jsxs(zr,{style:{width:"100%",maxWidth:"720px"},children:[s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsxs("div",{style:{fontSize:"12px",color:"var(--muted-text)",marginBottom:"6px"},children:["Step ",r+1," of ",Ll.length]}),s.jsx("h2",{style:{margin:0},children:y.title}),s.jsx("p",{style:{marginTop:"8px",color:"var(--muted-text)",fontSize:"14px"},children:y.description})]}),s.jsx("div",{style:{display:"grid",gap:"10px"},children:y.options.map(b=>s.jsx(ln,{onClick:()=>d({...c,[r]:b}),style:{padding:"12px",textAlign:"left",borderRadius:"12px",border:c[r]===b?"1px solid #00FF88":"1px solid var(--panel-border)",background:c[r]===b?"rgba(0, 255, 136, 0.12)":"transparent",color:"var(--text-color)",cursor:"pointer"},children:b},b))}),s.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[s.jsx(ln,{onClick:()=>o(Math.max(0,r-1)),disabled:r===0,style:{flex:1,padding:"10px",borderRadius:"10px",border:"1px solid var(--panel-border)",background:"transparent",color:"var(--text-color)",cursor:r===0?"not-allowed":"pointer"},children:"Back"}),s.jsx(ln,{onClick:S,style:{flex:1,padding:"10px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, #00FF88, #00FFFF)",color:"var(--navy-ink)",fontWeight:600,cursor:"pointer"},children:r===Ll.length-1?"Finish":"Next"})]}),s.jsx("div",{style:{marginTop:"18px",fontSize:"12px",color:"var(--muted-text)"},children:s.jsx(Ur,{to:"/",style:{color:"#00FF88",textDecoration:"none"},children:" Back to chat"})})]})})},t0=({onAddToast:n})=>{const[r,o]=V.useState(!0),[c,d]=V.useState(!0),[g,y]=V.useState("system"),S=()=>{n?.("Settings saved.","success")};return s.jsx("div",{style:{flex:1,display:"flex",justifyContent:"center",padding:"48px"},children:s.jsxs(zr,{style:{width:"100%",maxWidth:"720px"},children:[s.jsx("h2",{style:{marginTop:0},children:"Settings"}),s.jsx("p",{style:{color:"var(--muted-text)",fontSize:"14px"},children:"Configure CareDroid preferences and notifications."}),s.jsxs("div",{style:{marginTop:"20px",display:"grid",gap:"14px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",borderRadius:"12px",border:"1px solid var(--panel-border)"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:600},children:"Theme preference"}),s.jsx("div",{style:{fontSize:"12px",color:"var(--muted-text)"},children:"System, light, or dark"})]}),s.jsxs("select",{value:g,onChange:b=>y(b.target.value),style:{background:"transparent",color:"var(--text-color)",border:"1px solid var(--panel-border)",borderRadius:"8px",padding:"6px 10px"},children:[s.jsx("option",{value:"system",children:"System"}),s.jsx("option",{value:"light",children:"Light"}),s.jsx("option",{value:"dark",children:"Dark"})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",borderRadius:"12px",border:"1px solid var(--panel-border)"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:600},children:"Notifications"}),s.jsx("div",{style:{fontSize:"12px",color:"var(--muted-text)"},children:"AI results and alerts"})]}),s.jsx("input",{type:"checkbox",checked:r,onChange:()=>o(!r)})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",borderRadius:"12px",border:"1px solid var(--panel-border)"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:600},children:"Safety banner"}),s.jsx("div",{style:{fontSize:"12px",color:"var(--muted-text)"},children:"Always show clinical disclaimer"})]}),s.jsx("input",{type:"checkbox",checked:c,onChange:()=>d(!c)})]})]}),s.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[s.jsx(ln,{onClick:S,children:"Save changes"}),s.jsx(Ur,{to:"/",style:{color:"#00FF88",textDecoration:"none",alignSelf:"center"},children:"Back to chat"})]})]})})},n0=({onAddToast:n,onAuthSuccess:r})=>{const[o]=iv(),c=o.get("token")||"",[d,g]=V.useState(c),y=()=>{if(!d){n?.("Paste an access token to continue.","info");return}r?.(d)};return s.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"40px"},children:s.jsxs(zr,{style:{width:"100%",maxWidth:"720px"},children:[s.jsx("h2",{style:{marginTop:0},children:"Complete Sign-In"}),s.jsx("p",{style:{color:"var(--muted-text)",fontSize:"14px"},children:"Paste the access token returned from your OAuth provider to finish signing in."}),s.jsx("textarea",{value:d,onChange:S=>g(S.target.value),rows:4,placeholder:"Paste access token",style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid var(--panel-border)",background:"var(--panel-bg)",color:"var(--text-color)",marginTop:"12px"}}),s.jsx(ln,{onClick:y,style:{marginTop:"14px"},children:"Save token"}),s.jsx("div",{style:{marginTop:"18px",fontSize:"12px",color:"var(--muted-text)"},children:s.jsx(Ur,{to:"/",style:{color:"#00FF88",textDecoration:"none"},children:" Back to chat"})})]})})},r0=()=>s.jsx("div",{style:{flex:1,display:"flex",justifyContent:"center",padding:"48px"},children:s.jsxs(zr,{style:{width:"100%",maxWidth:"640px"},children:[s.jsx("h2",{style:{marginTop:0},children:"Profile"}),s.jsx("p",{style:{color:"var(--muted-text)",fontSize:"14px"},children:"Your profile details will appear here once authentication is connected."}),s.jsxs("div",{style:{marginTop:"18px",display:"grid",gap:"12px",fontSize:"14px"},children:[s.jsxs("div",{className:"card-subtle",style:{padding:"12px 16px"},children:[s.jsx("strong",{children:"Name:"})," "]}),s.jsxs("div",{className:"card-subtle",style:{padding:"12px 16px"},children:[s.jsx("strong",{children:"Email:"})," "]}),s.jsxs("div",{className:"card-subtle",style:{padding:"12px 16px"},children:[s.jsx("strong",{children:"Role:"})," "]}),s.jsxs("div",{className:"card-subtle",style:{padding:"12px 16px"},children:[s.jsx("strong",{children:"Institution:"})," "]})]}),s.jsx("div",{style:{marginTop:"18px",fontSize:"12px",color:"var(--muted-text)"},children:s.jsx(Ur,{to:"/",style:{color:"#00FF88",textDecoration:"none"},children:" Back to chat"})})]})}),i0=({authToken:n,onAddToast:r})=>{const o=Vr(),[c,d]=V.useState(null),[g,y]=V.useState(!0),[S,b]=V.useState(!1),[_,C]=V.useState(""),[k,H]=V.useState(!1);V.useEffect(()=>{ne()},[]);const ne=async()=>{y(!0);try{const U=await Ye("/api/two-factor/status",{headers:{Authorization:`Bearer ${n}`}});if(!U.ok)throw new Error("Failed to fetch 2FA status");const de=await U.json();d(de)}catch(U){console.error(U),r?.("Failed to load 2FA status","error")}finally{y(!1)}},q=()=>{o("/two-factor-setup")},Y=async()=>{if(!_||_.length<6){r?.("Please enter your 2FA code","error");return}b(!0);try{if(!(await Ye("/api/two-factor/disable",{method:"DELETE",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({token:_})})).ok)throw new Error("Invalid 2FA code");r?.("2FA disabled successfully","success"),H(!1),C(""),ne()}catch(U){r?.("Failed to disable 2FA. Check your code.","error"),console.error(U)}finally{b(!1)}};return g?s.jsxs(zr,{style:{padding:"24px"},children:[s.jsx("h3",{style:{marginTop:0,marginBottom:"16px"},children:"Two-Factor Authentication"}),s.jsx("div",{style:{color:"var(--muted-text)"},children:"Loading..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs(zr,{style:{padding:"24px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{margin:0,marginBottom:"8px"},children:"Two-Factor Authentication"}),s.jsx("p",{style:{margin:0,fontSize:"14px",color:"var(--muted-text)",lineHeight:"1.5"},children:"Add an extra layer of security to your account by requiring a code from your phone in addition to your password."})]}),c?.enabled?s.jsx("div",{style:{background:"rgba(0, 255, 136, 0.1)",border:"1px solid rgba(0, 255, 136, 0.3)",borderRadius:"12px",padding:"6px 12px",fontSize:"12px",fontWeight:600,color:"#00FF88",whiteSpace:"nowrap"},children:" Enabled"}):s.jsx("div",{style:{background:"rgba(107, 114, 128, 0.1)",border:"1px solid rgba(107, 114, 128, 0.3)",borderRadius:"12px",padding:"6px 12px",fontSize:"12px",fontWeight:600,color:"#6B7280",whiteSpace:"nowrap"},children:"Disabled"})]}),c?.enabled?s.jsxs("div",{children:[s.jsx("div",{style:{background:"var(--card-background)",border:"1px solid var(--border)",borderRadius:"8px",padding:"16px",marginBottom:"16px"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",fontSize:"14px"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{color:"var(--muted-text)",marginBottom:"4px"},children:"Backup Codes Remaining"}),s.jsxs("div",{style:{fontWeight:600,color:"var(--text-primary)"},children:[c.backupCodesRemaining||0," of 10"]})]}),s.jsxs("div",{children:[s.jsx("div",{style:{color:"var(--muted-text)",marginBottom:"4px"},children:"Last Used"}),s.jsx("div",{style:{fontWeight:600,color:"var(--text-primary)"},children:c.lastUsedAt?new Date(c.lastUsedAt).toLocaleDateString():"Never"})]})]})}),s.jsxs("div",{style:{background:"rgba(255, 184, 0, 0.1)",border:"1px solid rgba(255, 184, 0, 0.3)",borderRadius:"8px",padding:"12px",fontSize:"13px",color:"#FFB800",marginBottom:"16px"},children:[" ",s.jsx("strong",{children:"Warning:"})," Disabling 2FA will make your account less secure."]}),s.jsx(ln,{variant:"secondary",onClick:()=>H(!0),style:{width:"100%"},children:"Disable 2FA"})]}):s.jsxs("div",{children:[s.jsx("div",{style:{background:"var(--card-background)",border:"1px solid var(--border)",borderRadius:"8px",padding:"16px",marginBottom:"16px"},children:s.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",lineHeight:"1.6"},children:"Two-factor authentication provides an additional layer of security by requiring both your password and a code from your phone to sign in."})}),s.jsx(ln,{onClick:q,style:{width:"100%"},children:"Enable 2FA"})]})]}),k&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:s.jsxs(zr,{style:{maxWidth:"400px",width:"90%",padding:"24px"},children:[s.jsx("h3",{style:{marginTop:0,marginBottom:"16px"},children:"Disable Two-Factor Authentication"}),s.jsx("p",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"16px",lineHeight:"1.5"},children:"To confirm, please enter your 2FA code from your authenticator app."}),s.jsx("input",{type:"text",placeholder:"000000",value:_,onChange:U=>C(U.target.value.replace(/\D/g,"").slice(0,8)),maxLength:8,style:{width:"100%",padding:"12px",border:"1px solid var(--border)",borderRadius:"8px",background:"var(--background)",color:"var(--text-primary)",fontSize:"20px",textAlign:"center",letterSpacing:"0.5em",fontFamily:"monospace",marginBottom:"16px"},autoFocus:!0}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx(ln,{variant:"secondary",onClick:()=>{H(!1),C("")},style:{flex:1},disabled:S,children:"Cancel"}),s.jsx(ln,{onClick:Y,disabled:S||_.length<6,style:{flex:1},children:S?"Disabling...":"Disable 2FA"})]})]})})]})},o0=({onAddToast:n,authToken:r})=>{const[o,c]=V.useState(""),[d,g]=V.useState(""),[y,S]=V.useState(""),b=()=>{n?.("Profile settings saved.","success")};return s.jsx("div",{style:{flex:1,display:"flex",justifyContent:"center",padding:"48px"},children:s.jsxs("div",{style:{width:"100%",maxWidth:"720px",display:"flex",flexDirection:"column",gap:"24px"},children:[s.jsxs(zr,{children:[s.jsx("h2",{style:{marginTop:0},children:"Profile Settings"}),s.jsx("p",{style:{color:"var(--muted-text)",fontSize:"14px"},children:"Update your clinical profile and institutional details."}),s.jsxs("div",{style:{display:"grid",gap:"12px",marginTop:"18px"},children:[s.jsx(Ii,{type:"text",placeholder:"Display name",value:o,onChange:_=>c(_.target.value)}),s.jsx(Ii,{type:"text",placeholder:"Institution",value:d,onChange:_=>g(_.target.value)}),s.jsx(Ii,{type:"text",placeholder:"Role (e.g., RN, MD)",value:y,onChange:_=>S(_.target.value)})]}),s.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"18px"},children:[s.jsx(ln,{onClick:b,children:"Save profile"}),s.jsx(Ur,{to:"/",style:{color:"#00FF88",textDecoration:"none",alignSelf:"center"},children:"Back to chat"})]})]}),s.jsx(i0,{authToken:r,onAddToast:n})]})})};function s0(){const[n,r]=V.useState([]),[o,c]=V.useState(!0),[d,g]=V.useState(null),[y,S]=V.useState("checking"),[b,_]=V.useState(!1),[C,k]=V.useState(null),[H,ne]=V.useState({userId:"",action:"",startDate:"",endDate:""}),q={LOGIN:"Login",LOGOUT:"Logout",REGISTRATION:"Registration",PASSWORD_CHANGE:"Password Change",EMAIL_VERIFICATION:"Email Verification",TWO_FACTOR_ENABLE:"2FA Enabled",TWO_FACTOR_DISABLE:"2FA Disabled",SUBSCRIPTION_CHANGE:"Subscription Change",DATA_EXPORT:"Data Export",DATA_DELETION:"Data Deletion",PHI_ACCESS:"PHI Access",AI_QUERY:"AI Query",CLINICAL_DATA_ACCESS:"Clinical Data Access",SECURITY_EVENT:"Security Event",PROFILE_UPDATE:"Profile Update"};V.useEffect(()=>{Y(),U(),de()},[]);const Y=async()=>{try{c(!0);const re=new URLSearchParams;H.userId&&re.append("userId",H.userId),H.action&&re.append("action",H.action),H.startDate&&re.append("startDate",H.startDate),H.endDate&&re.append("endDate",H.endDate),re.append("limit","100");const Fe=await Ye(`/api/audit/logs?${re.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("caredroid_access_token")}`}});if(!Fe.ok)throw new Error("Failed to fetch audit logs");const Ze=await Fe.json();r(Ze.data||[]),g(null)}catch(re){g(re.message),console.error("Error fetching audit logs:",re)}finally{c(!1)}},U=async()=>{try{const re=await Ye("/api/audit/verify-integrity",{headers:{Authorization:`Bearer ${localStorage.getItem("caredroid_access_token")}`}});if(!re.ok)throw new Error("Failed to verify integrity");const Fe=await re.json();S(Fe.data.isValid?"VALID":"TAMPERED")}catch(re){console.error("Error verifying integrity:",re),S("ERROR")}},de=async()=>{try{const re=await Ye("/api/audit/statistics",{headers:{Authorization:`Bearer ${localStorage.getItem("caredroid_access_token")}`}});if(!re.ok)throw new Error("Failed to fetch statistics");const Fe=await re.json();k(Fe.data)}catch(re){console.error("Error fetching statistics:",re)}},Se=re=>{const{name:Fe,value:Ze}=re.target;ne(Ue=>({...Ue,[Fe]:Ze}))},ee=()=>{Y()},xe=()=>{ne({userId:"",action:"",startDate:"",endDate:""})},ge=re=>new Date(re).toLocaleString(),De=re=>re==="SECURITY_EVENT"||re==="PHI_ACCESS"?"action-critical":re==="PASSWORD_CHANGE"||re==="TWO_FACTOR_ENABLE"?"action-security":"action-default";return s.jsxs("div",{className:"audit-logs-container",children:[s.jsxs("div",{className:"audit-logs-header",children:[s.jsx("h1",{children:"Audit Logs"}),s.jsx("p",{className:"subtitle",children:"Complete audit trail of all system activities and PHI access"})]}),s.jsxs("div",{className:`integrity-status status-${y.toLowerCase()}`,children:[s.jsxs("span",{className:"status-icon",children:[y==="VALID"&&"",y==="TAMPERED"&&"",y==="checking"&&"",y==="ERROR"&&""]}),s.jsxs("span",{className:"status-text",children:["Audit log integrity: ",s.jsx("strong",{children:y})]}),s.jsx("button",{className:"verify-btn",onClick:U,disabled:y==="checking",children:"Re-verify"})]}),C&&s.jsxs("div",{className:"stats-section",children:[s.jsxs("button",{className:"stats-toggle",onClick:()=>_(!b),children:[b?"":""," Statistics (",C.totalLogs," logs)"]}),b&&s.jsxs("div",{className:"stats-grid",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-label",children:"Total Logs"}),s.jsx("div",{className:"stat-value",children:C.totalLogs})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-label",children:"PHI Access Events"}),s.jsx("div",{className:"stat-value",children:C.phiAccessCount})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-label",children:"Security Events"}),s.jsx("div",{className:"stat-value",children:C.securityEventCount})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-label",children:"Integrity Status"}),s.jsx("div",{className:`stat-value ${C.integrityStatus.toLowerCase()}`,children:C.integrityStatus})]})]})]}),s.jsxs("div",{className:"filters-section",children:[s.jsx("h3",{children:"Filter Logs"}),s.jsxs("div",{className:"filter-grid",children:[s.jsxs("div",{className:"filter-group",children:[s.jsx("label",{children:"User ID"}),s.jsx("input",{type:"text",name:"userId",value:H.userId,onChange:Se,placeholder:"Filter by user ID"})]}),s.jsxs("div",{className:"filter-group",children:[s.jsx("label",{children:"Action Type"}),s.jsxs("select",{name:"action",value:H.action,onChange:Se,children:[s.jsx("option",{value:"",children:"All actions"}),Object.entries(q).map(([re,Fe])=>s.jsx("option",{value:re,children:Fe},re))]})]}),s.jsxs("div",{className:"filter-group",children:[s.jsx("label",{children:"Start Date"}),s.jsx("input",{type:"datetime-local",name:"startDate",value:H.startDate,onChange:Se})]}),s.jsxs("div",{className:"filter-group",children:[s.jsx("label",{children:"End Date"}),s.jsx("input",{type:"datetime-local",name:"endDate",value:H.endDate,onChange:Se})]})]}),s.jsxs("div",{className:"filter-buttons",children:[s.jsx("button",{className:"btn btn-primary",onClick:ee,children:"Apply Filters"}),s.jsx("button",{className:"btn btn-secondary",onClick:xe,children:"Clear Filters"})]})]}),d&&s.jsxs("div",{className:"error-alert",children:[s.jsx("strong",{children:"Error:"})," ",d]}),o&&s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Loading audit logs..."})]}),!o&&n.length===0&&!d&&s.jsx("div",{className:"empty-state",children:s.jsx("p",{children:"No audit logs found matching your criteria."})}),!o&&n.length>0&&s.jsx("div",{className:"logs-table-container",children:s.jsxs("table",{className:"logs-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Timestamp"}),s.jsx("th",{children:"User ID"}),s.jsx("th",{children:"Action"}),s.jsx("th",{children:"Resource"}),s.jsx("th",{children:"IP Address"}),s.jsx("th",{children:"PHI Accessed"}),s.jsx("th",{children:"Integrity"}),s.jsx("th",{children:"Details"})]})}),s.jsx("tbody",{children:n.map(re=>s.jsxs("tr",{className:"log-row",children:[s.jsx("td",{className:"timestamp",children:ge(re.timestamp)}),s.jsx("td",{className:"user-id",children:re.userId?re.userId.substring(0,8)+"...":"N/A"}),s.jsx("td",{children:s.jsx("span",{className:`action-badge ${De(re.action)}`,children:q[re.action]||re.action})}),s.jsx("td",{className:"resource",children:re.resource}),s.jsx("td",{className:"ip-address",children:re.ipAddress}),s.jsx("td",{className:"phi-accessed",children:re.phiAccessed?s.jsx("span",{className:"badge badge-danger",children:"Yes"}):s.jsx("span",{className:"badge badge-default",children:"No"})}),s.jsx("td",{className:"integrity",children:re.integrityVerified?s.jsx("span",{className:"badge badge-success",children:" Valid"}):s.jsx("span",{className:"badge badge-warning",children:" Unverified"})}),s.jsx("td",{className:"metadata",children:re.metadata?s.jsxs("details",{children:[s.jsx("summary",{children:"View"}),s.jsx("pre",{children:JSON.stringify(re.metadata,null,2)})]}):s.jsx("span",{children:"-"})})]},re.id))})]})})]})}const a0=()=>{const[n,r]=V.useState([]),[o,c]=V.useState(!0),[d,g]=V.useState(null),[y,S]=V.useState(""),[b,_]=V.useState({key:"name",direction:"asc"}),[C,k]=V.useState(null),[H,ne]=V.useState(!1),[q,Y]=V.useState(!1),[U,de]=V.useState("");V.useEffect(()=>{Se()},[]);const Se=async()=>{try{c(!0);const Ue=await Ye("/api/team/users",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!Ue.ok)throw new Error("Failed to fetch users");const ft=await Ue.json();r(ft),g(null)}catch(Ue){g(Ue.message)}finally{c(!1)}},xe=[...n.filter(Ue=>Ue.name.toLowerCase().includes(y.toLowerCase())||Ue.email.toLowerCase().includes(y.toLowerCase()))].sort((Ue,ft)=>{const et=Ue[b.key],ze=ft[b.key];return typeof et=="string"?b.direction==="asc"?et.localeCompare(ze):ze.localeCompare(et):b.direction==="asc"?et-ze:ze-et}),ge=Ue=>{_(ft=>({key:Ue,direction:ft.key===Ue&&ft.direction==="asc"?"desc":"asc"}))},De=Ue=>{k(Ue),ne(!0)},re=async Ue=>{try{if(!(await Ye(`/api/team/users/${C.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(Ue)})).ok)throw new Error("Failed to update user");r(et=>et.map(ze=>ze.id===C.id?{...ze,...Ue}:ze)),ne(!1),k(null)}catch(ft){g(ft.message)}},Fe=async Ue=>{if(confirm("Are you sure you want to remove this user from the team?"))try{if(!(await Ye(`/api/team/users/${Ue}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).ok)throw new Error("Failed to delete user");r(et=>et.filter(ze=>ze.id!==Ue))}catch(ft){g(ft.message)}},Ze=async()=>{if(U)try{if(!(await Ye("/api/team/invite",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({email:U})})).ok)throw new Error("Failed to send invitation");de(""),Y(!1),Se()}catch(Ue){g(Ue.message)}};return s.jsxs("div",{className:"team-management",children:[s.jsxs("div",{className:"team-header",children:[s.jsxs("div",{className:"team-header-content",children:[s.jsx("h1",{children:"Team Management"}),s.jsx("p",{children:"Manage team members, roles, and permissions"})]}),s.jsx("button",{className:"btn-invite",onClick:()=>Y(!0),children:"+ Invite Member"})]}),d&&s.jsxs("div",{className:"team-error",children:[s.jsx("span",{children:d}),s.jsx("button",{onClick:()=>g(null),children:""})]}),s.jsx("div",{className:"team-search",children:s.jsx("input",{type:"text",placeholder:"Search by name or email...",value:y,onChange:Ue=>S(Ue.target.value),className:"team-search-input","aria-label":"Search team members"})}),o?s.jsxs("div",{className:"team-loading",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Loading team members..."})]}):xe.length>0?s.jsx(l0,{users:xe,sortConfig:b,onSort:ge,onEdit:De,onDelete:Fe}):s.jsxs("div",{className:"team-empty",children:[s.jsx("p",{children:"No team members found"}),y&&s.jsx("button",{onClick:()=>S(""),children:"Clear search"})]}),H&&s.jsx(c0,{user:C,onSave:re,onCancel:()=>ne(!1)}),q&&s.jsx(d0,{email:U,onEmailChange:de,onInvite:Ze,onCancel:()=>Y(!1)})]})},l0=({users:n,sortConfig:r,onSort:o,onEdit:c,onDelete:d})=>{const g=b=>{const _={Admin:{bg:"#ff6b6b",text:"Admin"},Physician:{bg:"#00ffff",text:"Physician"},Nurse:{bg:"#00ff88",text:"Nurse"},Student:{bg:"#9c27b0",text:"Student"}};return _[b]||_.Student},y=b=>({active:"",inactive:"",pending:""})[b]||"",S=({label:b,sortKey:_})=>s.jsx("th",{children:s.jsxs("button",{className:`table-sort-btn ${r.key===_?"table-sort-active":""}`,onClick:()=>o(_),"aria-label":`Sort by ${b}`,children:[b,r.key===_&&s.jsx("span",{className:"sort-indicator",children:r.direction==="asc"?"":""})]})});return s.jsx("div",{className:"user-table-wrapper",children:s.jsxs("table",{className:"user-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx(S,{label:"Name",sortKey:"name"}),s.jsx(S,{label:"Role",sortKey:"role"}),s.jsx(S,{label:"Email",sortKey:"email"}),s.jsx(S,{label:"Joined",sortKey:"joinedDate"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:n.map(b=>s.jsxs("tr",{children:[s.jsx("td",{className:"table-name",children:s.jsxs("div",{className:"user-info",children:[s.jsx("div",{className:"user-avatar",children:b.initials}),s.jsx("span",{className:"user-name",children:b.name})]})}),s.jsx("td",{children:s.jsx("span",{className:"role-badge",style:{backgroundColor:`${g(b.role).bg}20`},title:b.role,children:b.role})}),s.jsx("td",{className:"table-email",children:b.email}),s.jsx("td",{className:"table-date",children:new Date(b.joinedDate).toLocaleDateString()}),s.jsx("td",{className:"table-status",children:s.jsx("span",{className:"status-indicator",title:b.status,children:y(b.status)})}),s.jsxs("td",{className:"table-actions",children:[s.jsx("button",{className:"action-btn action-edit",onClick:()=>c(b),title:"Edit user","aria-label":`Edit ${b.name}`,children:""}),s.jsx("button",{className:"action-btn action-delete",onClick:()=>d(b.id),title:"Remove user","aria-label":`Remove ${b.name}`,children:""})]})]},b.id))})]})})},c0=({user:n,onSave:r,onCancel:o})=>{const[c,d]=V.useState(n.role),[g,y]=V.useState(n.permissions||[]),[S,b]=V.useState(!1),_={Admin:["Read All","Write All","Delete All","Manage Users","View Audit Logs"],Physician:["Read PHI","Write Clinical Notes","Prescribe Medications","Order Tests"],Nurse:["Read PHI","Update Vitals","Document Care","Assist Physician"],Student:["Read Clinical Cases","View Guidelines","Educational Resources"]},C=async()=>{b(!0);try{await r({role:c,permissions:g})}finally{b(!1)}};return s.jsx("div",{className:"modal-overlay",onClick:o,children:s.jsxs("div",{className:"edit-user-modal",onClick:k=>k.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"Edit User"}),s.jsx("button",{className:"modal-close",onClick:o,children:""})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"edit-user-info",children:[s.jsx("div",{className:"user-avatar-large",children:n.initials}),s.jsxs("div",{className:"edit-user-details",children:[s.jsx("h3",{children:n.name}),s.jsx("p",{children:n.email})]})]}),s.jsxs("div",{className:"edit-role-section",children:[s.jsx("label",{htmlFor:"role-select",children:"Role"}),s.jsx(u0,{value:c,onChange:d})]}),s.jsxs("div",{className:"edit-permissions-section",children:[s.jsxs("h4",{children:["Permissions for ",c]}),s.jsx("div",{className:"permissions-list",children:_[c]?.map(k=>s.jsxs("div",{className:"permission-item",children:[s.jsx("span",{className:"permission-check",children:""}),s.jsx("span",{className:"permission-name",children:k})]},k))})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn-cancel",onClick:o,disabled:S,children:"Cancel"}),s.jsx("button",{className:"btn-save",onClick:C,disabled:S,children:S?"Saving...":"Save Changes"})]})]})})},u0=({value:n,onChange:r})=>{const o=[{id:"Student",label:"Student",description:"View-only access to clinical content"},{id:"Nurse",label:"Nurse",description:"Complete documentation and vital entry"},{id:"Physician",label:"Physician",description:"Full clinical decision support"},{id:"Admin",label:"Admin",description:"Complete system access and management"}];return s.jsx("select",{className:"role-selector",value:n,onChange:c=>r(c.target.value),"aria-label":"Select user role",children:o.map(c=>s.jsxs("option",{value:c.id,children:[c.label,"  ",c.description]},c.id))})},d0=({email:n,onEmailChange:r,onInvite:o,onCancel:c})=>{const[d,g]=V.useState(!1),y=async()=>{g(!0);try{await o()}finally{g(!1)}},S=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n);return s.jsx("div",{className:"modal-overlay",onClick:c,children:s.jsxs("div",{className:"invite-user-modal",onClick:b=>b.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"Invite Team Member"}),s.jsx("button",{className:"modal-close",onClick:c,children:""})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx("p",{className:"invite-description",children:"Send an invitation to join your team. They'll receive an email with a link to create their account."}),s.jsxs("div",{className:"invite-input-group",children:[s.jsx("label",{htmlFor:"invite-email",children:"Email Address"}),s.jsx("input",{id:"invite-email",type:"email",placeholder:"colleague@hospital.org",value:n,onChange:b=>r(b.target.value),className:"invite-email-input"}),n&&!S&&s.jsx("p",{className:"invite-error",children:"Please enter a valid email address"})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn-cancel",onClick:c,disabled:d,children:"Cancel"}),s.jsx("button",{className:"btn-invite",onClick:y,disabled:!S||d,children:d?"Sending...":"Send Invitation"})]})]})})},Xp=()=>s.jsxs("div",{className:"legal-page",children:[s.jsxs("div",{className:"legal-header",children:[s.jsx("h1",{children:"Privacy Policy"}),s.jsx("p",{className:"legal-meta",children:"Last Updated: January 31, 2026"}),s.jsx("p",{className:"legal-intro",children:"CareDroid is committed to protecting your privacy and complying with all applicable healthcare privacy regulations, including HIPAA (Health Insurance Portability and Accountability Act)."})]}),s.jsxs("div",{className:"legal-content",children:[s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"1. Information We Collect"}),s.jsx("h3",{children:"1.1 Protected Health Information (PHI)"}),s.jsx("p",{children:"When you use CareDroid for clinical decision support, we may collect and process Protected Health Information, including:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Patient identifiers (as provided by you in queries)"}),s.jsx("li",{children:"Medical history and clinical data"}),s.jsx("li",{children:"Laboratory results and test data"}),s.jsx("li",{children:"Diagnostic information"}),s.jsx("li",{children:"Treatment plans and recommendations"})]}),s.jsx("h3",{children:"1.2 Account Information"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Name and email address"}),s.jsx("li",{children:"Professional credentials and role (Student, Nurse, Physician, Administrator)"}),s.jsx("li",{children:"Organization/facility affiliation"}),s.jsx("li",{children:"Authentication credentials (encrypted)"})]}),s.jsx("h3",{children:"1.3 Usage Data"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Conversation history and queries"}),s.jsx("li",{children:"Tool usage patterns"}),s.jsx("li",{children:"System interaction logs"}),s.jsx("li",{children:"Device and browser information"}),s.jsx("li",{children:"IP address and location data"})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"2. How We Use Your Information"}),s.jsx("p",{children:"We use your information for the following purposes:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Clinical Decision Support:"})," Process your queries and provide evidence-based recommendations"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Service Improvement:"})," Analyze usage patterns to improve AI model accuracy"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Security:"})," Monitor for suspicious activity and prevent unauthorized access"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Compliance:"})," Maintain audit logs as required by HIPAA"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Communication:"})," Send critical alerts, system updates, and support messages"]})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"3. HIPAA Compliance"}),s.jsx("h3",{children:"3.1 Business Associate Agreement"}),s.jsx("p",{children:"CareDroid acts as a Business Associate under HIPAA. Healthcare organizations using CareDroid must execute a Business Associate Agreement (BAA) with us."}),s.jsx("h3",{children:"3.2 Minimum Necessary Standard"}),s.jsx("p",{children:"We adhere to the HIPAA minimum necessary standard, collecting and using only the information required to provide clinical decision support services."}),s.jsx("h3",{children:"3.3 Safeguards"}),s.jsx("p",{children:"We implement administrative, physical, and technical safeguards including:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"End-to-end encryption of PHI in transit and at rest (AES-256)"}),s.jsx("li",{children:"Role-based access control (RBAC) with 22 granular permissions"}),s.jsx("li",{children:"Multi-factor authentication (2FA/MFA)"}),s.jsx("li",{children:"Comprehensive audit logging of all PHI access"}),s.jsx("li",{children:"Regular security audits and penetration testing"}),s.jsx("li",{children:"Employee training on HIPAA compliance"})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"4. Data Storage and Retention"}),s.jsx("h3",{children:"4.1 Storage Location"}),s.jsx("p",{children:"All data is stored in HIPAA-compliant data centers within the United States. We do not transfer PHI outside the U.S. without explicit consent."}),s.jsx("h3",{children:"4.2 Retention Period"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Conversation History:"})," Retained for 7 years (as required by HIPAA)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Audit Logs:"})," Retained for 6 years from creation date"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Account Data:"})," Retained until account deletion + 30 days"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Anonymized Analytics:"})," Retained indefinitely"]})]}),s.jsx("h3",{children:"4.3 Data Deletion"}),s.jsx("p",{children:"You may request deletion of your data at any time. PHI will be deleted within 30 days, except where retention is required by law or for audit purposes."})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"5. Data Sharing and Disclosure"}),s.jsx("h3",{children:"5.1 No Sale of Data"}),s.jsx("p",{className:"legal-highlight",children:"We DO NOT sell, rent, or trade your PHI or personal information to third parties."}),s.jsx("h3",{children:"5.2 Permitted Disclosures"}),s.jsx("p",{children:"We may disclose PHI only in the following limited circumstances:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"With Your Consent:"})," When you explicitly authorize disclosure"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"To Your Organization:"})," Sharing with authorized users in your healthcare facility"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"To Service Providers:"})," HIPAA-compliant vendors under BAAs (e.g., cloud hosting, encryption services)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"As Required by Law:"})," Court orders, subpoenas, or regulatory investigations"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Emergency Situations:"})," To prevent imminent harm to patient or public health"]})]}),s.jsx("h3",{children:"5.3 Third-Party Services"}),s.jsx("p",{children:"We use the following HIPAA-compliant third-party services:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"AWS (Amazon Web Services) - Cloud infrastructure"}),s.jsx("li",{children:"Pinecone - Vector database for RAG (with BAA)"}),s.jsx("li",{children:"OpenAI/Anthropic - LLM APIs (with BAAs and zero data retention agreements)"})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"6. Your Rights"}),s.jsx("p",{children:"Under HIPAA and applicable privacy laws, you have the right to:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Access:"})," Request a copy of your PHI we have collected"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Amendment:"})," Request corrections to inaccurate PHI"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Accounting:"})," Request a list of PHI disclosures"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Restriction:"})," Request limits on use and disclosure of PHI"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Confidential Communication:"})," Request communications via specific methods"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Breach Notification:"})," Be notified of any PHI breaches"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Revoke Consent:"})," Withdraw consent for PHI processing"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Export Data:"})," Download your data in machine-readable format"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Delete Account:"})," Permanently delete your account and associated data"]})]}),s.jsxs("p",{children:["To exercise these rights, contact us at: ",s.jsx("a",{href:"mailto:privacy@caredroid.ai",children:"privacy@caredroid.ai"})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"7. Security Measures"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Encryption:"})," AES-256 encryption at rest, TLS 1.3 in transit"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Authentication:"})," Multi-factor authentication (2FA) required for all users"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Access Control:"})," Role-based permissions with principle of least privilege"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Audit Logging:"})," Comprehensive logs of all PHI access (immutable)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Monitoring:"})," 24/7 security monitoring and intrusion detection"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Incident Response:"})," Documented breach notification procedures"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Employee Training:"})," Annual HIPAA and security training"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Vulnerability Management:"})," Regular security scans and penetration testing"]})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"8. Data Breach Notification"}),s.jsx("p",{children:"In the event of a security breach involving PHI, we will:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Notify affected individuals within 60 days of discovery"}),s.jsx("li",{children:"Report to the Department of Health and Human Services (HHS) as required"}),s.jsx("li",{children:"Notify partnered healthcare organizations"}),s.jsx("li",{children:"Take immediate steps to mitigate harm and prevent future breaches"}),s.jsx("li",{children:"Provide credit monitoring services if applicable"})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"9. Children's Privacy"}),s.jsx("p",{children:"CareDroid is not intended for use by individuals under 18 years of age without supervision. We do not knowingly collect PHI from minors without parental consent."})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"10. International Users"}),s.jsx("p",{children:"CareDroid is designed for use in the United States and complies with U.S. healthcare privacy laws. If you access CareDroid from outside the U.S., your data will be transferred to and processed in the United States."})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"11. Changes to This Policy"}),s.jsx("p",{children:"We may update this Privacy Policy to reflect changes in our practices or legal requirements. We will notify you of material changes by:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Email notification to your registered address"}),s.jsx("li",{children:"In-app notification banner"}),s.jsx("li",{children:'Updating the "Last Updated" date'})]}),s.jsx("p",{children:"Continued use of CareDroid after changes constitutes acceptance of the updated policy."})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"12. Contact Information"}),s.jsxs("div",{className:"contact-info",children:[s.jsx("p",{children:s.jsx("strong",{children:"Privacy Officer:"})}),s.jsx("p",{children:"CareDroid, Inc."}),s.jsxs("p",{children:["Email: ",s.jsx("a",{href:"mailto:privacy@caredroid.ai",children:"privacy@caredroid.ai"})]}),s.jsx("p",{children:"Phone: 1-800-CAREDROID"}),s.jsx("p",{children:"Address: [Company Address]"})]}),s.jsxs("div",{className:"contact-info",children:[s.jsx("p",{children:s.jsx("strong",{children:"HIPAA Compliance Questions:"})}),s.jsxs("p",{children:["Email: ",s.jsx("a",{href:"mailto:hipaa@caredroid.ai",children:"hipaa@caredroid.ai"})]})]}),s.jsxs("div",{className:"contact-info",children:[s.jsx("p",{children:s.jsx("strong",{children:"Data Subject Requests:"})}),s.jsxs("p",{children:["Email: ",s.jsx("a",{href:"mailto:dsr@caredroid.ai",children:"dsr@caredroid.ai"})]})]})]}),s.jsx("section",{className:"legal-section legal-footer-section",children:s.jsx("p",{className:"legal-acknowledgment",children:"By using CareDroid, you acknowledge that you have read, understood, and agree to this Privacy Policy and our processing of your information as described herein."})})]})]}),Zp=()=>s.jsxs("div",{className:"legal-page",children:[s.jsxs("div",{className:"legal-header",children:[s.jsx("h1",{children:"Terms of Service"}),s.jsx("p",{className:"legal-meta",children:"Last Updated: January 31, 2026"}),s.jsx("p",{className:"legal-intro",children:'These Terms of Service ("Terms") govern your access to and use of CareDroid Clinical AI ("CareDroid", "Service", "Platform"). Please read these Terms carefully before using the Service.'})]}),s.jsxs("div",{className:"legal-content",children:[s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"1. Acceptance of Terms"}),s.jsx("p",{children:"By accessing or using CareDroid, you agree to be bound by these Terms and our Privacy Policy. If you do not agree to these Terms, you may not access or use the Service."}),s.jsx("p",{children:'These Terms constitute a legally binding agreement between you ("User", "you", "your") and CareDroid, Inc. ("CareDroid", "we", "us", "our").'})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"2. Service Description"}),s.jsx("p",{children:"CareDroid is an AI-powered clinical decision support tool designed to assist healthcare professionals with:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Evidence-based clinical recommendations"}),s.jsx("li",{children:"Medical calculations and scoring tools (SOFA, qSOFA, CHA2DS2-VASc, HAS-BLED, etc.)"}),s.jsx("li",{children:"Drug interaction checking and contraindication alerts"}),s.jsx("li",{children:"Laboratory result interpretation"}),s.jsx("li",{children:"Retrieval-Augmented Generation (RAG) with medical literature citations"}),s.jsx("li",{children:"Emergency detection and escalation recommendations"})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"3. Medical Disclaimer"}),s.jsxs("div",{className:"legal-warning",children:[s.jsx("p",{children:s.jsx("strong",{children:" CRITICAL DISCLAIMER - READ CAREFULLY"})}),s.jsxs("p",{children:["CareDroid is a ",s.jsx("strong",{children:"DECISION SUPPORT TOOL ONLY"}),". It is NOT a substitute for professional medical judgment, diagnosis, or treatment."]}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Not a Medical Device:"})," CareDroid is not FDA-approved as a medical device"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Not for Diagnosis:"})," Do not use CareDroid as the sole basis for diagnosis"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Not for Treatment Decisions:"})," Always verify recommendations with current clinical guidelines"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Not for Emergencies:"})," In life-threatening situations, call 911 immediately"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Human Oversight Required:"})," All AI-generated recommendations must be reviewed by a qualified healthcare professional"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"May Contain Errors:"})," AI models can produce inaccurate or incomplete information"]})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"You assume full responsibility for all clinical decisions made using CareDroid."}),"We are not liable for any adverse outcomes resulting from your use of the Service."]})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"4. Eligibility and User Accounts"}),s.jsx("h3",{children:"4.1 Eligibility"}),s.jsx("p",{children:"To use CareDroid, you must:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Be a licensed healthcare professional (Physician, Nurse, Advanced Practice Provider) OR"}),s.jsx("li",{children:"Be a medical/nursing student under supervision OR"}),s.jsx("li",{children:"Be an administrator at a healthcare organization"}),s.jsx("li",{children:"Be at least 18 years of age"}),s.jsx("li",{children:"Have the legal capacity to enter into binding contracts"}),s.jsx("li",{children:"Comply with all applicable local, state, and federal laws"})]}),s.jsx("h3",{children:"4.2 Account Registration"}),s.jsxs("ul",{children:[s.jsx("li",{children:"You must provide accurate and complete registration information"}),s.jsx("li",{children:"You are responsible for maintaining the confidentiality of your account credentials"}),s.jsx("li",{children:"You must enable multi-factor authentication (2FA) as required"}),s.jsx("li",{children:"You are responsible for all activities that occur under your account"}),s.jsx("li",{children:"You must notify us immediately of any unauthorized access"})]}),s.jsx("h3",{children:"4.3 Account Termination"}),s.jsx("p",{children:"We reserve the right to suspend or terminate your account if you:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Violate these Terms of Service"}),s.jsx("li",{children:"Provide false or misleading information"}),s.jsx("li",{children:"Use the Service for unlawful purposes"}),s.jsx("li",{children:"Compromise the security or integrity of the Service"}),s.jsx("li",{children:"Engage in abusive behavior toward other users or our staff"})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"5. Acceptable Use Policy"}),s.jsx("h3",{children:"5.1 Permitted Uses"}),s.jsx("p",{children:"You may use CareDroid solely for:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Clinical decision support in your professional practice"}),s.jsx("li",{children:"Educational purposes (students and trainees)"}),s.jsx("li",{children:"Research (with appropriate IRB approval)"})]}),s.jsx("h3",{children:"5.2 Prohibited Uses"}),s.jsx("p",{children:"You may NOT:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Use CareDroid to diagnose or treat yourself or family members"}),s.jsx("li",{children:"Share your account credentials with unauthorized users"}),s.jsx("li",{children:"Attempt to reverse engineer, decompile, or extract the AI models"}),s.jsx("li",{children:"Scrape, data mine, or extract data from the Service"}),s.jsx("li",{children:"Use the Service to generate discriminatory or biased recommendations"}),s.jsx("li",{children:"Input fabricated or false patient data"}),s.jsx("li",{children:"Use the Service for marketing or commercial purposes unrelated to patient care"}),s.jsx("li",{children:"Overload or disrupt the Service (DoS attacks, spam, etc.)"}),s.jsx("li",{children:"Circumvent security measures or access controls"}),s.jsx("li",{children:"Use the Service in violation of HIPAA or other healthcare regulations"})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"6. HIPAA Compliance and PHI"}),s.jsx("h3",{children:"6.1 Business Associate Relationship"}),s.jsx("p",{children:"If you are a Covered Entity under HIPAA, you must execute a Business Associate Agreement (BAA) with CareDroid before entering Protected Health Information (PHI) into the Service."}),s.jsx("h3",{children:"6.2 Your Responsibilities"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Obtain patient authorization before entering PHI into CareDroid"}),s.jsx("li",{children:"Use minimum necessary PHI for queries"}),s.jsx("li",{children:"De-identify or anonymize patient data when possible"}),s.jsx("li",{children:"Ensure your organization's HIPAA policies are followed"}),s.jsx("li",{children:"Report any suspected PHI breaches to us immediately"})]}),s.jsx("h3",{children:"6.3 Our Responsibilities"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Maintain administrative, physical, and technical safeguards for PHI"}),s.jsx("li",{children:"Report breaches of unsecured PHI within 60 days"}),s.jsx("li",{children:"Allow access to PHI for audit or investigation"}),s.jsx("li",{children:"Return or destroy PHI upon termination of your account"})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"7. Intellectual Property Rights"}),s.jsx("h3",{children:"7.1 CareDroid's IP"}),s.jsx("p",{children:"All rights, title, and interest in and to the Service, including all software, AI models, algorithms, designs, trademarks, and content, are owned by CareDroid. These Terms do not grant you any ownership rights."}),s.jsx("h3",{children:"7.2 Your Content"}),s.jsx("p",{children:"You retain ownership of any patient data or clinical information you input into CareDroid. By using the Service, you grant us a limited license to process your content solely for the purpose of providing the Service."}),s.jsx("h3",{children:"7.3 Feedback"}),s.jsx("p",{children:"If you provide feedback, suggestions, or ideas about CareDroid, you grant us a perpetual, royalty-free license to use such feedback to improve the Service."})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"8. Fees and Payment"}),s.jsx("h3",{children:"8.1 Subscription Plans"}),s.jsx("p",{children:"CareDroid offers various subscription tiers (Free, Professional, Enterprise). Fees are billed monthly or annually based on your selected plan."}),s.jsx("h3",{children:"8.2 Payment Terms"}),s.jsxs("ul",{children:[s.jsx("li",{children:"All fees are non-refundable unless required by law"}),s.jsx("li",{children:"Fees are exclusive of taxes (which you are responsible for)"}),s.jsx("li",{children:"We may change fees with 30 days' notice"}),s.jsx("li",{children:"Failure to pay may result in service suspension"})]}),s.jsx("h3",{children:"8.3 Free Trial"}),s.jsx("p",{children:"Free trials are available for new users. After the trial period, you will be charged unless you cancel before the trial ends."})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"9. Limitation of Liability"}),s.jsxs("div",{className:"legal-warning",children:[s.jsx("p",{children:s.jsx("strong",{children:"READ THIS SECTION CAREFULLY - IT LIMITS OUR LIABILITY"})}),s.jsx("p",{children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, CAREDROID SHALL NOT BE LIABLE FOR:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"ANY INDIRECT, INCIDENTAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES"}),s.jsx("li",{children:"LOSS OF PROFITS, REVENUE, DATA, OR GOODWILL"}),s.jsx("li",{children:"PATIENT HARM OR ADVERSE MEDICAL OUTCOMES"}),s.jsx("li",{children:"MEDICAL MALPRACTICE CLAIMS RELATED TO USE OF THE SERVICE"}),s.jsx("li",{children:"ERRORS, OMISSIONS, OR INACCURACIES IN AI-GENERATED RECOMMENDATIONS"}),s.jsx("li",{children:"SERVICE INTERRUPTIONS, DOWNTIME, OR DATA LOSS"})]}),s.jsx("p",{children:"IN NO EVENT SHALL CAREDROID'S TOTAL LIABILITY EXCEED THE AMOUNT YOU PAID US IN THE 12 MONTHS PRECEDING THE CLAIM."}),s.jsx("p",{children:"SOME JURISDICTIONS DO NOT ALLOW LIMITATION OF LIABILITY, SO THESE LIMITATIONS MAY NOT APPLY TO YOU."})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"10. Disclaimers and Warranties"}),s.jsxs("div",{className:"legal-warning",children:[s.jsx("p",{children:'THE SERVICE IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO:'}),s.jsxs("ul",{children:[s.jsx("li",{children:"MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE"}),s.jsx("li",{children:"ACCURACY, RELIABILITY, OR COMPLETENESS OF INFORMATION"}),s.jsx("li",{children:"UNINTERRUPTED OR ERROR-FREE OPERATION"}),s.jsx("li",{children:"FREEDOM FROM VIRUSES OR HARMFUL COMPONENTS"})]}),s.jsx("p",{children:"WE DO NOT WARRANT THAT AI RECOMMENDATIONS ARE CLINICALLY ACCURATE OR APPROPRIATE FOR YOUR SPECIFIC PATIENT."})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"11. Indemnification"}),s.jsx("p",{children:"You agree to indemnify, defend, and hold harmless CareDroid, its officers, directors, employees, and agents from any claims, liabilities, damages, losses, and expenses (including legal fees) arising from:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Your use of the Service"}),s.jsx("li",{children:"Your violation of these Terms"}),s.jsx("li",{children:"Your violation of any third-party rights"}),s.jsx("li",{children:"Medical malpractice or negligence claims related to patient care"}),s.jsx("li",{children:"Your breach of HIPAA or other healthcare regulations"})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"12. Data Security and Breaches"}),s.jsxs("ul",{children:[s.jsx("li",{children:"We implement industry-standard security measures (see Privacy Policy)"}),s.jsx("li",{children:"However, no system is 100% secure"}),s.jsx("li",{children:"You are responsible for reporting suspected breaches immediately"}),s.jsx("li",{children:"We will notify you of breaches affecting your PHI as required by HIPAA"})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"13. Modifications to Terms"}),s.jsx("p",{children:"We may modify these Terms at any time. Material changes will be communicated via:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Email notification"}),s.jsx("li",{children:"In-app notification banner"}),s.jsx("li",{children:'Updated "Last Updated" date'})]}),s.jsx("p",{children:"Continued use after changes constitutes acceptance. If you disagree with changes, you must stop using the Service and close your account."})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"14. Termination"}),s.jsx("h3",{children:"14.1 Your Right to Terminate"}),s.jsx("p",{children:"You may terminate your account at any time through the Settings page or by contacting support. Data deletion will occur within 30 days (subject to legal retention requirements)."}),s.jsx("h3",{children:"14.2 Our Right to Terminate"}),s.jsx("p",{children:"We may suspend or terminate your access immediately if you violate these Terms, without notice or liability."}),s.jsx("h3",{children:"14.3 Effect of Termination"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Your access to the Service will cease immediately"}),s.jsx("li",{children:"Outstanding fees remain due"}),s.jsx("li",{children:"We will return or destroy PHI as required by HIPAA"}),s.jsx("li",{children:"Sections 3, 7, 9, 10, 11, and 15 survive termination"})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"15. Dispute Resolution"}),s.jsx("h3",{children:"15.1 Governing Law"}),s.jsx("p",{children:"These Terms are governed by the laws of [State], United States, without regard to conflict of law principles."}),s.jsx("h3",{children:"15.2 Arbitration"}),s.jsx("p",{children:"Any disputes arising from these Terms shall be resolved through binding arbitration in accordance with the American Arbitration Association rules, except for:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Claims for injunctive relief"}),s.jsx("li",{children:"Intellectual property disputes"}),s.jsx("li",{children:"Small claims court matters (under $10,000)"})]}),s.jsx("h3",{children:"15.3 Class Action Waiver"}),s.jsx("p",{children:"You agree to resolve disputes individually and waive your right to participate in class actions, class arbitrations, or representative actions."})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"16. Miscellaneous"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Entire Agreement:"})," These Terms and the Privacy Policy constitute the entire agreement"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Severability:"})," If any provision is invalid, the remainder remains in effect"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"No Waiver:"})," Failure to enforce a right does not waive that right"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Assignment:"})," You may not assign these Terms; we may assign without notice"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Force Majeure:"})," We are not liable for delays caused by events beyond our control"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Export Compliance:"})," You agree to comply with U.S. export control laws"]})]})]}),s.jsxs("section",{className:"legal-section",children:[s.jsx("h2",{children:"17. Contact Information"}),s.jsxs("div",{className:"contact-info",children:[s.jsx("p",{children:s.jsx("strong",{children:"Legal Department:"})}),s.jsx("p",{children:"CareDroid, Inc."}),s.jsxs("p",{children:["Email: ",s.jsx("a",{href:"mailto:legal@caredroid.ai",children:"legal@caredroid.ai"})]}),s.jsx("p",{children:"Phone: 1-800-CAREDROID"}),s.jsx("p",{children:"Address: [Company Address]"})]}),s.jsxs("div",{className:"contact-info",children:[s.jsx("p",{children:s.jsx("strong",{children:"For Terms-Related Questions:"})}),s.jsxs("p",{children:["Email: ",s.jsx("a",{href:"mailto:support@caredroid.ai",children:"support@caredroid.ai"})]})]})]}),s.jsx("section",{className:"legal-section legal-footer-section",children:s.jsx("p",{className:"legal-acknowledgment",children:'BY CLICKING "I AGREE" OR BY ACCESSING OR USING THE SERVICE, YOU ACKNOWLEDGE THAT YOU HAVE READ, UNDERSTOOD, AND AGREE TO BE BOUND BY THESE TERMS OF SERVICE.'})})]})]}),oa=({id:n,label:r,description:o,checked:c,onChange:d,disabled:g=!1,required:y=!1,error:S,size:b="md"})=>s.jsxs("div",{className:`checkbox-container checkbox-${b}`,children:[s.jsxs("div",{className:"checkbox-wrapper",children:[s.jsx("input",{type:"checkbox",id:n,className:"checkbox-input",checked:c,onChange:_=>d(_.target.checked),disabled:g,required:y,"aria-invalid":!!S,"aria-describedby":o?`${n}-desc`:void 0}),s.jsxs("label",{htmlFor:n,className:"checkbox-label",children:[s.jsx("span",{className:"checkbox-box",children:c&&s.jsx("span",{className:"checkbox-check",children:""})}),s.jsxs("span",{className:"checkbox-text",children:[s.jsxs("span",{className:"checkbox-label-text",children:[r,y&&s.jsx("span",{className:"checkbox-required",children:"*"})]}),o&&s.jsx("span",{id:`${n}-desc`,className:"checkbox-description",children:o})]})]})]}),S&&s.jsx("span",{className:"checkbox-error",children:S})]}),eh=({onComplete:n})=>{const r=Vr(),[o,c]=V.useState({hipaa:!1,privacy:!1,terms:!1,dataSharing:!1,communications:!1}),[d,g]=V.useState({}),[y,S]=V.useState(!1),b=(k,H)=>{c(ne=>({...ne,[k]:H})),H&&d[k]&&g(ne=>({...ne,[k]:null}))},_=()=>{const k={};return o.hipaa||(k.hipaa="HIPAA authorization is required to use CareDroid"),o.privacy||(k.privacy="You must accept the Privacy Policy to continue"),o.terms||(k.terms="You must accept the Terms of Service to continue"),g(k),Object.keys(k).length===0},C=async k=>{if(k.preventDefault(),!!_()){S(!0);try{if(!(await Ye("/api/consent/record",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({consents:{hipaa_authorization:o.hipaa,privacy_policy:o.privacy,terms_of_service:o.terms,data_sharing:o.dataSharing,marketing_communications:o.communications},consentDate:new Date().toISOString(),ipAddress:await fetch("https://api.ipify.org?format=json").then(ne=>ne.json()).then(ne=>ne.ip).catch(()=>"unknown")})})).ok)throw new Error("Failed to record consent");localStorage.setItem("consentsAccepted","true"),n?n():r("/")}catch(H){console.error("Consent submission error:",H),g({submit:"Failed to record your consent. Please try again."})}finally{S(!1)}}};return s.jsx("div",{className:"consent-flow",children:s.jsxs("div",{className:"consent-container",children:[s.jsxs("div",{className:"consent-header",children:[s.jsx("h1",{children:"Privacy & Consent"}),s.jsx("p",{className:"consent-intro",children:"Before you can use CareDroid, we need your consent to collect and process Protected Health Information (PHI) in compliance with HIPAA regulations."})]}),s.jsxs("form",{onSubmit:C,className:"consent-form",children:[s.jsxs("div",{className:"consent-section consent-section-required",children:[s.jsxs("div",{className:"consent-section-header",children:[s.jsx("h2",{children:"1. HIPAA Authorization"}),s.jsx("span",{className:"consent-badge consent-badge-required",children:"Required"})]}),s.jsxs("div",{className:"consent-content",children:[s.jsx("p",{children:"I authorize CareDroid to use and disclose my Protected Health Information (PHI) for the purpose of providing clinical decision support services."}),s.jsxs("div",{className:"consent-details",children:[s.jsx("h4",{children:"What PHI May Be Used:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Patient identifiers (as provided by you)"}),s.jsx("li",{children:"Medical history and clinical data"}),s.jsx("li",{children:"Laboratory results and diagnostic information"}),s.jsx("li",{children:"Treatment plans and recommendations"})]}),s.jsx("h4",{children:"Who May Access PHI:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"You (the authorized user)"}),s.jsx("li",{children:"Authorized users in your organization"}),s.jsx("li",{children:"CareDroid's AI processing systems"}),s.jsx("li",{children:"HIPAA-compliant service providers under Business Associate Agreements"})]}),s.jsx("h4",{children:"Your Rights:"}),s.jsxs("ul",{children:[s.jsxs("li",{children:["You may revoke this authorization at any time by contacting ",s.jsx("a",{href:"mailto:privacy@caredroid.ai",children:"privacy@caredroid.ai"})]}),s.jsx("li",{children:"Revocation will not affect actions already taken"}),s.jsx("li",{children:"After revocation, you will not be able to use CareDroid's clinical tools"})]})]}),s.jsx(oa,{id:"consent-hipaa",label:"I authorize the use of PHI as described above",checked:o.hipaa,onChange:k=>b("hipaa",k),required:!0,error:d.hipaa,size:"lg"})]})]}),s.jsxs("div",{className:"consent-section consent-section-required",children:[s.jsxs("div",{className:"consent-section-header",children:[s.jsx("h2",{children:"2. Privacy Policy"}),s.jsx("span",{className:"consent-badge consent-badge-required",children:"Required"})]}),s.jsxs("div",{className:"consent-content",children:[s.jsxs("p",{children:["Please review our ",s.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"})," to understand how we collect, use, and protect your information."]}),s.jsx(oa,{id:"consent-privacy",label:"I have read and accept the Privacy Policy",checked:o.privacy,onChange:k=>b("privacy",k),required:!0,error:d.privacy,size:"lg"})]})]}),s.jsxs("div",{className:"consent-section consent-section-required",children:[s.jsxs("div",{className:"consent-section-header",children:[s.jsx("h2",{children:"3. Terms of Service"}),s.jsx("span",{className:"consent-badge consent-badge-required",children:"Required"})]}),s.jsxs("div",{className:"consent-content",children:[s.jsxs("p",{children:["Please review our ",s.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})," including our medical disclaimer and acceptable use policy."]}),s.jsx("div",{className:"consent-warning",children:s.jsxs("p",{children:[s.jsx("strong",{children:" Important:"})," CareDroid is a decision support tool only. It is NOT a substitute for professional medical judgment."]})}),s.jsx(oa,{id:"consent-terms",label:"I have read and accept the Terms of Service",checked:o.terms,onChange:k=>b("terms",k),required:!0,error:d.terms,size:"lg"})]})]}),s.jsxs("div",{className:"consent-section consent-section-optional",children:[s.jsxs("div",{className:"consent-section-header",children:[s.jsx("h2",{children:"4. Anonymized Data for Research"}),s.jsx("span",{className:"consent-badge consent-badge-optional",children:"Optional"})]}),s.jsxs("div",{className:"consent-content",children:[s.jsxs("p",{children:["Help us improve CareDroid by allowing us to use anonymized, de-identified data for research and AI model training. ",s.jsx("strong",{children:"No PHI or personal information will be included."})]}),s.jsx(oa,{id:"consent-data-sharing",label:"I consent to anonymized data use for research purposes",description:"You can change this preference later in Settings",checked:o.dataSharing,onChange:k=>b("dataSharing",k),size:"lg"})]})]}),s.jsxs("div",{className:"consent-section consent-section-optional",children:[s.jsxs("div",{className:"consent-section-header",children:[s.jsx("h2",{children:"5. Communications"}),s.jsx("span",{className:"consent-badge consent-badge-optional",children:"Optional"})]}),s.jsxs("div",{className:"consent-content",children:[s.jsx("p",{children:"Receive updates about new features, clinical guidelines, and educational content. You can unsubscribe at any time."}),s.jsx(oa,{id:"consent-communications",label:"I want to receive product updates and educational content",description:"No marketing or promotional emails",checked:o.communications,onChange:k=>b("communications",k),size:"lg"})]})]}),d.submit&&s.jsx("div",{className:"consent-error-global",children:d.submit}),s.jsxs("div",{className:"consent-actions",children:[s.jsx("button",{type:"button",className:"btn-consent-secondary",onClick:()=>r("/auth"),disabled:y,children:"Cancel"}),s.jsx("button",{type:"submit",className:"btn-consent-primary",disabled:y,children:y?"Recording Consent...":"Accept and Continue"})]}),s.jsx("p",{className:"consent-footer-note",children:"This consent will be recorded with a timestamp, your IP address, and user information for our audit log as required by HIPAA."})]})]})})},f0=({size:n="md",color:r="accent",className:o="",...c})=>s.jsx("div",{className:`spinner spinner-${n} spinner-${r} ${o}`,role:"status","aria-label":"Loading",...c,children:s.jsx("span",{className:"sr-only",children:"Loading..."})}),th=({icon:n="",title:r="No data yet",description:o,action:c,size:d="md",className:g="",...y})=>s.jsxs("div",{className:`empty-state empty-state-${d} ${g}`,...y,children:[s.jsx("div",{className:"empty-state-icon",children:n}),s.jsxs("div",{className:"empty-state-content",children:[s.jsx("h3",{className:"empty-state-title",children:r}),o&&s.jsx("p",{className:"empty-state-description",children:o}),c&&s.jsx("div",{className:"empty-state-action",children:c})]})]}),nh=()=>{const[n,r]=V.useState([]),[o,c]=V.useState(!0),[d,g]=V.useState(null);V.useEffect(()=>{y()},[]);const y=async()=>{try{const _=await Ye("/api/consent/history",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!_.ok)throw new Error("Failed to fetch consent history");const C=await _.json();r(C.consents||[])}catch(_){console.error("Error fetching consent history:",_),g("Failed to load consent history")}finally{c(!1)}},S=_=>{const C=new Date(_);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"}).format(C)},b=_=>({hipaa_authorization:"HIPAA Authorization",privacy_policy:"Privacy Policy",terms_of_service:"Terms of Service",data_sharing:"Anonymized Data for Research",marketing_communications:"Communications Preferences"})[_]||_;return o?s.jsxs("div",{className:"consent-history-loading",children:[s.jsx(f0,{size:"lg"}),s.jsx("p",{children:"Loading consent history..."})]}):d?s.jsx("div",{className:"consent-history-error",children:s.jsx(th,{icon:"",title:"Error Loading Consent History",message:d,action:{label:"Try Again",onClick:y}})}):n.length===0?s.jsx("div",{className:"consent-history-empty",children:s.jsx(th,{icon:"",title:"No Consent Records",message:"You haven't provided any consents yet",action:{label:"Provide Consent",onClick:()=>window.location.href="/consent"}})}):s.jsx("div",{className:"consent-history",children:s.jsxs("div",{className:"consent-history-container",children:[s.jsxs("div",{className:"consent-history-header",children:[s.jsx("h1",{children:"Consent History"}),s.jsx("p",{className:"consent-history-intro",children:"Your complete consent and authorization history as required by HIPAA. All consent actions are permanently logged for audit purposes."})]}),s.jsxs("div",{className:"consent-history-actions",children:[s.jsx(Ur,{to:"/privacy",className:"btn-consent-link",children:"View Privacy Policy"}),s.jsx(Ur,{to:"/terms",className:"btn-consent-link",children:"View Terms of Service"})]}),s.jsx("div",{className:"consent-history-list",children:n.map((_,C)=>s.jsxs("div",{className:"consent-record",children:[s.jsxs("div",{className:"consent-record-header",children:[s.jsxs("div",{className:"consent-record-date",children:[s.jsx("span",{className:"consent-record-icon",children:""}),s.jsx("span",{className:"consent-record-timestamp",children:S(_.consentDate)})]}),s.jsx("span",{className:`consent-record-status consent-record-status-${_.action}`,children:_.action==="granted"?"Consented":"Revoked"})]}),s.jsxs("div",{className:"consent-record-body",children:[s.jsx("h3",{children:"Consent Event"}),s.jsx("div",{className:"consent-record-details",children:Object.entries(_.consents||{}).map(([k,H])=>s.jsxs("div",{className:"consent-detail-item",children:[s.jsxs("span",{className:"consent-detail-label",children:[b(k),":"]}),s.jsx("span",{className:`consent-detail-value consent-detail-value-${H?"yes":"no"}`,children:H?" Accepted":" Declined"})]},k))})]}),s.jsx("div",{className:"consent-record-footer",children:s.jsxs("div",{className:"consent-record-meta",children:[s.jsxs("span",{title:"IP Address",children:[" ",_.ipAddress||"Unknown"]}),s.jsxs("span",{title:"User Agent",children:[" ",_.userAgent||"Unknown device"]}),s.jsxs("span",{title:"Record ID",children:[" ",_.id||"N/A"]})]})})]},_.id||C))}),s.jsxs("div",{className:"consent-history-footer",children:[s.jsxs("div",{className:"consent-history-info",children:[s.jsx("h3",{children:"About Consent Records"}),s.jsx("p",{children:"As required by HIPAA, we maintain a permanent, tamper-proof audit log of all consent actions. Records include:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Timestamp (with timezone)"}),s.jsx("li",{children:"IP address"}),s.jsx("li",{children:"Device/browser information"}),s.jsx("li",{children:"Consent status for each category"})]}),s.jsxs("p",{children:["You may request a complete copy of your consent history at any time by contacting"," ",s.jsx("a",{href:"mailto:privacy@caredroid.ai",children:"privacy@caredroid.ai"}),"."]})]}),s.jsxs("div",{className:"consent-history-actions-footer",children:[s.jsx(Ur,{to:"/consent",className:"btn-consent-secondary",children:"Manage Consents"}),s.jsx("button",{className:"btn-consent-export",onClick:()=>{const _=JSON.stringify(n,null,2),C=new Blob([_],{type:"application/json"}),k=URL.createObjectURL(C),H=document.createElement("a");H.href=k,H.download=`consent-history-${new Date().toISOString()}.json`,H.click(),URL.revokeObjectURL(k)},children:"Export as JSON"})]})]})]})})},rh=({children:n})=>s.jsxs("div",{style:{minHeight:"100vh",width:"100vw",background:"var(--navy-bg)",color:"var(--text-color)",display:"grid",gridTemplateColumns:"minmax(280px, 1fr) minmax(320px, 520px)",gap:"32px",padding:"48px"},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",gap:"20px"},children:[s.jsx("div",{style:{fontSize:"36px",fontWeight:700,lineHeight:1.1,background:"var(--accent-gradient)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"CareDroid Clinical AI"}),s.jsx("p",{style:{fontSize:"16px",color:"var(--muted-text)",maxWidth:"480px"},children:"A premium clinical AI workspace for fast, structured guidance. Secure, compliant, and built for teams."}),s.jsxs("div",{style:{display:"grid",gap:"10px",maxWidth:"380px"},children:[s.jsx("div",{className:"card-subtle",style:{padding:"14px 16px"},children:" Evidencebased responses and clinical calculators"}),s.jsx("div",{className:"card-subtle",style:{padding:"14px 16px"},children:" HIPAAready workflow with auditability"}),s.jsx("div",{className:"card-subtle",style:{padding:"14px 16px"},children:" Contextual tools surfaced inside chat"})]})]}),s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:n})]}),um=V.createContext(),dm=()=>{const n=V.useContext(um);if(!n)throw new Error("useNotifications must be used within NotificationProvider");return n},p0=({children:n})=>{const[r,o]=V.useState([]),c=V.useCallback(_=>{const C=Date.now().toString(),k={..._,id:C,read:!1,timestamp:new Date().toISOString()};return o(H=>[k,...H]),_.type!=="critical"&&_.type!=="alert"&&setTimeout(()=>{d(C)},5e3),C},[]),d=V.useCallback(_=>{o(C=>C.filter(k=>k.id!==_))},[]),g=V.useCallback(_=>{o(C=>C.map(k=>k.id===_?{...k,read:!0}:k))},[]),y=V.useCallback(()=>{o(_=>_.map(C=>({...C,read:!0})))},[]),S=V.useCallback(()=>{o([])},[]),b={notifications:r,addNotification:c,removeNotification:d,markAsRead:g,markAllAsRead:y,clearAll:S};return s.jsx(um.Provider,{value:b,children:n})},Bl="caredroid_access_token",Ci="caredroid_user_profile",dt={READ_PHI:"READ_PHI",WRITE_PHI:"WRITE_PHI",EXPORT_PHI:"EXPORT_PHI",DELETE_PHI:"DELETE_PHI",USE_CALCULATORS:"USE_CALCULATORS",USE_DRUG_CHECKER:"USE_DRUG_CHECKER",USE_LAB_INTERPRETER:"USE_LAB_INTERPRETER",USE_PROTOCOLS:"USE_PROTOCOLS",USE_AI_CHAT:"USE_AI_CHAT",MANAGE_USERS:"MANAGE_USERS",MANAGE_ROLES:"MANAGE_ROLES",VIEW_USERS:"VIEW_USERS",VIEW_AUDIT_LOGS:"VIEW_AUDIT_LOGS",EXPORT_AUDIT_LOGS:"EXPORT_AUDIT_LOGS",VERIFY_AUDIT_INTEGRITY:"VERIFY_AUDIT_INTEGRITY",CONFIGURE_SYSTEM:"CONFIGURE_SYSTEM",MANAGE_ENCRYPTION:"MANAGE_ENCRYPTION",MANAGE_SUBSCRIPTIONS:"MANAGE_SUBSCRIPTIONS",VIEW_ANALYTICS:"VIEW_ANALYTICS",TRIGGER_EMERGENCY_PROTOCOL:"TRIGGER_EMERGENCY_PROTOCOL",OVERRIDE_SAFETY_CHECKS:"OVERRIDE_SAFETY_CHECKS",ENFORCE_MFA:"ENFORCE_MFA",MANAGE_MFA:"MANAGE_MFA"},Ru={student:[dt.USE_CALCULATORS,dt.USE_DRUG_CHECKER,dt.USE_LAB_INTERPRETER,dt.USE_PROTOCOLS,dt.USE_AI_CHAT],nurse:[dt.READ_PHI,dt.WRITE_PHI,dt.USE_CALCULATORS,dt.USE_DRUG_CHECKER,dt.USE_LAB_INTERPRETER,dt.USE_PROTOCOLS,dt.USE_AI_CHAT,dt.TRIGGER_EMERGENCY_PROTOCOL],physician:[dt.READ_PHI,dt.WRITE_PHI,dt.EXPORT_PHI,dt.DELETE_PHI,dt.USE_CALCULATORS,dt.USE_DRUG_CHECKER,dt.USE_LAB_INTERPRETER,dt.USE_PROTOCOLS,dt.USE_AI_CHAT,dt.TRIGGER_EMERGENCY_PROTOCOL,dt.OVERRIDE_SAFETY_CHECKS,dt.VIEW_AUDIT_LOGS],admin:Object.values(dt)},fm=V.createContext({user:null,authToken:"",isAuthenticated:!1,isLoading:!0,hasPermission:()=>!1,hasAnyPermission:()=>!1,hasAllPermissions:()=>!1,setUser:()=>{},setAuthToken:()=>{},signOut:()=>{}}),tc=()=>{const n=V.useContext(fm);if(!n)throw new Error("useUser must be used within a UserProvider");return n},h0=({children:n})=>{const[r,o]=V.useState(null),[c,d]=V.useState(""),[g,y]=V.useState(!0);V.useEffect(()=>{console.log(`

===  UserContext INITIALIZATION ===`);const Y=localStorage.getItem(Bl),U=localStorage.getItem(Ci);if(console.log(" localStorage contents:"),console.log("- Token exists:",!!Y),console.log("- Token value:",Y),console.log("- Profile exists:",!!U),U)try{console.log("- Profile data:",JSON.parse(U))}catch(de){console.log("- Profile parse error:",de)}if(Y?(console.log(" Loading token into state"),d(Y)):console.log(" No token in localStorage"),U)try{const de=JSON.parse(U);console.log(" Loading profile into state:",de),o(de)}catch(de){console.error(" Failed to parse stored user profile:",de),localStorage.removeItem(Ci)}else console.log(" No profile in localStorage");y(!1),console.log(` UserContext Init Complete

`)},[]),V.useEffect(()=>{if(!c||r)return;(async()=>{try{const U=await Ye("/api/users/profile",{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(U.ok){const de=await U.json();o(de),localStorage.setItem(Ci,JSON.stringify(de))}else{const de=localStorage.getItem(Ci);if(de)try{const Se=JSON.parse(de);o(Se),console.log("Using stored mock profile from localStorage")}catch{console.error("Failed to parse stored profile")}}}catch(U){console.error("Failed to fetch user profile:",U);const de=localStorage.getItem(Ci);if(de)try{const Se=JSON.parse(de);o(Se),console.log("Using stored mock profile (backend unavailable)")}catch{console.error("Failed to parse stored profile")}}finally{y(!1)}})()},[c,r]);const S=Y=>{o(Y),Y?localStorage.setItem(Ci,JSON.stringify(Y)):localStorage.removeItem(Ci)},b=Y=>{d(Y),Y?localStorage.setItem(Bl,Y):localStorage.removeItem(Bl)},_=()=>{o(null),d(""),localStorage.removeItem(Bl),localStorage.removeItem(Ci)},C=Y=>!r||!r.role?!1:(Ru[r.role]||[]).includes(Y),k=Y=>{if(!r||!r.role)return!1;const U=Ru[r.role]||[];return Y.some(de=>U.includes(de))},H=Y=>{if(!r||!r.role)return!1;const U=Ru[r.role]||[];return Y.every(de=>U.includes(de))},ne=!!(c&&r);V.useEffect(()=>{console.log("=== UserContext isAuthenticated changed ==="),console.log("authToken:",!!c),console.log("user:",!!r),console.log("isAuthenticated:",ne),r&&console.log("user details:",{id:r.id,email:r.email,role:r.role})},[ne,c,r]);const q={user:r,authToken:c,isAuthenticated:ne,isLoading:g,hasPermission:C,hasAnyPermission:k,hasAllPermissions:H,setUser:S,setAuthToken:b,signOut:_};return s.jsx(fm.Provider,{value:q,children:n})},Zu=({permission:n,requireAll:r=!1,children:o,fallback:c=null})=>{const{hasPermission:d,hasAnyPermission:g,hasAllPermissions:y}=tc();return typeof n=="string"?d(n)?s.jsx(s.Fragment,{children:o}):s.jsx(s.Fragment,{children:c}):Array.isArray(n)?(r?y(n):g(n))?s.jsx(s.Fragment,{children:o}):s.jsx(s.Fragment,{children:c}):(console.warn("PermissionGate: permission prop must be a string or array"),s.jsx(s.Fragment,{children:c}))},m0=({conversations:n=[],activeConversation:r,onSelectConversation:o,onNewConversation:c,onSignOut:d,healthStatus:g="online",currentTool:y=null,onToolSelect:S})=>{const b=Vr(),{user:_}=tc(),{notifications:C}=dm(),[k,H]=V.useState(!1),ne=C.filter(ee=>!ee.read).length,q=[{id:"drug-interactions",icon:"",name:"Drug Checker",color:"#FF6B9D",description:"Check drug interactions"},{id:"lab-interpreter",icon:"",name:"Lab Interpreter",color:"#4ECDC4",description:"Interpret lab results"},{id:"sofa-calculator",icon:"",name:"SOFA Calculator",color:"#95E1D3",description:"Calculate SOFA score"},{id:"protocols",icon:"",name:"Protocols",color:"#A8E6CF",description:"Clinical protocols"}],Y=[{id:"chat",icon:"",label:"Chat",path:"/"},{id:"profile",icon:"",label:"Profile",path:"/profile"},{id:"team",icon:"",label:"Team",path:"/team",permission:dt.MANAGE_USERS},{id:"audit",icon:"",label:"Audit Logs",path:"/audit-logs",permission:dt.VIEW_AUDIT_LOGS},{id:"settings",icon:"",label:"Settings",path:"/settings"}],U=n.slice(-5).reverse(),de=ee=>{S&&S(ee),b("/")},Se=ee=>{b(ee)};return s.jsxs("aside",{className:`sidebar ${k?"sidebar-collapsed":""}`,children:[s.jsxs("div",{className:"sidebar-header",children:[s.jsxs("div",{className:"sidebar-logo",children:[s.jsx("div",{className:"logo-icon",children:""}),!k&&s.jsxs("div",{className:"logo-text",children:[s.jsx("h1",{children:"CareDroid"}),s.jsx("span",{className:"logo-subtitle",children:"Clinical AI"})]})]}),s.jsx("button",{className:"sidebar-toggle",onClick:()=>H(!k),"aria-label":k?"Expand sidebar":"Collapse sidebar",children:k?"":""})]}),!k&&s.jsxs("div",{className:"sidebar-user",children:[s.jsx("div",{className:"user-avatar",children:_?.name?.charAt(0).toUpperCase()||"U"}),s.jsxs("div",{className:"user-info",children:[s.jsx("div",{className:"user-name",children:_?.name||"User"}),s.jsx("div",{className:"user-role",children:_?.role||"Clinician"})]}),s.jsx("div",{className:`health-indicator ${g}`,children:s.jsx("div",{className:"health-dot"})})]}),s.jsxs("div",{className:"sidebar-content",children:[s.jsxs("button",{className:"btn-new-conversation",onClick:c,children:[s.jsx("span",{className:"btn-icon",children:""}),!k&&s.jsx("span",{children:"New Conversation"})]}),s.jsxs("nav",{className:"sidebar-nav",children:[s.jsx("div",{className:"nav-section-title",children:!k&&"Navigation"}),Y.map(ee=>{const xe=s.jsxs("button",{className:`nav-item ${window.location.pathname===ee.path?"active":""}`,onClick:()=>Se(ee.path),title:k?ee.label:"",children:[s.jsx("span",{className:"nav-icon",children:ee.icon}),!k&&s.jsx("span",{className:"nav-label",children:ee.label})]},ee.id);return ee.permission?s.jsx(Zu,{permission:ee.permission,hideIfDenied:!0,children:xe},ee.id):xe})]}),!k&&s.jsxs("div",{className:"sidebar-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("span",{className:"section-icon",children:""}),s.jsx("span",{className:"section-title",children:"Clinical Tools"})]}),s.jsx("div",{className:"tools-grid",children:q.map(ee=>s.jsxs("button",{className:`tool-card ${y===ee.id?"active":""}`,onClick:()=>de(ee.id),style:{"--tool-color":ee.color},children:[s.jsx("span",{className:"tool-icon",children:ee.icon}),s.jsx("span",{className:"tool-name",children:ee.name})]},ee.id))})]}),!k&&U.length>0&&s.jsxs("div",{className:"sidebar-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("span",{className:"section-icon",children:""}),s.jsx("span",{className:"section-title",children:"Recent"})]}),s.jsx("div",{className:"conversations-list",children:U.map(ee=>s.jsxs("button",{className:`conversation-item ${r===ee.id?"active":""}`,onClick:()=>o(ee.id),children:[s.jsx("span",{className:"conversation-title",children:ee.title.length>25?ee.title.substring(0,25)+"...":ee.title}),s.jsx("span",{className:"conversation-time",children:new Date(ee.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},ee.id))})]})]}),s.jsxs("div",{className:"sidebar-footer",children:[s.jsxs("button",{className:"footer-action",onClick:()=>b("/notifications"),title:"Notifications",children:[s.jsx("span",{className:"action-icon",children:""}),ne>0&&s.jsx("span",{className:"notification-badge",children:ne>9?"9+":ne})]}),!k&&s.jsxs("div",{className:"hipaa-badge",children:[s.jsx("span",{className:"hipaa-icon",children:""}),s.jsx("span",{className:"hipaa-text",children:"HIPAA Compliant"})]}),s.jsxs("button",{className:"btn-signout",onClick:d,title:"Sign Out",children:[s.jsx("span",{className:"signout-icon",children:""}),!k&&s.jsx("span",{children:"Sign Out"})]})]})]})},g0=({isAuthed:n,conversations:r,activeConversation:o,onSelectConversation:c,onNewConversation:d,onSignOut:g,authToken:y,healthStatus:S,currentTool:b=null,currentFeature:_=null,onToolSelect:C=null,onFeatureSelect:k=null,children:H})=>{const{notifications:ne}=dm(),{user:q}=tc();return Vr(),s.jsxs("div",{className:"app-shell",style:{display:"flex",height:"100vh",width:"100vw",background:"var(--navy-bg)",color:"var(--text-color)",overflow:"hidden",position:"relative"},children:[s.jsx(m0,{conversations:r,activeConversation:o,onSelectConversation:c,onNewConversation:d,onSignOut:g,healthStatus:S,currentTool:b,onToolSelect:C}),s.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",marginLeft:"280px",minWidth:0,transition:"margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:H})]})},po=({children:n,isAuthed:r,conversations:o,activeConversation:c,onSelectConversation:d,onNewConversation:g,onSignOut:y,authToken:S,healthStatus:b,currentTool:_,currentFeature:C,onToolSelect:k,onFeatureSelect:H})=>s.jsx(g0,{isAuthed:r,conversations:o,activeConversation:c,onSelectConversation:d,onNewConversation:g,onSignOut:y,authToken:S,healthStatus:b,currentTool:_,currentFeature:C,onToolSelect:k,onFeatureSelect:H,children:n});class y0{async getSystemConfig(){try{return(await ra.get("/config/system")).data}catch(r){return console.error("Failed to fetch system config:",r),{rag:{enabled:!1,topK:5,minScore:.7},session:{idleTimeoutMs:18e5,absoluteTimeoutMs:288e5}}}}async getAIRemainingQueries(){try{return(await ra.get("/ai/remaining-queries")).data}catch(r){return console.error("Failed to fetch AI remaining queries:",r),{tier:"free",dailyLimit:10,usedToday:0,remaining:10,resetAt:new Date(Date.now()+864e5).toISOString()}}}async getAvailableTools(){try{return(await ra.get("/tools/available")).data}catch(r){return console.error("Failed to fetch available tools:",r),{tools:[],count:0,tier:"free"}}}async getCurrentSubscription(){try{return(await ra.get("/subscriptions/current")).data}catch(r){return console.error("Failed to fetch subscription:",r),null}}async getSubscriptionPlans(){try{return(await ra.get("/subscriptions/plans")).data}catch(r){return console.error("Failed to fetch subscription plans:",r),[]}}}const sa=new y0,v0=V.createContext();function x0({children:n}){const[r,o]=V.useState(null),[c,d]=V.useState(null),[g,y]=V.useState(null),[S,b]=V.useState(null),[_,C]=V.useState(!0),[k,H]=V.useState(null),ne=V.useCallback(async()=>{try{C(!0),H(null);const[Y,U,de,Se]=await Promise.all([sa.getSystemConfig(),sa.getAIRemainingQueries(),sa.getAvailableTools(),sa.getCurrentSubscription()]);o(Y),d(U),y(de),b(Se)}catch(Y){console.error("Failed to load system config:",Y),H(Y.message)}finally{C(!1)}},[]);V.useEffect(()=>{ne();const Y=setInterval(()=>{sa.getAIRemainingQueries().then(d)},300*1e3);return()=>clearInterval(Y)},[ne]);const q={systemConfig:r,aiUsage:c,availableTools:g,subscription:S,loading:_,error:k,refresh:ne,isRagEnabled:r?.rag?.enabled??!1,sessionConfig:r?.session};return s.jsx(v0.Provider,{value:q,children:n})}class w0{constructor(){this.userId=null,this.enabled=!0,this.queue=[],this.sessionId=this.generateSessionId(),this.initializeAnalytics()}initializeAnalytics(){if(localStorage.getItem("analytics_opt_out")==="true"){this.enabled=!1,console.log("Analytics disabled by user");return}setInterval(()=>{this.queue.length>0&&this.flush()},3e4)}initializeSegment(r){if(window.analytics){console.log("Segment already initialized");return}const o=document.createElement("script");o.async=!0,o.src=`https://cdn.segment.com/analytics.js/v1/${r}/analytics.min.js`,document.head.appendChild(o),console.log(" Segment analytics initialized")}trackEvent(r){if(!this.enabled)return;const o={...r,timestamp:r.timestamp||new Date().toISOString(),userId:r.userId||this.userId,sessionId:r.sessionId||this.sessionId};this.queue.push(o),window.analytics&&window.analytics.track(r.event,r.properties),this.queue.length>=50&&this.flush()}trackPageView(r,o){if(!this.enabled)return;const c={event:"page_view",properties:{page:r,screenResolution:`${window.screen.width}x${window.screen.height}`,...o},timestamp:new Date().toISOString(),sessionId:this.sessionId};this.trackEvent(c),window.analytics&&window.analytics.page(r,c.properties)}setUser(r){this.enabled&&(this.userId=r.userId,window.analytics&&window.analytics.identify(r.userId,{email:r.email,role:r.role}))}getUserId(){return this.userId}getSessionId(){return this.sessionId}async flush(){if(this.queue.length===0)return;const r=[...this.queue];this.queue=[];try{(await Ye("/api/analytics/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:r,sessionId:this.sessionId,timestamp:new Date().toISOString()})})).ok||(this.queue=[...r,...this.queue])}catch{this.queue=[...r,...this.queue]}}generateSessionId(){return`session-${Date.now()}-${Math.random().toString(16).slice(2)}`}optOut(){this.enabled=!1,localStorage.setItem("analytics_opt_out","true")}optIn(){this.enabled=!0,localStorage.removeItem("analytics_opt_out")}resetSession(){this.sessionId=this.generateSessionId(),this.userId=null,this.flush()}}const la=new w0;class S0{constructor(){this.initialized=!1,this.config={}}initialize(r){this.config=r,this.initialized=!0,console.log(" Crash reporting service initialized")}captureException(r,o){this.initialized&&console.error("Exception captured:",r.message,o)}captureMessage(r,o="error"){this.initialized&&console.warn(`[${o}] ${r}`)}setUser(r,o,c){this.initialized&&sessionStorage.setItem("analytics_user",JSON.stringify({userId:r,email:o,name:c}))}clearUser(){sessionStorage.removeItem("analytics_user")}addBreadcrumb(r,o="default",c){this.initialized&&console.debug(`[${o}] ${r}`,c)}isInitialized(){return this.initialized}}const wd=new S0;var ih={};const pm=function(n){const r=[];let o=0;for(let c=0;c<n.length;c++){let d=n.charCodeAt(c);d<128?r[o++]=d:d<2048?(r[o++]=d>>6|192,r[o++]=d&63|128):(d&64512)===55296&&c+1<n.length&&(n.charCodeAt(c+1)&64512)===56320?(d=65536+((d&1023)<<10)+(n.charCodeAt(++c)&1023),r[o++]=d>>18|240,r[o++]=d>>12&63|128,r[o++]=d>>6&63|128,r[o++]=d&63|128):(r[o++]=d>>12|224,r[o++]=d>>6&63|128,r[o++]=d&63|128)}return r},b0=function(n){const r=[];let o=0,c=0;for(;o<n.length;){const d=n[o++];if(d<128)r[c++]=String.fromCharCode(d);else if(d>191&&d<224){const g=n[o++];r[c++]=String.fromCharCode((d&31)<<6|g&63)}else if(d>239&&d<365){const g=n[o++],y=n[o++],S=n[o++],b=((d&7)<<18|(g&63)<<12|(y&63)<<6|S&63)-65536;r[c++]=String.fromCharCode(55296+(b>>10)),r[c++]=String.fromCharCode(56320+(b&1023))}else{const g=n[o++],y=n[o++];r[c++]=String.fromCharCode((d&15)<<12|(g&63)<<6|y&63)}}return r.join("")},hm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,r){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,c=[];for(let d=0;d<n.length;d+=3){const g=n[d],y=d+1<n.length,S=y?n[d+1]:0,b=d+2<n.length,_=b?n[d+2]:0,C=g>>2,k=(g&3)<<4|S>>4;let H=(S&15)<<2|_>>6,ne=_&63;b||(ne=64,y||(H=64)),c.push(o[C],o[k],o[H],o[ne])}return c.join("")},encodeString(n,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(n):this.encodeByteArray(pm(n),r)},decodeString(n,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(n):b0(this.decodeStringToByteArray(n,r))},decodeStringToByteArray(n,r){this.init_();const o=r?this.charToByteMapWebSafe_:this.charToByteMap_,c=[];for(let d=0;d<n.length;){const g=o[n.charAt(d++)],S=d<n.length?o[n.charAt(d)]:0;++d;const _=d<n.length?o[n.charAt(d)]:64;++d;const k=d<n.length?o[n.charAt(d)]:64;if(++d,g==null||S==null||_==null||k==null)throw new E0;const H=g<<2|S>>4;if(c.push(H),_!==64){const ne=S<<4&240|_>>2;if(c.push(ne),k!==64){const q=_<<6&192|k;c.push(q)}}}return c},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class E0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j0=function(n){const r=pm(n);return hm.encodeByteArray(r,!0)},mm=function(n){return j0(n).replace(/\./g,"")},_0=function(n){try{return hm.decodeString(n,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};function C0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const k0=()=>C0().__FIREBASE_DEFAULTS__,I0=()=>{if(typeof process>"u"||typeof ih>"u")return;const n=ih.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},A0=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=n&&_0(n[1]);return r&&JSON.parse(r)},T0=()=>{try{return k0()||I0()||A0()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gm=()=>{var n;return(n=T0())===null||n===void 0?void 0:n.config};class N0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}wrapCallback(r){return(o,c)=>{o?this.reject(o):this.resolve(c),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(o):r(o,c))}}}function ym(){try{return typeof indexedDB=="object"}catch{return!1}}function vm(){return new Promise((n,r)=>{try{let o=!0;const c="validate-browser-context-for-indexeddb-analytics-module",d=self.indexedDB.open(c);d.onsuccess=()=>{d.result.close(),o||self.indexedDB.deleteDatabase(c),n(!0)},d.onupgradeneeded=()=>{o=!1},d.onerror=()=>{var g;r(((g=d.error)===null||g===void 0?void 0:g.message)||"")}}catch(o){r(o)}})}function R0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const P0="FirebaseError";class ds extends Error{constructor(r,o,c){super(o),this.code=r,this.customData=c,this.name=P0,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nc.prototype.create)}}class nc{constructor(r,o,c){this.service=r,this.serviceName=o,this.errors=c}create(r,...o){const c=o[0]||{},d=`${this.service}/${r}`,g=this.errors[r],y=g?O0(g,c):"Error",S=`${this.serviceName}: ${y} (${d}).`;return new ds(d,S,c)}}function O0(n,r){return n.replace(D0,(o,c)=>{const d=r[c];return d!=null?String(d):`<${c}?>`})}const D0=/\{\$([^}]+)}/g;function ed(n,r){if(n===r)return!0;const o=Object.keys(n),c=Object.keys(r);for(const d of o){if(!c.includes(d))return!1;const g=n[d],y=r[d];if(oh(g)&&oh(y)){if(!ed(g,y))return!1}else if(g!==y)return!1}for(const d of c)if(!o.includes(d))return!1;return!0}function oh(n){return n!==null&&typeof n=="object"}function xm(n){return n&&n._delegate?n._delegate:n}class Pi{constructor(r,o,c){this.name=r,this.instanceFactory=o,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}const ho="[DEFAULT]";class F0{constructor(r,o){this.name=r,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const o=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(o)){const c=new N0;if(this.instancesDeferred.set(o,c),this.isInitialized(o)||this.shouldAutoInitialize())try{const d=this.getOrInitializeService({instanceIdentifier:o});d&&c.resolve(d)}catch{}}return this.instancesDeferred.get(o).promise}getImmediate(r){var o;const c=this.normalizeInstanceIdentifier(r?.identifier),d=(o=r?.optional)!==null&&o!==void 0?o:!1;if(this.isInitialized(c)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:c})}catch(g){if(d)return null;throw g}else{if(d)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(B0(r))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);try{const g=this.getOrInitializeService({instanceIdentifier:d});c.resolve(g)}catch{}}}}clearInstance(r=ho){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(o=>"INTERNAL"in o).map(o=>o.INTERNAL.delete()),...r.filter(o=>"_delete"in o).map(o=>o._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=ho){return this.instances.has(r)}getOptions(r=ho){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:o={}}=r,c=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const d=this.getOrInitializeService({instanceIdentifier:c,options:o});for(const[g,y]of this.instancesDeferred.entries()){const S=this.normalizeInstanceIdentifier(g);c===S&&y.resolve(d)}return d}onInit(r,o){var c;const d=this.normalizeInstanceIdentifier(o),g=(c=this.onInitCallbacks.get(d))!==null&&c!==void 0?c:new Set;g.add(r),this.onInitCallbacks.set(d,g);const y=this.instances.get(d);return y&&r(y,d),()=>{g.delete(r)}}invokeOnInitCallbacks(r,o){const c=this.onInitCallbacks.get(o);if(c)for(const d of c)try{d(r,o)}catch{}}getOrInitializeService({instanceIdentifier:r,options:o={}}){let c=this.instances.get(r);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:L0(r),options:o}),this.instances.set(r,c),this.instancesOptions.set(r,o),this.invokeOnInitCallbacks(c,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,c)}catch{}return c||null}normalizeInstanceIdentifier(r=ho){return this.component?this.component.multipleInstances?r:ho:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L0(n){return n===ho?void 0:n}function B0(n){return n.instantiationMode==="EAGER"}class M0{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const o=this.getProvider(r.name);if(o.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);o.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const o=new F0(r,this);return this.providers.set(r,o),o}getProviders(){return Array.from(this.providers.values())}}var wt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(wt||(wt={}));const U0={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},z0=wt.INFO,H0={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},$0=(n,r,...o)=>{if(r<n.logLevel)return;const c=new Date().toISOString(),d=H0[r];if(d)console[d](`[${c}]  ${n.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class V0{constructor(r){this.name=r,this._logLevel=z0,this._logHandler=$0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in wt))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?U0[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...r),this._logHandler(this,wt.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...r),this._logHandler(this,wt.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...r),this._logHandler(this,wt.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...r),this._logHandler(this,wt.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...r),this._logHandler(this,wt.ERROR,...r)}}const K0=(n,r)=>r.some(o=>n instanceof o);let sh,ah;function W0(){return sh||(sh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q0(){return ah||(ah=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wm=new WeakMap,td=new WeakMap,Sm=new WeakMap,Pu=new WeakMap,Sd=new WeakMap;function Y0(n){const r=new Promise((o,c)=>{const d=()=>{n.removeEventListener("success",g),n.removeEventListener("error",y)},g=()=>{o(Hr(n.result)),d()},y=()=>{c(n.error),d()};n.addEventListener("success",g),n.addEventListener("error",y)});return r.then(o=>{o instanceof IDBCursor&&wm.set(o,n)}).catch(()=>{}),Sd.set(r,n),r}function G0(n){if(td.has(n))return;const r=new Promise((o,c)=>{const d=()=>{n.removeEventListener("complete",g),n.removeEventListener("error",y),n.removeEventListener("abort",y)},g=()=>{o(),d()},y=()=>{c(n.error||new DOMException("AbortError","AbortError")),d()};n.addEventListener("complete",g),n.addEventListener("error",y),n.addEventListener("abort",y)});td.set(n,r)}let nd={get(n,r,o){if(n instanceof IDBTransaction){if(r==="done")return td.get(n);if(r==="objectStoreNames")return n.objectStoreNames||Sm.get(n);if(r==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return Hr(n[r])},set(n,r,o){return n[r]=o,!0},has(n,r){return n instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in n}};function Q0(n){nd=n(nd)}function J0(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...o){const c=n.call(Ou(this),r,...o);return Sm.set(c,r.sort?r.sort():[r]),Hr(c)}:q0().includes(n)?function(...r){return n.apply(Ou(this),r),Hr(wm.get(this))}:function(...r){return Hr(n.apply(Ou(this),r))}}function X0(n){return typeof n=="function"?J0(n):(n instanceof IDBTransaction&&G0(n),K0(n,W0())?new Proxy(n,nd):n)}function Hr(n){if(n instanceof IDBRequest)return Y0(n);if(Pu.has(n))return Pu.get(n);const r=X0(n);return r!==n&&(Pu.set(n,r),Sd.set(r,n)),r}const Ou=n=>Sd.get(n);function rc(n,r,{blocked:o,upgrade:c,blocking:d,terminated:g}={}){const y=indexedDB.open(n,r),S=Hr(y);return c&&y.addEventListener("upgradeneeded",b=>{c(Hr(y.result),b.oldVersion,b.newVersion,Hr(y.transaction),b)}),o&&y.addEventListener("blocked",b=>o(b.oldVersion,b.newVersion,b)),S.then(b=>{g&&b.addEventListener("close",()=>g()),d&&b.addEventListener("versionchange",_=>d(_.oldVersion,_.newVersion,_))}).catch(()=>{}),S}function Du(n,{blocked:r}={}){const o=indexedDB.deleteDatabase(n);return r&&o.addEventListener("blocked",c=>r(c.oldVersion,c)),Hr(o).then(()=>{})}const Z0=["get","getKey","getAll","getAllKeys","count"],ew=["put","add","delete","clear"],Fu=new Map;function lh(n,r){if(!(n instanceof IDBDatabase&&!(r in n)&&typeof r=="string"))return;if(Fu.get(r))return Fu.get(r);const o=r.replace(/FromIndex$/,""),c=r!==o,d=ew.includes(o);if(!(o in(c?IDBIndex:IDBObjectStore).prototype)||!(d||Z0.includes(o)))return;const g=async function(y,...S){const b=this.transaction(y,d?"readwrite":"readonly");let _=b.store;return c&&(_=_.index(S.shift())),(await Promise.all([_[o](...S),d&&b.done]))[0]};return Fu.set(r,g),g}Q0(n=>({...n,get:(r,o,c)=>lh(r,o)||n.get(r,o,c),has:(r,o)=>!!lh(r,o)||n.has(r,o)}));class tw{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(nw(o)){const c=o.getImmediate();return`${c.library}/${c.version}`}else return null}).filter(o=>o).join(" ")}}function nw(n){const r=n.getComponent();return r?.type==="VERSION"}const rd="@firebase/app",ch="0.10.13";const $r=new V0("@firebase/app"),rw="@firebase/app-compat",iw="@firebase/analytics-compat",ow="@firebase/analytics",sw="@firebase/app-check-compat",aw="@firebase/app-check",lw="@firebase/auth",cw="@firebase/auth-compat",uw="@firebase/database",dw="@firebase/data-connect",fw="@firebase/database-compat",pw="@firebase/functions",hw="@firebase/functions-compat",mw="@firebase/installations",gw="@firebase/installations-compat",yw="@firebase/messaging",vw="@firebase/messaging-compat",xw="@firebase/performance",ww="@firebase/performance-compat",Sw="@firebase/remote-config",bw="@firebase/remote-config-compat",Ew="@firebase/storage",jw="@firebase/storage-compat",_w="@firebase/firestore",Cw="@firebase/vertexai-preview",kw="@firebase/firestore-compat",Iw="firebase";const id="[DEFAULT]",Aw={[rd]:"fire-core",[rw]:"fire-core-compat",[ow]:"fire-analytics",[iw]:"fire-analytics-compat",[aw]:"fire-app-check",[sw]:"fire-app-check-compat",[lw]:"fire-auth",[cw]:"fire-auth-compat",[uw]:"fire-rtdb",[dw]:"fire-data-connect",[fw]:"fire-rtdb-compat",[pw]:"fire-fn",[hw]:"fire-fn-compat",[mw]:"fire-iid",[gw]:"fire-iid-compat",[yw]:"fire-fcm",[vw]:"fire-fcm-compat",[xw]:"fire-perf",[ww]:"fire-perf-compat",[Sw]:"fire-rc",[bw]:"fire-rc-compat",[Ew]:"fire-gcs",[jw]:"fire-gcs-compat",[_w]:"fire-fst",[kw]:"fire-fst-compat",[Cw]:"fire-vertex","fire-js":"fire-js",[Iw]:"fire-js-all"};const da=new Map,Tw=new Map,od=new Map;function uh(n,r){try{n.container.addComponent(r)}catch(o){$r.debug(`Component ${r.name} failed to register with FirebaseApp ${n.name}`,o)}}function xo(n){const r=n.name;if(od.has(r))return $r.debug(`There were multiple attempts to register component ${r}.`),!1;od.set(r,n);for(const o of da.values())uh(o,n);for(const o of Tw.values())uh(o,n);return!0}function bd(n,r){const o=n.container.getProvider("heartbeat").getImmediate({optional:!0});return o&&o.triggerHeartbeat(),n.container.getProvider(r)}const Nw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ni=new nc("app","Firebase",Nw);class Rw{constructor(r,o,c){this._isDeleted=!1,this._options=Object.assign({},r),this._config=Object.assign({},o),this._name=o.name,this._automaticDataCollectionEnabled=o.automaticDataCollectionEnabled,this._container=c,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}function bm(n,r={}){let o=n;typeof r!="object"&&(r={name:r});const c=Object.assign({name:id,automaticDataCollectionEnabled:!1},r),d=c.name;if(typeof d!="string"||!d)throw Ni.create("bad-app-name",{appName:String(d)});if(o||(o=gm()),!o)throw Ni.create("no-options");const g=da.get(d);if(g){if(ed(o,g.options)&&ed(c,g.config))return g;throw Ni.create("duplicate-app",{appName:d})}const y=new M0(d);for(const b of od.values())y.addComponent(b);const S=new Rw(o,c,y);return da.set(d,S),S}function Pw(n=id){const r=da.get(n);if(!r&&n===id&&gm())return bm();if(!r)throw Ni.create("no-app",{appName:n});return r}function dh(){return Array.from(da.values())}function Ri(n,r,o){var c;let d=(c=Aw[n])!==null&&c!==void 0?c:n;o&&(d+=`-${o}`);const g=d.match(/\s|\//),y=r.match(/\s|\//);if(g||y){const S=[`Unable to register library "${d}" with version "${r}":`];g&&S.push(`library name "${d}" contains illegal characters (whitespace or "/")`),g&&y&&S.push("and"),y&&S.push(`version name "${r}" contains illegal characters (whitespace or "/")`),$r.warn(S.join(" "));return}xo(new Pi(`${d}-version`,()=>({library:d,version:r}),"VERSION"))}const Ow="firebase-heartbeat-database",Dw=1,fa="firebase-heartbeat-store";let Lu=null;function Em(){return Lu||(Lu=rc(Ow,Dw,{upgrade:(n,r)=>{switch(r){case 0:try{n.createObjectStore(fa)}catch(o){console.warn(o)}}}}).catch(n=>{throw Ni.create("idb-open",{originalErrorMessage:n.message})})),Lu}async function Fw(n){try{const o=(await Em()).transaction(fa),c=await o.objectStore(fa).get(jm(n));return await o.done,c}catch(r){if(r instanceof ds)$r.warn(r.message);else{const o=Ni.create("idb-get",{originalErrorMessage:r?.message});$r.warn(o.message)}}}async function fh(n,r){try{const c=(await Em()).transaction(fa,"readwrite");await c.objectStore(fa).put(r,jm(n)),await c.done}catch(o){if(o instanceof ds)$r.warn(o.message);else{const c=Ni.create("idb-set",{originalErrorMessage:o?.message});$r.warn(c.message)}}}function jm(n){return`${n.name}!${n.options.appId}`}const Lw=1024,Bw=720*60*60*1e3;class Mw{constructor(r){this.container=r,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this._storage=new zw(o),this._heartbeatsCachePromise=this._storage.read().then(c=>(this._heartbeatsCache=c,c))}async triggerHeartbeat(){var r,o;try{const d=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),g=ph();return((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((o=this._heartbeatsCache)===null||o===void 0?void 0:o.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===g||this._heartbeatsCache.heartbeats.some(y=>y.date===g)?void 0:(this._heartbeatsCache.heartbeats.push({date:g,agent:d}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(y=>{const S=new Date(y.date).valueOf();return Date.now()-S<=Bw}),this._storage.overwrite(this._heartbeatsCache))}catch(c){$r.warn(c)}}async getHeartbeatsHeader(){var r;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const o=ph(),{heartbeatsToSend:c,unsentEntries:d}=Uw(this._heartbeatsCache.heartbeats),g=mm(JSON.stringify({version:2,heartbeats:c}));return this._heartbeatsCache.lastSentHeartbeatDate=o,d.length>0?(this._heartbeatsCache.heartbeats=d,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),g}catch(o){return $r.warn(o),""}}}function ph(){return new Date().toISOString().substring(0,10)}function Uw(n,r=Lw){const o=[];let c=n.slice();for(const d of n){const g=o.find(y=>y.agent===d.agent);if(g){if(g.dates.push(d.date),hh(o)>r){g.dates.pop();break}}else if(o.push({agent:d.agent,dates:[d.date]}),hh(o)>r){o.pop();break}c=c.slice(1)}return{heartbeatsToSend:o,unsentEntries:c}}class zw{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ym()?vm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const o=await Fw(this.app);return o?.heartbeats?o:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){var o;if(await this._canUseIndexedDBPromise){const d=await this.read();return fh(this.app,{lastSentHeartbeatDate:(o=r.lastSentHeartbeatDate)!==null&&o!==void 0?o:d.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){var o;if(await this._canUseIndexedDBPromise){const d=await this.read();return fh(this.app,{lastSentHeartbeatDate:(o=r.lastSentHeartbeatDate)!==null&&o!==void 0?o:d.lastSentHeartbeatDate,heartbeats:[...d.heartbeats,...r.heartbeats]})}else return}}function hh(n){return mm(JSON.stringify({version:2,heartbeats:n})).length}function Hw(n){xo(new Pi("platform-logger",r=>new tw(r),"PRIVATE")),xo(new Pi("heartbeat",r=>new Mw(r),"PRIVATE")),Ri(rd,ch,n),Ri(rd,ch,"esm2017"),Ri("fire-js","")}Hw("");var $w="firebase",Vw="10.14.1";Ri($w,Vw,"app");const _m="@firebase/installations",Ed="0.6.9";const Cm=1e4,km=`w:${Ed}`,Im="FIS_v2",Kw="https://firebaseinstallations.googleapis.com/v1",Ww=3600*1e3,qw="installations",Yw="Installations";const Gw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wo=new nc(qw,Yw,Gw);function Am(n){return n instanceof ds&&n.code.includes("request-failed")}function Tm({projectId:n}){return`${Kw}/projects/${n}/installations`}function Nm(n){return{token:n.token,requestStatus:2,expiresIn:Jw(n.expiresIn),creationTime:Date.now()}}async function Rm(n,r){const c=(await r.json()).error;return wo.create("request-failed",{requestName:n,serverCode:c.code,serverMessage:c.message,serverStatus:c.status})}function Pm({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Qw(n,{refreshToken:r}){const o=Pm(n);return o.append("Authorization",Xw(r)),o}async function Om(n){const r=await n();return r.status>=500&&r.status<600?n():r}function Jw(n){return Number(n.replace("s","000"))}function Xw(n){return`${Im} ${n}`}async function Zw({appConfig:n,heartbeatServiceProvider:r},{fid:o}){const c=Tm(n),d=Pm(n),g=r.getImmediate({optional:!0});if(g){const _=await g.getHeartbeatsHeader();_&&d.append("x-firebase-client",_)}const y={fid:o,authVersion:Im,appId:n.appId,sdkVersion:km},S={method:"POST",headers:d,body:JSON.stringify(y)},b=await Om(()=>fetch(c,S));if(b.ok){const _=await b.json();return{fid:_.fid||o,registrationStatus:2,refreshToken:_.refreshToken,authToken:Nm(_.authToken)}}else throw await Rm("Create Installation",b)}function Dm(n){return new Promise(r=>{setTimeout(r,n)})}function eS(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const tS=/^[cdef][\w-]{21}$/,sd="";function nS(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const o=rS(n);return tS.test(o)?o:sd}catch{return sd}}function rS(n){return eS(n).substr(0,22)}function ic(n){return`${n.appName}!${n.appId}`}const Fm=new Map;function Lm(n,r){const o=ic(n);Bm(o,r),iS(o,r)}function Bm(n,r){const o=Fm.get(n);if(o)for(const c of o)c(r)}function iS(n,r){const o=oS();o&&o.postMessage({key:n,fid:r}),sS()}let go=null;function oS(){return!go&&"BroadcastChannel"in self&&(go=new BroadcastChannel("[Firebase] FID Change"),go.onmessage=n=>{Bm(n.data.key,n.data.fid)}),go}function sS(){Fm.size===0&&go&&(go.close(),go=null)}const aS="firebase-installations-database",lS=1,So="firebase-installations-store";let Bu=null;function jd(){return Bu||(Bu=rc(aS,lS,{upgrade:(n,r)=>{r===0&&n.createObjectStore(So)}})),Bu}async function Wl(n,r){const o=ic(n),d=(await jd()).transaction(So,"readwrite"),g=d.objectStore(So),y=await g.get(o);return await g.put(r,o),await d.done,(!y||y.fid!==r.fid)&&Lm(n,r.fid),r}async function Mm(n){const r=ic(n),c=(await jd()).transaction(So,"readwrite");await c.objectStore(So).delete(r),await c.done}async function oc(n,r){const o=ic(n),d=(await jd()).transaction(So,"readwrite"),g=d.objectStore(So),y=await g.get(o),S=r(y);return S===void 0?await g.delete(o):await g.put(S,o),await d.done,S&&(!y||y.fid!==S.fid)&&Lm(n,S.fid),S}async function _d(n){let r;const o=await oc(n.appConfig,c=>{const d=cS(c),g=uS(n,d);return r=g.registrationPromise,g.installationEntry});return o.fid===sd?{installationEntry:await r}:{installationEntry:o,registrationPromise:r}}function cS(n){const r=n||{fid:nS(),registrationStatus:0};return Um(r)}function uS(n,r){if(r.registrationStatus===0){if(!navigator.onLine){const d=Promise.reject(wo.create("app-offline"));return{installationEntry:r,registrationPromise:d}}const o={fid:r.fid,registrationStatus:1,registrationTime:Date.now()},c=dS(n,o);return{installationEntry:o,registrationPromise:c}}else return r.registrationStatus===1?{installationEntry:r,registrationPromise:fS(n)}:{installationEntry:r}}async function dS(n,r){try{const o=await Zw(n,r);return Wl(n.appConfig,o)}catch(o){throw Am(o)&&o.customData.serverCode===409?await Mm(n.appConfig):await Wl(n.appConfig,{fid:r.fid,registrationStatus:0}),o}}async function fS(n){let r=await mh(n.appConfig);for(;r.registrationStatus===1;)await Dm(100),r=await mh(n.appConfig);if(r.registrationStatus===0){const{installationEntry:o,registrationPromise:c}=await _d(n);return c||o}return r}function mh(n){return oc(n,r=>{if(!r)throw wo.create("installation-not-found");return Um(r)})}function Um(n){return pS(n)?{fid:n.fid,registrationStatus:0}:n}function pS(n){return n.registrationStatus===1&&n.registrationTime+Cm<Date.now()}async function hS({appConfig:n,heartbeatServiceProvider:r},o){const c=mS(n,o),d=Qw(n,o),g=r.getImmediate({optional:!0});if(g){const _=await g.getHeartbeatsHeader();_&&d.append("x-firebase-client",_)}const y={installation:{sdkVersion:km,appId:n.appId}},S={method:"POST",headers:d,body:JSON.stringify(y)},b=await Om(()=>fetch(c,S));if(b.ok){const _=await b.json();return Nm(_)}else throw await Rm("Generate Auth Token",b)}function mS(n,{fid:r}){return`${Tm(n)}/${r}/authTokens:generate`}async function Cd(n,r=!1){let o;const c=await oc(n.appConfig,g=>{if(!zm(g))throw wo.create("not-registered");const y=g.authToken;if(!r&&vS(y))return g;if(y.requestStatus===1)return o=gS(n,r),g;{if(!navigator.onLine)throw wo.create("app-offline");const S=wS(g);return o=yS(n,S),S}});return o?await o:c.authToken}async function gS(n,r){let o=await gh(n.appConfig);for(;o.authToken.requestStatus===1;)await Dm(100),o=await gh(n.appConfig);const c=o.authToken;return c.requestStatus===0?Cd(n,r):c}function gh(n){return oc(n,r=>{if(!zm(r))throw wo.create("not-registered");const o=r.authToken;return SS(o)?Object.assign(Object.assign({},r),{authToken:{requestStatus:0}}):r})}async function yS(n,r){try{const o=await hS(n,r),c=Object.assign(Object.assign({},r),{authToken:o});return await Wl(n.appConfig,c),o}catch(o){if(Am(o)&&(o.customData.serverCode===401||o.customData.serverCode===404))await Mm(n.appConfig);else{const c=Object.assign(Object.assign({},r),{authToken:{requestStatus:0}});await Wl(n.appConfig,c)}throw o}}function zm(n){return n!==void 0&&n.registrationStatus===2}function vS(n){return n.requestStatus===2&&!xS(n)}function xS(n){const r=Date.now();return r<n.creationTime||n.creationTime+n.expiresIn<r+Ww}function wS(n){const r={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:r})}function SS(n){return n.requestStatus===1&&n.requestTime+Cm<Date.now()}async function bS(n){const r=n,{installationEntry:o,registrationPromise:c}=await _d(r);return c?c.catch(console.error):Cd(r).catch(console.error),o.fid}async function ES(n,r=!1){const o=n;return await jS(o),(await Cd(o,r)).token}async function jS(n){const{registrationPromise:r}=await _d(n);r&&await r}function _S(n){if(!n||!n.options)throw Mu("App Configuration");if(!n.name)throw Mu("App Name");const r=["projectId","apiKey","appId"];for(const o of r)if(!n.options[o])throw Mu(o);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Mu(n){return wo.create("missing-app-config-values",{valueName:n})}const Hm="installations",CS="installations-internal",kS=n=>{const r=n.getProvider("app").getImmediate(),o=_S(r),c=bd(r,"heartbeat");return{app:r,appConfig:o,heartbeatServiceProvider:c,_delete:()=>Promise.resolve()}},IS=n=>{const r=n.getProvider("app").getImmediate(),o=bd(r,Hm).getImmediate();return{getId:()=>bS(o),getToken:d=>ES(o,d)}};function AS(){xo(new Pi(Hm,kS,"PUBLIC")),xo(new Pi(CS,IS,"PRIVATE"))}AS();Ri(_m,Ed);Ri(_m,Ed,"esm2017");const TS="/firebase-messaging-sw.js",NS="/firebase-cloud-messaging-push-scope",$m="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",RS="https://fcmregistrations.googleapis.com/v1",Vm="google.c.a.c_id",PS="google.c.a.c_l",OS="google.c.a.ts",DS="google.c.a.e";var yh;(function(n){n[n.DATA_MESSAGE=1]="DATA_MESSAGE",n[n.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(yh||(yh={}));var pa;(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"})(pa||(pa={}));function Mr(n){const r=new Uint8Array(n);return btoa(String.fromCharCode(...r)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function FS(n){const r="=".repeat((4-n.length%4)%4),o=(n+r).replace(/\-/g,"+").replace(/_/g,"/"),c=atob(o),d=new Uint8Array(c.length);for(let g=0;g<c.length;++g)d[g]=c.charCodeAt(g);return d}const Uu="fcm_token_details_db",LS=5,vh="fcm_token_object_Store";async function BS(n){if("databases"in indexedDB&&!(await indexedDB.databases()).map(g=>g.name).includes(Uu))return null;let r=null;return(await rc(Uu,LS,{upgrade:async(c,d,g,y)=>{var S;if(d<2||!c.objectStoreNames.contains(vh))return;const b=y.objectStore(vh),_=await b.index("fcmSenderId").get(n);if(await b.clear(),!!_){if(d===2){const C=_;if(!C.auth||!C.p256dh||!C.endpoint)return;r={token:C.fcmToken,createTime:(S=C.createTime)!==null&&S!==void 0?S:Date.now(),subscriptionOptions:{auth:C.auth,p256dh:C.p256dh,endpoint:C.endpoint,swScope:C.swScope,vapidKey:typeof C.vapidKey=="string"?C.vapidKey:Mr(C.vapidKey)}}}else if(d===3){const C=_;r={token:C.fcmToken,createTime:C.createTime,subscriptionOptions:{auth:Mr(C.auth),p256dh:Mr(C.p256dh),endpoint:C.endpoint,swScope:C.swScope,vapidKey:Mr(C.vapidKey)}}}else if(d===4){const C=_;r={token:C.fcmToken,createTime:C.createTime,subscriptionOptions:{auth:Mr(C.auth),p256dh:Mr(C.p256dh),endpoint:C.endpoint,swScope:C.swScope,vapidKey:Mr(C.vapidKey)}}}}}})).close(),await Du(Uu),await Du("fcm_vapid_details_db"),await Du("undefined"),MS(r)?r:null}function MS(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:r}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof r.auth=="string"&&r.auth.length>0&&typeof r.p256dh=="string"&&r.p256dh.length>0&&typeof r.endpoint=="string"&&r.endpoint.length>0&&typeof r.swScope=="string"&&r.swScope.length>0&&typeof r.vapidKey=="string"&&r.vapidKey.length>0}const US="firebase-messaging-database",zS=1,ha="firebase-messaging-store";let zu=null;function Km(){return zu||(zu=rc(US,zS,{upgrade:(n,r)=>{r===0&&n.createObjectStore(ha)}})),zu}async function HS(n){const r=Wm(n),c=await(await Km()).transaction(ha).objectStore(ha).get(r);if(c)return c;{const d=await BS(n.appConfig.senderId);if(d)return await kd(n,d),d}}async function kd(n,r){const o=Wm(n),d=(await Km()).transaction(ha,"readwrite");return await d.objectStore(ha).put(r,o),await d.done,r}function Wm({appConfig:n}){return n.appId}const $S={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},cn=new nc("messaging","Messaging",$S);async function VS(n,r){const o=await Ad(n),c=qm(r),d={method:"POST",headers:o,body:JSON.stringify(c)};let g;try{g=await(await fetch(Id(n.appConfig),d)).json()}catch(y){throw cn.create("token-subscribe-failed",{errorInfo:y?.toString()})}if(g.error){const y=g.error.message;throw cn.create("token-subscribe-failed",{errorInfo:y})}if(!g.token)throw cn.create("token-subscribe-no-token");return g.token}async function KS(n,r){const o=await Ad(n),c=qm(r.subscriptionOptions),d={method:"PATCH",headers:o,body:JSON.stringify(c)};let g;try{g=await(await fetch(`${Id(n.appConfig)}/${r.token}`,d)).json()}catch(y){throw cn.create("token-update-failed",{errorInfo:y?.toString()})}if(g.error){const y=g.error.message;throw cn.create("token-update-failed",{errorInfo:y})}if(!g.token)throw cn.create("token-update-no-token");return g.token}async function WS(n,r){const c={method:"DELETE",headers:await Ad(n)};try{const g=await(await fetch(`${Id(n.appConfig)}/${r}`,c)).json();if(g.error){const y=g.error.message;throw cn.create("token-unsubscribe-failed",{errorInfo:y})}}catch(d){throw cn.create("token-unsubscribe-failed",{errorInfo:d?.toString()})}}function Id({projectId:n}){return`${RS}/projects/${n}/registrations`}async function Ad({appConfig:n,installations:r}){const o=await r.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${o}`})}function qm({p256dh:n,auth:r,endpoint:o,vapidKey:c}){const d={web:{endpoint:o,auth:r,p256dh:n}};return c!==$m&&(d.web.applicationPubKey=c),d}const qS=10080*60*1e3;async function YS(n){const r=await QS(n.swRegistration,n.vapidKey),o={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:r.endpoint,auth:Mr(r.getKey("auth")),p256dh:Mr(r.getKey("p256dh"))},c=await HS(n.firebaseDependencies);if(c){if(JS(c.subscriptionOptions,o))return Date.now()>=c.createTime+qS?GS(n,{token:c.token,createTime:Date.now(),subscriptionOptions:o}):c.token;try{await WS(n.firebaseDependencies,c.token)}catch(d){console.warn(d)}return xh(n.firebaseDependencies,o)}else return xh(n.firebaseDependencies,o)}async function GS(n,r){try{const o=await KS(n.firebaseDependencies,r),c=Object.assign(Object.assign({},r),{token:o,createTime:Date.now()});return await kd(n.firebaseDependencies,c),o}catch(o){throw o}}async function xh(n,r){const c={token:await VS(n,r),createTime:Date.now(),subscriptionOptions:r};return await kd(n,c),c.token}async function QS(n,r){const o=await n.pushManager.getSubscription();return o||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:FS(r)})}function JS(n,r){const o=r.vapidKey===n.vapidKey,c=r.endpoint===n.endpoint,d=r.auth===n.auth,g=r.p256dh===n.p256dh;return o&&c&&d&&g}function wh(n){const r={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return XS(r,n),ZS(r,n),eb(r,n),r}function XS(n,r){if(!r.notification)return;n.notification={};const o=r.notification.title;o&&(n.notification.title=o);const c=r.notification.body;c&&(n.notification.body=c);const d=r.notification.image;d&&(n.notification.image=d);const g=r.notification.icon;g&&(n.notification.icon=g)}function ZS(n,r){r.data&&(n.data=r.data)}function eb(n,r){var o,c,d,g,y;if(!r.fcmOptions&&!(!((o=r.notification)===null||o===void 0)&&o.click_action))return;n.fcmOptions={};const S=(d=(c=r.fcmOptions)===null||c===void 0?void 0:c.link)!==null&&d!==void 0?d:(g=r.notification)===null||g===void 0?void 0:g.click_action;S&&(n.fcmOptions.link=S);const b=(y=r.fcmOptions)===null||y===void 0?void 0:y.analytics_label;b&&(n.fcmOptions.analyticsLabel=b)}function tb(n){return typeof n=="object"&&!!n&&Vm in n}function nb(n){if(!n||!n.options)throw Hu("App Configuration Object");if(!n.name)throw Hu("App Name");const r=["projectId","apiKey","appId","messagingSenderId"],{options:o}=n;for(const c of r)if(!o[c])throw Hu(c);return{appName:n.name,projectId:o.projectId,apiKey:o.apiKey,appId:o.appId,senderId:o.messagingSenderId}}function Hu(n){return cn.create("missing-app-config-values",{valueName:n})}class rb{constructor(r,o,c){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const d=nb(r);this.firebaseDependencies={app:r,appConfig:d,installations:o,analyticsProvider:c}}_delete(){return Promise.resolve()}}async function ib(n){try{n.swRegistration=await navigator.serviceWorker.register(TS,{scope:NS}),n.swRegistration.update().catch(()=>{})}catch(r){throw cn.create("failed-service-worker-registration",{browserErrorMessage:r?.message})}}async function ob(n,r){if(!r&&!n.swRegistration&&await ib(n),!(!r&&n.swRegistration)){if(!(r instanceof ServiceWorkerRegistration))throw cn.create("invalid-sw-registration");n.swRegistration=r}}async function sb(n,r){r?n.vapidKey=r:n.vapidKey||(n.vapidKey=$m)}async function Ym(n,r){if(!navigator)throw cn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw cn.create("permission-blocked");return await sb(n,r?.vapidKey),await ob(n,r?.serviceWorkerRegistration),YS(n)}async function ab(n,r,o){const c=lb(r);(await n.firebaseDependencies.analyticsProvider.get()).logEvent(c,{message_id:o[Vm],message_name:o[PS],message_time:o[OS],message_device_time:Math.floor(Date.now()/1e3)})}function lb(n){switch(n){case pa.NOTIFICATION_CLICKED:return"notification_open";case pa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function cb(n,r){const o=r.data;if(!o.isFirebaseMessaging)return;n.onMessageHandler&&o.messageType===pa.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(wh(o)):n.onMessageHandler.next(wh(o)));const c=o.data;tb(c)&&c[DS]==="1"&&await ab(n,o.messageType,c)}const Sh="@firebase/messaging",bh="0.12.12";const ub=n=>{const r=new rb(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",o=>cb(r,o)),r},fb=n=>{const r=n.getProvider("messaging").getImmediate();return{getToken:c=>Ym(r,c)}};function pb(){xo(new Pi("messaging",ub,"PUBLIC")),xo(new Pi("messaging-internal",fb,"PRIVATE")),Ri(Sh,bh),Ri(Sh,bh,"esm2017")}async function Gm(){try{await vm()}catch{return!1}return typeof window<"u"&&ym()&&R0()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function hb(n=Pw()){return Gm().then(r=>{if(!r)throw cn.create("unsupported-browser")},r=>{throw cn.create("indexed-db-unsupported")}),bd(xm(n),"messaging").getImmediate()}async function mb(n,r){return n=xm(n),Ym(n,r)}pb();let Ml,ql;const Qm=()=>({apiKey:st.firebase.apiKey,authDomain:st.firebase.authDomain,projectId:st.firebase.projectId,storageBucket:st.firebase.storageBucket,messagingSenderId:st.firebase.messagingSenderId,appId:st.firebase.appId,measurementId:st.firebase.measurementId}),Jm=n=>!!n.apiKey&&!!n.projectId&&!!n.messagingSenderId&&!!n.appId,gb=async()=>{const n=Qm();return Jm(n)?(Ml||(Ml=dh().length?dh()[0]:bm(n)),!ql&&typeof window<"u"&&await Gm()&&(ql=hb(Ml)),Ml):null},yb=async()=>{if(!("serviceWorker"in navigator))return null;const n=Qm();if(!Jm(n)||!st.firebase.vapidKey||(await gb(),!ql))return null;const r=new URL("/firebase-messaging-sw.js",window.location.origin);Object.entries(n).forEach(([c,d])=>{d&&r.searchParams.set(c,d)});const o=await navigator.serviceWorker.register(r.toString());return mb(ql,{vapidKey:st.firebase.vapidKey,serviceWorkerRegistration:o})},ad={async requestPermission(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:(console.warn("This browser does not support notifications"),!1)},async registerPushToken(){try{if(!st.features.enablePushNotifications)return!1;const n=localStorage.getItem("caredroid_access_token");if(!n)return!1;const r=await yb();if(!r)return!1;const o={token:r,platform:"web",deviceModel:navigator.userAgent,osVersion:navigator.platform,appVersion:st.app.version};return(await Ye("/api/notifications/devices/register",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(o)})).ok}catch(n){return console.error("Failed to register push token:",n),!1}},sendBrowserNotification(n,r={}){if(Notification.permission==="granted")return new Notification(n,{icon:"/logo.png",badge:"/badge.png",...r})},async fetchNotificationHistory(n=50){try{const r=await Ye(`/api/notifications?limit=${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!r.ok)throw new Error("Failed to fetch notifications");return await r.json()}catch(r){throw console.error("Error fetching notifications:",r),r}},async markAsRead(n){try{const r=await Ye(`/api/notifications/${n}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!r.ok)throw new Error("Failed to mark notification as read");return await r.json()}catch(r){throw console.error("Error marking notification as read:",r),r}},async deleteNotification(n){try{if(!(await Ye(`/api/notifications/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).ok)throw new Error("Failed to delete notification");return!0}catch(r){throw console.error("Error deleting notification:",r),r}},async getPreferences(){try{const n=await Ye("/api/notifications/preferences",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!n.ok)throw new Error("Failed to fetch preferences");return await n.json()}catch(n){throw console.error("Error fetching preferences:",n),n}},async updatePreferences(n){try{const r=await Ye("/api/notifications/preferences",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(n)});if(!r.ok)throw new Error("Failed to update preferences");return await r.json()}catch(r){throw console.error("Error updating preferences:",r),r}},subscribeToNotifications(n,r){const o=localStorage.getItem("authToken"),c=new EventSource(cm(`/api/notifications/stream?token=${o}`));return c.onmessage=d=>{try{const g=JSON.parse(d.data);n(g)}catch(g){console.error("Error parsing notification:",g)}},c.onerror=d=>{console.error("Notification stream error:",d),r?.(d),c.close()},()=>{c.close()}},async sendTestNotification(){try{const n=await Ye("/api/notifications/test",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!n.ok)throw new Error("Failed to send test notification");return await n.json()}catch(n){throw console.error("Error sending test notification:",n),n}}},Eh="caredroid_session_id",vb=()=>{if(typeof window>"u")return"session-server";const n=window.localStorage.getItem(Eh);if(n)return n;const r=window.crypto?.randomUUID?.()||`session-${Date.now()}-${Math.random().toString(16).slice(2)}`;return window.localStorage.setItem(Eh,r),r},$u=()=>[{role:"assistant",content:"Hello! I'm CareDroid, your AI clinical assistant. How can I help you today?",timestamp:new Date}];function xb(){const{authToken:n,setAuthToken:r,signOut:o,user:c,isAuthenticated:d,setUser:g}=tc(),y=Vr(),[S,b]=V.useState(null),[_,C]=V.useState(null),[k,H]=V.useState(""),[ne]=V.useState(()=>vb()),[q,Y]=V.useState([]),[U,de]=V.useState("checking"),[Se,ee]=V.useState([{id:1,title:"New Conversation",timestamp:new Date}]),[xe,ge]=V.useState(1),[De,re]=V.useState({1:$u()}),Fe=d;V.useEffect(()=>{console.log("=== AppContent render ==="),console.log("authToken exists:",!!n),console.log("authToken value:",n),console.log("user exists:",!!c),console.log("user value:",c),console.log("isAuthenticated:",d),console.log("isAuthed:",Fe),console.log("current URL:",window.location.pathname),console.log("localStorage token:",localStorage.getItem("caredroid_access_token")),console.log("localStorage profile:",localStorage.getItem("caredroid_user_profile")),console.log(Fe?" AUTHENTICATED - Should render AppShell":" NOT AUTHENTICATED - Should render LoginPage")},[n,c,d,Fe]),V.useEffect(()=>{d&&window.location.pathname.includes("/auth")&&(console.log(" Auto-navigation: Authenticated user on auth page, redirecting to home..."),y("/",{replace:!0}))},[d,y]),V.useEffect(()=>{let te=!0;const N=async()=>{try{const Ne=await Ye("/health");if(!te)return;de(Ne.ok?"online":"offline")}catch{if(!te)return;de("offline")}};N();const X=setInterval(N,3e4);return()=>{te=!1,clearInterval(X)}},[]);const Ze=(te,N="info")=>{const X=`toast-${Date.now()}-${Math.random().toString(16).slice(2)}`;Y(Ne=>[...Ne,{id:X,message:te,type:N}]),setTimeout(()=>{Y(Ne=>Ne.filter(Oe=>Oe.id!==X))},4e3)},Ue=te=>{Y(N=>N.filter(X=>X.id!==te))},ft=(te,N=null)=>{if(console.log(`

===  handleAuthSuccess called ===`),console.log("token:",te),console.log("mockUser:",N),!te){console.error(" ERROR: No token provided");return}N&&g&&(console.log(" Setting user in UserContext state..."),g(N),console.log(" User set in context")),console.log(" localStorage status:"),console.log("- Token:",!!localStorage.getItem("caredroid_access_token")),console.log("- Profile:",!!localStorage.getItem("caredroid_user_profile"));try{la.trackEvent({event:"user_login",properties:{timestamp:new Date().toISOString(),auth_method:"direct_signin"}})}catch(X){console.error("Failed to track login event:",X)}console.log(" Setting authToken in state..."),r(te),console.log(" Token set in context"),console.log(" Current URL:",window.location.pathname),Ze("Signed in successfully!","success"),console.log(" Navigating to home..."),setTimeout(()=>{console.log(" Executing navigation"),console.log("- isAuthenticated should now be true"),console.log("- Token in state:",!!n||!!te),console.log("- User in state:",!!c||!!N),window.location.pathname==="/auth"?(y("/",{replace:!0}),console.log(" Navigation initiated via React Router")):console.log(" Already at correct path")},100),ad.registerPushToken().catch(()=>{})},et=()=>{try{la.trackEvent({event:"user_logout",properties:{timestamp:new Date().toISOString()}})}catch(te){console.error("Failed to track logout event:",te)}o(),Ze("Signed out.","info")},ze=(te,N={})=>{try{la.trackEvent({event:te,properties:N})}catch(Ne){console.error("Failed to track event in AnalyticsService:",Ne)}const X={sessionId:ne,events:[{eventName:te,parameters:N,timestamp:Date.now(),sessionId:ne}]};Ye("/api/analytics/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)}).catch(()=>{})},Et=(te,N)=>{re(X=>({...X,[te]:[...X[te]||[],N]}))},Rt=te=>{b(te),C(null),H(""),te&&ze("tool_selected",{tool:te})},it=te=>{C(te),b(null);const N=Bh(te);H(N?.prompt||""),te&&ze("feature_selected",{feature:te})},je={isAuthed:Fe,conversations:Se,activeConversation:xe,onSelectConversation:te=>{ge(te),re(N=>N[te]?N:{...N,[te]:$u()})},onNewConversation:()=>{const te=Se.length+1;ee([...Se,{id:te,title:"New Conversation",timestamp:new Date}]),ge(te),re(N=>({...N,[te]:$u()})),ze("conversation_created",{conversationId:te})},onSignOut:et,authToken:n,healthStatus:U,currentTool:S,currentFeature:_,onToolSelect:Rt,onFeatureSelect:it};return s.jsxs(Jx,{children:[Fe?s.jsxs(Np,{children:[s.jsx(Dt,{path:"/",element:s.jsx(po,{...je,children:s.jsx(Yx,{currentTool:S,currentFeature:_,prefillText:k,conversationId:xe,messages:De[xe]||[],onAppendMessage:Et,onTrackEvent:ze,onAddToast:Ze,authToken:n,onToolSelect:Rt,onFeatureSelect:it})})}),s.jsx(Dt,{path:"/settings",element:s.jsx(po,{...je,children:s.jsx(t0,{onAddToast:Ze})})}),s.jsx(Dt,{path:"/profile",element:s.jsx(po,{...je,children:s.jsx(r0,{})})}),s.jsx(Dt,{path:"/profile-settings",element:s.jsx(po,{...je,children:s.jsx(o0,{onAddToast:Ze})})}),s.jsx(Dt,{path:"/onboarding",element:s.jsx(po,{...je,children:s.jsx(e0,{onAddToast:Ze})})}),s.jsx(Dt,{path:"/audit-logs",element:s.jsx(po,{...je,children:s.jsx(Zu,{permission:dt.VIEW_AUDIT_LOGS,fallback:s.jsx(Dl,{to:"/",replace:!0}),children:s.jsx(s0,{})})})}),s.jsx(Dt,{path:"/team",element:s.jsx(po,{...je,children:s.jsx(Zu,{permission:dt.MANAGE_USERS,fallback:s.jsx(Dl,{to:"/",replace:!0}),children:s.jsx(a0,{})})})}),s.jsx(Dt,{path:"/privacy",element:s.jsx(Xp,{})}),s.jsx(Dt,{path:"/terms",element:s.jsx(Zp,{})}),s.jsx(Dt,{path:"/consent",element:s.jsx(eh,{})}),s.jsx(Dt,{path:"/consent-history",element:s.jsx(nh,{})}),s.jsx(Dt,{path:"*",element:s.jsx(Dl,{to:"/",replace:!0})})]}):s.jsxs(Np,{children:[s.jsx(Dt,{path:"/auth",element:s.jsx(rh,{children:s.jsx(Zx,{onAddToast:Ze,onAuthSuccess:ft})})}),s.jsx(Dt,{path:"/auth/callback",element:s.jsx(rh,{children:s.jsx(n0,{onAddToast:Ze,onAuthSuccess:ft})})}),s.jsx(Dt,{path:"/privacy",element:s.jsx(Xp,{})}),s.jsx(Dt,{path:"/terms",element:s.jsx(Zp,{})}),s.jsx(Dt,{path:"/consent",element:s.jsx(eh,{})}),s.jsx(Dt,{path:"/consent-history",element:s.jsx(nh,{})}),s.jsx(Dt,{path:"*",element:s.jsx(Dl,{to:"/auth",replace:!0})})]}),s.jsx(Xx,{toasts:q,onDismiss:Ue})]})}function wb(){return s.jsx(h0,{children:s.jsx(p0,{children:s.jsx(x0,{children:s.jsx(xb,{})})})})}var $l={exports:{}},Sb=$l.exports,jh;function bb(){return jh||(jh=1,(function(n,r){((o,c)=>{n.exports=c()})(Sb,function(){var o=function(a,u){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(p,m){p.__proto__=m}:function(p,m){for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(p[v]=m[v])}))(a,u)},c=function(){return(c=Object.assign||function(a){for(var u,p=1,m=arguments.length;p<m;p++)for(var v in u=arguments[p])Object.prototype.hasOwnProperty.call(u,v)&&(a[v]=u[v]);return a}).apply(this,arguments)};function d(a,u,p){for(var m,v=0,x=u.length;v<x;v++)!m&&v in u||((m=m||Array.prototype.slice.call(u,0,v))[v]=u[v]);return a.concat(m||Array.prototype.slice.call(u))}var g=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Kg,y=Object.keys,S=Array.isArray;function b(a,u){return typeof u=="object"&&y(u).forEach(function(p){a[p]=u[p]}),a}typeof Promise>"u"||g.Promise||(g.Promise=Promise);var _=Object.getPrototypeOf,C={}.hasOwnProperty;function k(a,u){return C.call(a,u)}function H(a,u){typeof u=="function"&&(u=u(_(a))),(typeof Reflect>"u"?y:Reflect.ownKeys)(u).forEach(function(p){q(a,p,u[p])})}var ne=Object.defineProperty;function q(a,u,p,m){ne(a,u,b(p&&k(p,"get")&&typeof p.get=="function"?{get:p.get,set:p.set,configurable:!0}:{value:p,configurable:!0,writable:!0},m))}function Y(a){return{from:function(u){return a.prototype=Object.create(u.prototype),q(a.prototype,"constructor",a),{extend:H.bind(null,a.prototype)}}}}var U=Object.getOwnPropertyDescriptor,de=[].slice;function Se(a,u,p){return de.call(a,u,p)}function ee(a,u){return u(a)}function xe(a){if(!a)throw new Error("Assertion Failed")}function ge(a){g.setImmediate?setImmediate(a):setTimeout(a,0)}function De(a,u){if(typeof u=="string"&&k(a,u))return a[u];if(!u)return a;if(typeof u!="string"){for(var p=[],m=0,v=u.length;m<v;++m){var x=De(a,u[m]);p.push(x)}return p}var E,j=u.indexOf(".");return j===-1||(E=a[u.substr(0,j)])==null?void 0:De(E,u.substr(j+1))}function re(a,u,p){if(a&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof u!="string"&&"length"in u){xe(typeof p!="string"&&"length"in p);for(var m=0,v=u.length;m<v;++m)re(a,u[m],p[m])}else{var x,E,j=u.indexOf(".");j!==-1?(x=u.substr(0,j),(j=u.substr(j+1))===""?p===void 0?S(a)&&!isNaN(parseInt(x))?a.splice(x,1):delete a[x]:a[x]=p:re(E=(E=a[x])&&k(a,x)?E:a[x]={},j,p)):p===void 0?S(a)&&!isNaN(parseInt(u))?a.splice(u,1):delete a[u]:a[u]=p}}function Fe(a){var u,p={};for(u in a)k(a,u)&&(p[u]=a[u]);return p}var Ze=[].concat;function Ue(a){return Ze.apply([],a)}var X="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ue([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(u){return u+a+"Array"})}))).filter(function(a){return g[a]}),ft=new Set(X.map(function(a){return g[a]})),et=null;function ze(a){return et=new WeakMap,a=(function u(p){if(!p||typeof p!="object")return p;var m=et.get(p);if(m)return m;if(S(p)){m=[],et.set(p,m);for(var v=0,x=p.length;v<x;++v)m.push(u(p[v]))}else if(ft.has(p.constructor))m=p;else{var E,j=_(p);for(E in m=j===Object.prototype?{}:Object.create(j),et.set(p,m),p)k(p,E)&&(m[E]=u(p[E]))}return m})(a),et=null,a}var Et={}.toString;function Rt(a){return Et.call(a).slice(8,-1)}var it=typeof Symbol<"u"?Symbol.iterator:"@@iterator",pt=typeof it=="symbol"?function(a){var u;return a!=null&&(u=a[it])&&u.apply(a)}:function(){return null};function ue(a,u){u=a.indexOf(u),0<=u&&a.splice(u,1)}var je={};function te(a){var u,p,m,v;if(arguments.length===1){if(S(a))return a.slice();if(this===je&&typeof a=="string")return[a];if(v=pt(a))for(p=[];!(m=v.next()).done;)p.push(m.value);else{if(a==null)return[a];if(typeof(u=a.length)!="number")return[a];for(p=new Array(u);u--;)p[u]=a[u]}}else for(u=arguments.length,p=new Array(u);u--;)p[u]=arguments[u];return p}var N=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},X=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Gt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(X),Ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Oe(a,u){this.name=a,this.message=u}function $e(a,u){return a+". Errors: "+Object.keys(u).map(function(p){return u[p].toString()}).filter(function(p,m,v){return v.indexOf(p)===m}).join(`
`)}function Ke(a,u,p,m){this.failures=u,this.failedKeys=m,this.successCount=p,this.message=$e(a,u)}function tt(a,u){this.name="BulkError",this.failures=Object.keys(u).map(function(p){return u[p]}),this.failuresByPos=u,this.message=$e(a,this.failures)}Y(Oe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Y(Ke).from(Oe),Y(tt).from(Oe);var nt=Gt.reduce(function(a,u){return a[u]=u+"Error",a},{}),mt=Oe,Ee=Gt.reduce(function(a,u){var p=u+"Error";function m(v,x){this.name=p,v?typeof v=="string"?(this.message="".concat(v).concat(x?`
 `+x:""),this.inner=x||null):typeof v=="object"&&(this.message="".concat(v.name," ").concat(v.message),this.inner=v):(this.message=Ne[u]||p,this.inner=null)}return Y(m).from(mt),a[u]=m,a},{}),Fi=(Ee.Syntax=SyntaxError,Ee.Type=TypeError,Ee.Range=RangeError,X.reduce(function(a,u){return a[u+"Error"]=Ee[u],a},{}));X=Gt.reduce(function(a,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(a[u+"Error"]=Ee[u]),a},{});function at(){}function Kn(a){return a}function fs(a,u){return a==null||a===Kn?u:function(p){return u(a(p))}}function Wn(a,u){return function(){a.apply(this,arguments),u.apply(this,arguments)}}function wa(a,u){return a===at?u:function(){var p=a.apply(this,arguments),m=(p!==void 0&&(arguments[0]=p),this.onsuccess),v=this.onerror,x=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return m&&(this.onsuccess=this.onsuccess?Wn(m,this.onsuccess):m),v&&(this.onerror=this.onerror?Wn(v,this.onerror):v),x!==void 0?x:p}}function ps(a,u){return a===at?u:function(){a.apply(this,arguments);var p=this.onsuccess,m=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?Wn(p,this.onsuccess):p),m&&(this.onerror=this.onerror?Wn(m,this.onerror):m)}}function Sa(a,u){return a===at?u:function(v){var m=a.apply(this,arguments),v=(b(v,m),this.onsuccess),x=this.onerror,E=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return v&&(this.onsuccess=this.onsuccess?Wn(v,this.onsuccess):v),x&&(this.onerror=this.onerror?Wn(x,this.onerror):x),m===void 0?E===void 0?void 0:E:b(m,E)}}function hs(a,u){return a===at?u:function(){return u.apply(this,arguments)!==!1&&a.apply(this,arguments)}}function fr(a,u){return a===at?u:function(){var p=a.apply(this,arguments);if(p&&typeof p.then=="function"){for(var m=this,v=arguments.length,x=new Array(v);v--;)x[v]=arguments[v];return p.then(function(){return u.apply(m,x)})}return u.apply(this,arguments)}}X.ModifyError=Ke,X.DexieError=Oe,X.BulkError=tt;var Vt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function bo(a){Vt=a}var Kr={},ms=100,Wr=typeof Promise>"u"?[]:(Gt=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[Wr=crypto.subtle.digest("SHA-512",new Uint8Array([0])),_(Wr),Gt]:[Gt,_(Gt),Gt]),Gt=Wr[0],Ir=Wr[1],Ir=Ir&&Ir.then,An=Gt&&Gt.constructor,qr=!!Wr[2],Yr=function(a,u){mr.push([a,u]),qn&&(queueMicrotask(Ea),qn=!1)},pr=!0,qn=!0,hr=[],Li=[],Eo=Kn,Yn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:at,pgp:!1,env:{},finalize:at},ke=Yn,mr=[],Tn=0,Gr=[];function me(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=ke;if(typeof a!="function"){if(a!==Kr)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&jo(this,this._value)}else this._state=null,this._value=null,++u.ref,(function p(m,v){try{v(function(x){if(m._state===null){if(x===m)throw new TypeError("A promise cannot be resolved with itself.");var E=m._lib&&Qn();x&&typeof x.then=="function"?p(m,function(j,D){x instanceof me?x._then(j,D):x.then(j,D)}):(m._state=!0,m._value=x,gs(m)),E&&yr()}},jo.bind(null,m))}catch(x){jo(m,x)}})(this,a)}var Gn={get:function(){var a=ke,u=Jr;function p(m,v){var x=this,E=!a.global&&(a!==ke||u!==Jr),j=E&&!Qt(),D=new me(function(M,R){_o(x,new gr(vs(m,a,E,j),vs(v,a,E,j),M,R,a))});return this._consoleTask&&(D._consoleTask=this._consoleTask),D}return p.prototype=Kr,p},set:function(a){q(this,"then",a&&a.prototype===Kr?Gn:{get:function(){return a},set:Gn.set})}};function gr(a,u,p,m,v){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof u=="function"?u:null,this.resolve=p,this.reject=m,this.psd=v}function jo(a,u){var p,m;Li.push(u),a._state===null&&(p=a._lib&&Qn(),u=Eo(u),a._state=!1,a._value=u,m=a,hr.some(function(v){return v._value===m._value})||hr.push(m),gs(a),p)&&yr()}function gs(a){var u=a._listeners;a._listeners=[];for(var p=0,m=u.length;p<m;++p)_o(a,u[p]);var v=a._PSD;--v.ref||v.finalize(),Tn===0&&(++Tn,Yr(function(){--Tn==0&&vr()},[]))}function _o(a,u){if(a._state===null)a._listeners.push(u);else{var p=a._state?u.onFulfilled:u.onRejected;if(p===null)return(a._state?u.resolve:u.reject)(a._value);++u.psd.ref,++Tn,Yr(ba,[p,a,u])}}function ba(a,u,p){try{var m,v=u._value;!u._state&&Li.length&&(Li=[]),m=Vt&&u._consoleTask?u._consoleTask.run(function(){return a(v)}):a(v),u._state||Li.indexOf(v)!==-1||(x=>{for(var E=hr.length;E;)if(hr[--E]._value===x._value)return hr.splice(E,1)})(u),p.resolve(m)}catch(x){p.reject(x)}finally{--Tn==0&&vr(),--p.psd.ref||p.psd.finalize()}}function Ea(){Zn(Yn,function(){Qn()&&yr()})}function Qn(){var a=pr;return qn=pr=!1,a}function yr(){var a,u,p;do for(;0<mr.length;)for(a=mr,mr=[],p=a.length,u=0;u<p;++u){var m=a[u];m[0].apply(null,m[1])}while(0<mr.length);qn=pr=!0}function vr(){for(var a=hr,u=(hr=[],a.forEach(function(m){m._PSD.onunhandled.call(null,m._value,m)}),Gr.slice(0)),p=u.length;p;)u[--p]()}function Qr(a){return new me(Kr,!1,a)}function ut(a,u){var p=ke;return function(){var m=Qn(),v=ke;try{return Xn(p,!0),a.apply(this,arguments)}catch(x){u&&u(x)}finally{Xn(v,!1),m&&yr()}}}H(me.prototype,{then:Gn,_then:function(a,u){_o(this,new gr(null,null,a,u,ke))},catch:function(a){var u,p;return arguments.length===1?this.then(null,a):(u=a,p=arguments[1],typeof u=="function"?this.then(null,function(m){return(m instanceof u?p:Qr)(m)}):this.then(null,function(m){return(m&&m.name===u?p:Qr)(m)}))},finally:function(a){return this.then(function(u){return me.resolve(a()).then(function(){return u})},function(u){return me.resolve(a()).then(function(){return Qr(u)})})},timeout:function(a,u){var p=this;return a<1/0?new me(function(m,v){var x=setTimeout(function(){return v(new Ee.Timeout(u))},a);p.then(m,v).finally(clearTimeout.bind(null,x))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&q(me.prototype,Symbol.toStringTag,"Dexie.Promise"),Yn.env=ys(),H(me,{all:function(){var a=te.apply(null,arguments).map(Mi);return new me(function(u,p){a.length===0&&u([]);var m=a.length;a.forEach(function(v,x){return me.resolve(v).then(function(E){a[x]=E,--m||u(a)},p)})})},resolve:function(a){return a instanceof me?a:a&&typeof a.then=="function"?new me(function(u,p){a.then(u,p)}):new me(Kr,!0,a)},reject:Qr,race:function(){var a=te.apply(null,arguments).map(Mi);return new me(function(u,p){a.map(function(m){return me.resolve(m).then(u,p)})})},PSD:{get:function(){return ke},set:function(a){return ke=a}},totalEchoes:{get:function(){return Jr}},newPSD:Jn,usePSD:Zn,scheduler:{get:function(){return Yr},set:function(a){Yr=a}},rejectionMapper:{get:function(){return Eo},set:function(a){Eo=a}},follow:function(a,u){return new me(function(p,m){return Jn(function(v,x){var E=ke;E.unhandleds=[],E.onunhandled=x,E.finalize=Wn(function(){var j,D=this;j=function(){D.unhandleds.length===0?v():x(D.unhandleds[0])},Gr.push(function M(){j(),Gr.splice(Gr.indexOf(M),1)}),++Tn,Yr(function(){--Tn==0&&vr()},[])},E.finalize),a()},u,p,m)})}}),An&&(An.allSettled&&q(me,"allSettled",function(){var a=te.apply(null,arguments).map(Mi);return new me(function(u){a.length===0&&u([]);var p=a.length,m=new Array(p);a.forEach(function(v,x){return me.resolve(v).then(function(E){return m[x]={status:"fulfilled",value:E}},function(E){return m[x]={status:"rejected",reason:E}}).then(function(){return--p||u(m)})})})}),An.any&&typeof AggregateError<"u"&&q(me,"any",function(){var a=te.apply(null,arguments).map(Mi);return new me(function(u,p){a.length===0&&p(new AggregateError([]));var m=a.length,v=new Array(m);a.forEach(function(x,E){return me.resolve(x).then(function(j){return u(j)},function(j){v[E]=j,--m||p(new AggregateError(v))})})})}),An.withResolvers)&&(me.withResolvers=An.withResolvers);var Pt={awaits:0,echoes:0,id:0},Bi=0,xr=[],wr=0,Jr=0,sc=0;function Jn(a,E,p,m){var v=ke,x=Object.create(v),E=(x.parent=v,x.ref=0,x.global=!1,x.id=++sc,Yn.env,x.env=qr?{Promise:me,PromiseProp:{value:me,configurable:!0,writable:!0},all:me.all,race:me.race,allSettled:me.allSettled,any:me.any,resolve:me.resolve,reject:me.reject}:{},E&&b(x,E),++v.ref,x.finalize=function(){--this.parent.ref||this.parent.finalize()},Zn(x,a,p,m));return x.ref===0&&x.finalize(),E}function Xr(){return Pt.id||(Pt.id=++Bi),++Pt.awaits,Pt.echoes+=ms,Pt.id}function Qt(){return!!Pt.awaits&&(--Pt.awaits==0&&(Pt.id=0),Pt.echoes=Pt.awaits*ms,!0)}function Mi(a){return Pt.echoes&&a&&a.constructor===An?(Xr(),a.then(function(u){return Qt(),u},function(u){return Qt(),jt(u)})):a}function ja(){var a=xr[xr.length-1];xr.pop(),Xn(a,!1)}function Xn(a,u){var p,m,v=ke;(u?!Pt.echoes||wr++&&a===ke:!wr||--wr&&a===ke)||queueMicrotask(u?(function(x){++Jr,Pt.echoes&&--Pt.echoes!=0||(Pt.echoes=Pt.awaits=Pt.id=0),xr.push(ke),Xn(x,!0)}).bind(null,a):ja),a!==ke&&(ke=a,v===Yn&&(Yn.env=ys()),qr)&&(p=Yn.env.Promise,m=a.env,v.global||a.global)&&(Object.defineProperty(g,"Promise",m.PromiseProp),p.all=m.all,p.race=m.race,p.resolve=m.resolve,p.reject=m.reject,m.allSettled&&(p.allSettled=m.allSettled),m.any)&&(p.any=m.any)}function ys(){var a=g.Promise;return qr?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(g,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function Zn(a,u,p,m,v){var x=ke;try{return Xn(a,!0),u(p,m,v)}finally{Xn(x,!1)}}function vs(a,u,p,m){return typeof a!="function"?a:function(){var v=ke;p&&Xr(),Xn(u,!0);try{return a.apply(this,arguments)}finally{Xn(v,!1),m&&queueMicrotask(Qt)}}}function Co(a){Promise===An&&Pt.echoes===0?wr===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}(""+Ir).indexOf("[native code]")===-1&&(Xr=Qt=at);var jt=me.reject,Sr="",lt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",_a="String expected.",er=[],Ui="__dbnames",Zr="readonly",xs="readwrite";function tr(a,u){return a?u?function(){return a.apply(this,arguments)&&u.apply(this,arguments)}:a:u}var zi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function nn(a){return typeof a!="string"||/\./.test(a)?function(u){return u}:function(u){return u[a]===void 0&&a in u&&delete(u=ze(u))[a],u}}function Ca(){throw Ee.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Be(a,u){try{var p=ka(a),m=ka(u);if(p!==m)return p==="Array"?1:m==="Array"?-1:p==="binary"?1:m==="binary"?-1:p==="string"?1:m==="string"?-1:p==="Date"?1:m!=="Date"?NaN:-1;switch(p){case"number":case"Date":case"string":return u<a?1:a<u?-1:0;case"binary":for(var v=Ia(a),x=Ia(u),E=v.length,j=x.length,D=E<j?E:j,M=0;M<D;++M)if(v[M]!==x[M])return v[M]<x[M]?-1:1;return E===j?0:E<j?-1:1;case"Array":for(var R=a,A=u,F=R.length,L=A.length,O=F<L?F:L,P=0;P<O;++P){var K=Be(R[P],A[P]);if(K!==0)return K}return F===L?0:F<L?-1:1}}catch{}return NaN}function ka(a){var u=typeof a;return u=="object"&&(ArrayBuffer.isView(a)||(u=Rt(a))==="ArrayBuffer")?"binary":u}function Ia(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}function ko(a,u,p){var m=a.schema.yProps;return m?(u&&0<p.numFailures&&(u=u.filter(function(v,x){return!p.failures[x]})),Promise.all(m.map(function(v){return v=v.updatesTable,u?a.db.table(v).where("k").anyOf(u).delete():a.db.table(v).clear()})).then(function(){return p})):p}Hi.prototype.execute=function(a){var u=this["@@propmod"];if(u.add!==void 0){var p=u.add;if(S(p))return d(d([],S(a)?a:[],!0),p).sort();if(typeof p=="number")return(Number(a)||0)+p;if(typeof p=="bigint")try{return BigInt(a)+p}catch{return BigInt(0)+p}throw new TypeError("Invalid term ".concat(p))}if(u.remove!==void 0){var m=u.remove;if(S(m))return S(a)?a.filter(function(v){return!m.includes(v)}).sort():[];if(typeof m=="number")return Number(a)-m;if(typeof m=="bigint")try{return BigInt(a)-m}catch{return BigInt(0)-m}throw new TypeError("Invalid subtrahend ".concat(m))}return p=(p=u.replacePrefix)==null?void 0:p[0],p&&typeof a=="string"&&a.startsWith(p)?u.replacePrefix[1]+a.substring(p.length):a};var nr=Hi;function Hi(a){this["@@propmod"]=a}function ei(a,u){for(var p=y(u),m=p.length,v=!1,x=0;x<m;++x){var E=p[x],j=u[E],D=De(a,E);j instanceof nr?(re(a,E,j.execute(D)),v=!0):D!==j&&(re(a,E,j),v=!0)}return v}ht.prototype._trans=function(a,u,p){var m=this._tx||ke.trans,v=this.name,x=Vt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(a==="readonly"?"read":"write"," ").concat(this.name));function E(M,R,A){if(A.schema[v])return u(A.idbtrans,A);throw new Ee.NotFound("Table "+v+" not part of transaction")}var j=Qn();try{var D=m&&m.db._novip===this.db._novip?m===ke.trans?m._promise(a,E,p):Jn(function(){return m._promise(a,E,p)},{trans:m,transless:ke.transless||ke}):(function M(R,A,F,L){if(R.idbdb&&(R._state.openComplete||ke.letThrough||R._vip)){var O=R._createTransaction(A,F,R._dbSchema);try{O.create(),R._state.PR1398_maxLoop=3}catch(P){return P.name===nt.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return M(R,A,F,L)})):jt(P)}return O._promise(A,function(P,K){return Jn(function(){return ke.trans=O,L(P,K,O)})}).then(function(P){if(A==="readwrite")try{O.idbtrans.commit()}catch{}return A==="readonly"?P:O._completion.then(function(){return P})})}if(R._state.openComplete)return jt(new Ee.DatabaseClosed(R._state.dbOpenError));if(!R._state.isBeingOpened){if(!R._state.autoOpen)return jt(new Ee.DatabaseClosed);R.open().catch(at)}return R._state.dbReadyPromise.then(function(){return M(R,A,F,L)})})(this.db,a,[this.name],E);return x&&(D._consoleTask=x,D=D.catch(function(M){return console.trace(M),jt(M)})),D}finally{j&&yr()}},ht.prototype.get=function(a,u){var p=this;return a&&a.constructor===Object?this.where(a).first(u):a==null?jt(new Ee.Type("Invalid argument to Table.get()")):this._trans("readonly",function(m){return p.core.get({trans:m,key:a}).then(function(v){return p.hook.reading.fire(v)})}).then(u)},ht.prototype.where=function(a){if(typeof a=="string")return new this.db.WhereClause(this,a);if(S(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var u=y(a);if(u.length===1)return this.where(u[0]).equals(a[u[0]]);var p=this.schema.indexes.concat(this.schema.primKey).filter(function(j){if(j.compound&&u.every(function(M){return 0<=j.keyPath.indexOf(M)})){for(var D=0;D<u.length;++D)if(u.indexOf(j.keyPath[D])===-1)return!1;return!0}return!1}).sort(function(j,D){return j.keyPath.length-D.keyPath.length})[0];if(p&&this.db._maxKey!==Sr)return E=p.keyPath.slice(0,u.length),this.where(E).equals(E.map(function(j){return a[j]}));!p&&Vt&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var m=this.schema.idxByName;function v(j,D){return Be(j,D)===0}var E=u.reduce(function(R,D){var M=R[0],R=R[1],A=m[D],F=a[D];return[M||A,M||!A?tr(R,A&&A.multi?function(L){return L=De(L,D),S(L)&&L.some(function(O){return v(F,O)})}:function(L){return v(F,De(L,D))}):R]},[null,null]),x=E[0],E=E[1];return x?this.where(x.name).equals(a[x.keyPath]).filter(E):p?this.filter(E):this.where(u).equals("")},ht.prototype.filter=function(a){return this.toCollection().and(a)},ht.prototype.count=function(a){return this.toCollection().count(a)},ht.prototype.offset=function(a){return this.toCollection().offset(a)},ht.prototype.limit=function(a){return this.toCollection().limit(a)},ht.prototype.each=function(a){return this.toCollection().each(a)},ht.prototype.toArray=function(a){return this.toCollection().toArray(a)},ht.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ht.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,S(a)?"[".concat(a.join("+"),"]"):a))},ht.prototype.reverse=function(){return this.toCollection().reverse()},ht.prototype.mapToClass=function(a){for(var u=this.db,p=this.name,m=((this.schema.mappedClass=a).prototype instanceof Ca&&(a=(E=>{var j=R,D=E;if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function M(){this.constructor=j}function R(){return E!==null&&E.apply(this,arguments)||this}return o(j,D),j.prototype=D===null?Object.create(D):(M.prototype=D.prototype,new M),Object.defineProperty(R.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),R.prototype.table=function(){return p},R})(a)),new Set),v=a.prototype;v;v=_(v))Object.getOwnPropertyNames(v).forEach(function(E){return m.add(E)});function x(E){if(!E)return E;var j,D=Object.create(a.prototype);for(j in E)if(!m.has(j))try{D[j]=E[j]}catch{}return D}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=x,this.hook("reading",x),a},ht.prototype.defineClass=function(){return this.mapToClass(function(a){b(this,a)})},ht.prototype.add=function(a,u){var p=this,m=this.schema.primKey,v=m.auto,x=m.keyPath,E=a;return x&&v&&(E=nn(x)(a)),this._trans("readwrite",function(j){return p.core.mutate({trans:j,type:"add",keys:u!=null?[u]:null,values:[E]})}).then(function(j){return j.numFailures?me.reject(j.failures[0]):j.lastResult}).then(function(j){if(x)try{re(a,x,j)}catch{}return j})},ht.prototype.upsert=function(a,u){var p=this,m=this.schema.primKey.keyPath;return this._trans("readwrite",function(v){return p.core.get({trans:v,key:a}).then(function(x){var E=x??{};return ei(E,u),m&&re(E,m,a),p.core.mutate({trans:v,type:"put",values:[E],keys:[a],upsert:!0,updates:{keys:[a],changeSpecs:[u]}}).then(function(j){return j.numFailures?me.reject(j.failures[0]):!!x})})})},ht.prototype.update=function(a,u){return typeof a!="object"||S(a)?this.where(":id").equals(a).modify(u):(a=De(a,this.schema.primKey.keyPath))===void 0?jt(new Ee.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(u)},ht.prototype.put=function(a,u){var p=this,m=this.schema.primKey,v=m.auto,x=m.keyPath,E=a;return x&&v&&(E=nn(x)(a)),this._trans("readwrite",function(j){return p.core.mutate({trans:j,type:"put",values:[E],keys:u!=null?[u]:null})}).then(function(j){return j.numFailures?me.reject(j.failures[0]):j.lastResult}).then(function(j){if(x)try{re(a,x,j)}catch{}return j})},ht.prototype.delete=function(a){var u=this;return this._trans("readwrite",function(p){return u.core.mutate({trans:p,type:"delete",keys:[a]}).then(function(m){return ko(u,[a],m)}).then(function(m){return m.numFailures?me.reject(m.failures[0]):void 0})})},ht.prototype.clear=function(){var a=this;return this._trans("readwrite",function(u){return a.core.mutate({trans:u,type:"deleteRange",range:zi}).then(function(p){return ko(a,null,p)})}).then(function(u){return u.numFailures?me.reject(u.failures[0]):void 0})},ht.prototype.bulkGet=function(a){var u=this;return this._trans("readonly",function(p){return u.core.getMany({keys:a,trans:p}).then(function(m){return m.map(function(v){return u.hook.reading.fire(v)})})})},ht.prototype.bulkAdd=function(a,u,p){var m=this,v=Array.isArray(u)?u:void 0,x=(p=p||(v?void 0:u))?p.allKeys:void 0;return this._trans("readwrite",function(E){var j=m.schema.primKey,M=j.auto,j=j.keyPath;if(j&&v)throw new Ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(v&&v.length!==a.length)throw new Ee.InvalidArgument("Arguments objects and keys must have the same length");var D=a.length,M=j&&M?a.map(nn(j)):a;return m.core.mutate({trans:E,type:"add",keys:v,values:M,wantResults:x}).then(function(R){var A=R.numFailures,F=R.failures;if(A===0)return x?R.results:R.lastResult;throw new tt("".concat(m.name,".bulkAdd(): ").concat(A," of ").concat(D," operations failed"),F)})})},ht.prototype.bulkPut=function(a,u,p){var m=this,v=Array.isArray(u)?u:void 0,x=(p=p||(v?void 0:u))?p.allKeys:void 0;return this._trans("readwrite",function(E){var j=m.schema.primKey,M=j.auto,j=j.keyPath;if(j&&v)throw new Ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(v&&v.length!==a.length)throw new Ee.InvalidArgument("Arguments objects and keys must have the same length");var D=a.length,M=j&&M?a.map(nn(j)):a;return m.core.mutate({trans:E,type:"put",keys:v,values:M,wantResults:x}).then(function(R){var A=R.numFailures,F=R.failures;if(A===0)return x?R.results:R.lastResult;throw new tt("".concat(m.name,".bulkPut(): ").concat(A," of ").concat(D," operations failed"),F)})})},ht.prototype.bulkUpdate=function(a){var u=this,p=this.core,m=a.map(function(E){return E.key}),v=a.map(function(E){return E.changes}),x=[];return this._trans("readwrite",function(E){return p.getMany({trans:E,keys:m,cache:"clone"}).then(function(j){var D=[],M=[],R=(a.forEach(function(A,F){var L=A.key,O=A.changes,P=j[F];if(P){for(var K=0,G=Object.keys(O);K<G.length;K++){var z=G[K],Z=O[z];if(z===u.schema.primKey.keyPath){if(Be(Z,L)!==0)throw new Ee.Constraint("Cannot update primary key in bulkUpdate()")}else re(P,z,Z)}x.push(F),D.push(L),M.push(P)}}),D.length);return p.mutate({trans:E,type:"put",keys:D,values:M,updates:{keys:m,changeSpecs:v}}).then(function(A){var F=A.numFailures,L=A.failures;if(F===0)return R;for(var O=0,P=Object.keys(L);O<P.length;O++){var K,G=P[O],z=x[Number(G)];z!=null&&(K=L[G],delete L[G],L[z]=K)}throw new tt("".concat(u.name,".bulkUpdate(): ").concat(F," of ").concat(R," operations failed"),L)})})})},ht.prototype.bulkDelete=function(a){var u=this,p=a.length;return this._trans("readwrite",function(m){return u.core.mutate({trans:m,type:"delete",keys:a}).then(function(v){return ko(u,a,v)})}).then(function(m){var v=m.numFailures,x=m.failures;if(v===0)return m.lastResult;throw new tt("".concat(u.name,".bulkDelete(): ").concat(v," of ").concat(p," operations failed"),x)})};var $i=ht;function ht(){}function Vi(a){function u(E,j){if(j){for(var D=arguments.length,M=new Array(D-1);--D;)M[D-1]=arguments[D];return p[E].subscribe.apply(null,M),a}if(typeof E=="string")return p[E]}var p={};u.addEventType=x;for(var m=1,v=arguments.length;m<v;++m)x(arguments[m]);return u;function x(E,j,D){var M,R;if(typeof E!="object")return j=j||hs,R={subscribers:[],fire:D=D||at,subscribe:function(A){R.subscribers.indexOf(A)===-1&&(R.subscribers.push(A),R.fire=j(R.fire,A))},unsubscribe:function(A){R.subscribers=R.subscribers.filter(function(F){return F!==A}),R.fire=R.subscribers.reduce(j,D)}},p[E]=u[E]=R;y(M=E).forEach(function(A){var F=M[A];if(S(F))x(A,M[A][0],M[A][1]);else{if(F!=="asap")throw new Ee.InvalidArgument("Invalid event config");var L=x(A,Kn,function(){for(var O=arguments.length,P=new Array(O);O--;)P[O]=arguments[O];L.subscribers.forEach(function(K){ge(function(){K.apply(null,P)})})})}})}}function br(a,u){return Y(u).from({prototype:a}),u}function Er(a,u){return!(a.filter||a.algorithm||a.or)&&(u?a.justLimit:!a.replayFilter)}function Ki(a,u){a.filter=tr(a.filter,u)}function jr(a,u,p){var m=a.replayFilter;a.replayFilter=m?function(){return tr(m(),u())}:u,a.justLimit=p&&!m}function Io(a,u){if(a.isPrimKey)return u.primaryKey;var p=u.getIndexByKeyPath(a.index);if(p)return p;throw new Ee.Schema("KeyPath "+a.index+" on object store "+u.name+" is not indexed")}function Ao(a,u,p){var m=Io(a,u.schema);return u.openCursor({trans:p,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:m,range:a.range}})}function Je(a,u,p,m){var v,x,E=a.replayFilter?tr(a.filter,a.replayFilter()):a.filter;return a.or?(v={},x=function(j,D,M){var R,A;E&&!E(D,M,function(F){return D.stop(F)},function(F){return D.fail(F)})||((A=""+(R=D.primaryKey))=="[object ArrayBuffer]"&&(A=""+new Uint8Array(R)),k(v,A))||(v[A]=!0,u(j,D,M))},Promise.all([a.or._iterate(x,p),ws(Ao(a,m,p),a.algorithm,x,!a.keysOnly&&a.valueMapper)])):ws(Ao(a,m,p),tr(a.algorithm,E),u,!a.keysOnly&&a.valueMapper)}function ws(a,u,p,m){var v=ut(m?function(x,E,j){return p(m(x),E,j)}:p);return a.then(function(x){if(x)return x.start(function(){var E=function(){return x.continue()};u&&!u(x,function(j){return E=j},function(j){x.stop(j),E=at},function(j){x.fail(j),E=at})||v(x.value,x,function(j){return E=j}),E()})})}Ge.prototype._read=function(a,u){var p=this._ctx;return p.error?p.table._trans(null,jt.bind(null,p.error)):p.table._trans("readonly",a).then(u)},Ge.prototype._write=function(a){var u=this._ctx;return u.error?u.table._trans(null,jt.bind(null,u.error)):u.table._trans("readwrite",a,"locked")},Ge.prototype._addAlgorithm=function(a){var u=this._ctx;u.algorithm=tr(u.algorithm,a)},Ge.prototype._iterate=function(a,u){return Je(this._ctx,a,u,this._ctx.table.core)},Ge.prototype.clone=function(a){var u=Object.create(this.constructor.prototype),p=Object.create(this._ctx);return a&&b(p,a),u._ctx=p,u},Ge.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ge.prototype.each=function(a){var u=this._ctx;return this._read(function(p){return Je(u,a,p,u.table.core)})},Ge.prototype.count=function(a){var u=this;return this._read(function(p){var m,v=u._ctx,x=v.table.core;return Er(v,!0)?x.count({trans:p,query:{index:Io(v,x.schema),range:v.range}}).then(function(E){return Math.min(E,v.limit)}):(m=0,Je(v,function(){return++m,!1},p,x).then(function(){return m}))}).then(a)},Ge.prototype.sortBy=function(a,u){var p=a.split(".").reverse(),m=p[0],v=p.length-1;function x(D,M){return M?x(D[p[M]],M-1):D[m]}var E=this._ctx.dir==="next"?1:-1;function j(D,M){return Be(x(D,v),x(M,v))*E}return this.toArray(function(D){return D.sort(j)}).then(u)},Ge.prototype.toArray=function(a){var u=this;return this._read(function(p){var m,v,x,E=u._ctx;return E.dir==="next"&&Er(E,!0)&&0<E.limit?(m=E.valueMapper,v=Io(E,E.table.core.schema),E.table.core.query({trans:p,limit:E.limit,values:!0,query:{index:v,range:E.range}}).then(function(j){return j=j.result,m?j.map(m):j})):(x=[],Je(E,function(j){return x.push(j)},p,E.table.core).then(function(){return x}))},a)},Ge.prototype.offset=function(a){var u=this._ctx;return a<=0||(u.offset+=a,Er(u)?jr(u,function(){var p=a;return function(m,v){return p===0||(p===1?--p:v(function(){m.advance(p),p=0}),!1)}}):jr(u,function(){var p=a;return function(){return--p<0}})),this},Ge.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),jr(this._ctx,function(){var u=a;return function(p,m,v){return--u<=0&&m(v),0<=u}},!0),this},Ge.prototype.until=function(a,u){return Ki(this._ctx,function(p,m,v){return!a(p.value)||(m(v),u)}),this},Ge.prototype.first=function(a){return this.limit(1).toArray(function(u){return u[0]}).then(a)},Ge.prototype.last=function(a){return this.reverse().first(a)},Ge.prototype.filter=function(a){var u;return Ki(this._ctx,function(p){return a(p.value)}),(u=this._ctx).isMatch=tr(u.isMatch,a),this},Ge.prototype.and=function(a){return this.filter(a)},Ge.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},Ge.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ge.prototype.desc=function(){return this.reverse()},Ge.prototype.eachKey=function(a){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(p,m){a(m.key,m)})},Ge.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},Ge.prototype.eachPrimaryKey=function(a){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(p,m){a(m.primaryKey,m)})},Ge.prototype.keys=function(a){var u=this._ctx,p=(u.keysOnly=!u.isMatch,[]);return this.each(function(m,v){p.push(v.key)}).then(function(){return p}).then(a)},Ge.prototype.primaryKeys=function(a){var u=this._ctx;if(u.dir==="next"&&Er(u,!0)&&0<u.limit)return this._read(function(m){var v=Io(u,u.table.core.schema);return u.table.core.query({trans:m,values:!1,limit:u.limit,query:{index:v,range:u.range}})}).then(function(m){return m.result}).then(a);u.keysOnly=!u.isMatch;var p=[];return this.each(function(m,v){p.push(v.primaryKey)}).then(function(){return p}).then(a)},Ge.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},Ge.prototype.firstKey=function(a){return this.limit(1).keys(function(u){return u[0]}).then(a)},Ge.prototype.lastKey=function(a){return this.reverse().firstKey(a)},Ge.prototype.distinct=function(){var a,u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];return u&&u.multi&&(a={},Ki(this._ctx,function(m){var m=m.primaryKey.toString(),v=k(a,m);return a[m]=!0,!v})),this},Ge.prototype.modify=function(a){var u=this,p=this._ctx;return this._write(function(m){function v(P,K){var G=K.failures;F+=P-K.numFailures;for(var z=0,Z=y(G);z<Z.length;z++){var ie=Z[z];A.push(G[ie])}}var x=typeof a=="function"?a:function(P){return ei(P,a)},E=p.table.core,R=E.schema.primaryKey,j=R.outbound,D=R.extractKey,M=200,R=u.db._options.modifyChunkSize,A=(R&&(M=typeof R=="object"?R[E.name]||R["*"]||200:R),[]),F=0,L=[],O=a===Ss;return u.clone().primaryKeys().then(function(P){function K(z){var Z=Math.min(M,P.length-z),ie=P.slice(z,z+Z);return(O?Promise.resolve([]):E.getMany({trans:m,keys:ie,cache:"immutable"})).then(function(pe){var he=[],se=[],ve=j?[]:null,ye=O?ie:[];if(!O)for(var ce=0;ce<Z;++ce){var we=pe[ce],We={value:ze(we),primKey:P[z+ce]};x.call(We,We.value,We)!==!1&&(We.value==null?ye.push(P[z+ce]):j||Be(D(we),D(We.value))===0?(se.push(We.value),j&&ve.push(P[z+ce])):(ye.push(P[z+ce]),he.push(We.value)))}return Promise.resolve(0<he.length&&E.mutate({trans:m,type:"add",values:he}).then(function(Qe){for(var Te in Qe.failures)ye.splice(parseInt(Te),1);v(he.length,Qe)})).then(function(){return(0<se.length||G&&typeof a=="object")&&E.mutate({trans:m,type:"put",keys:ve,values:se,criteria:G,changeSpec:typeof a!="function"&&a,isAdditionalChunk:0<z}).then(function(Qe){return v(se.length,Qe)})}).then(function(){return(0<ye.length||G&&O)&&E.mutate({trans:m,type:"delete",keys:ye,criteria:G,isAdditionalChunk:0<z}).then(function(Qe){return ko(p.table,ye,Qe)}).then(function(Qe){return v(ye.length,Qe)})}).then(function(){return P.length>z+Z&&K(z+M)})})}var G=Er(p)&&p.limit===1/0&&(typeof a!="function"||O)&&{index:p.index,range:p.range};return K(0).then(function(){if(0<A.length)throw new Ke("Error modifying one or more objects",A,F,L);return P.length})})})},Ge.prototype.delete=function(){var a=this._ctx,u=a.range;return!Er(a)||a.table.schema.yProps||!a.isPrimKey&&u.type!==3?this.modify(Ss):this._write(function(p){var m=a.table.core.schema.primaryKey,v=u;return a.table.core.count({trans:p,query:{index:m,range:v}}).then(function(x){return a.table.core.mutate({trans:p,type:"deleteRange",range:v}).then(function(D){var j=D.failures,D=D.numFailures;if(D)throw new Ke("Could not delete some values",Object.keys(j).map(function(M){return j[M]}),x-D);return x-D})})})};var Aa=Ge;function Ge(){}var Ss=function(a,u){return u.value=null};function Ta(a,u){return a<u?-1:a===u?0:1}function Na(a,u){return u<a?-1:a===u?0:1}function Kt(a,u,p){return a=a instanceof ti?new a.Collection(a):a,a._ctx.error=new(p||TypeError)(u),a}function Nn(a){return new a.Collection(a,function(){return Rn("")}).limit(0)}function vn(L,u,p,m){var v,x,E,j,D,M,R,A=p.length;if(!p.every(function(P){return typeof P=="string"}))return Kt(L,_a);function F(P){v=P==="next"?function(G){return G.toUpperCase()}:function(G){return G.toLowerCase()},x=P==="next"?function(G){return G.toLowerCase()}:function(G){return G.toUpperCase()},E=P==="next"?Ta:Na;var K=p.map(function(G){return{lower:x(G),upper:v(G)}}).sort(function(G,z){return E(G.lower,z.lower)});j=K.map(function(G){return G.upper}),D=K.map(function(G){return G.lower}),R=(M=P)==="next"?"":m}F("next");var L=new L.Collection(L,function(){return Wt(j[0],D[A-1]+m)}),O=(L._ondirectionchange=function(P){F(P)},0);return L._addAlgorithm(function(P,K,G){var z=P.key;if(typeof z=="string"){var Z=x(z);if(u(Z,D,O))return!0;for(var ie=null,pe=O;pe<A;++pe){var he=((se,ve,ye,ce,we,We)=>{for(var Qe=Math.min(se.length,ce.length),Te=-1,He=0;He<Qe;++He){var gt=ve[He];if(gt!==ce[He])return we(se[He],ye[He])<0?se.substr(0,He)+ye[He]+ye.substr(He+1):we(se[He],ce[He])<0?se.substr(0,He)+ce[He]+ye.substr(He+1):0<=Te?se.substr(0,Te)+ve[Te]+ye.substr(Te+1):null;we(se[He],gt)<0&&(Te=He)}return Qe<ce.length&&We==="next"?se+ye.substr(se.length):Qe<se.length&&We==="prev"?se.substr(0,ye.length):Te<0?null:se.substr(0,Te)+ce[Te]+ye.substr(Te+1)})(z,Z,j[pe],D[pe],E,M);he===null&&ie===null?O=pe+1:(ie===null||0<E(ie,he))&&(ie=he)}K(ie!==null?function(){P.continue(ie+R)}:G)}return!1}),L}function Wt(a,u,p,m){return{type:2,lower:a,upper:u,lowerOpen:p,upperOpen:m}}function Rn(a){return{type:1,lower:a,upper:a}}Object.defineProperty(St.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),St.prototype.between=function(a,u,p,m){p=p!==!1,m=m===!0;try{return 0<this._cmp(a,u)||this._cmp(a,u)===0&&(p||m)&&(!p||!m)?Nn(this):new this.Collection(this,function(){return Wt(a,u,!p,!m)})}catch{return Kt(this,lt)}},St.prototype.equals=function(a){return a==null?Kt(this,lt):new this.Collection(this,function(){return Rn(a)})},St.prototype.above=function(a){return a==null?Kt(this,lt):new this.Collection(this,function(){return Wt(a,void 0,!0)})},St.prototype.aboveOrEqual=function(a){return a==null?Kt(this,lt):new this.Collection(this,function(){return Wt(a,void 0,!1)})},St.prototype.below=function(a){return a==null?Kt(this,lt):new this.Collection(this,function(){return Wt(void 0,a,!1,!0)})},St.prototype.belowOrEqual=function(a){return a==null?Kt(this,lt):new this.Collection(this,function(){return Wt(void 0,a)})},St.prototype.startsWith=function(a){return typeof a!="string"?Kt(this,_a):this.between(a,a+Sr,!0,!0)},St.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):vn(this,function(u,p){return u.indexOf(p[0])===0},[a],Sr)},St.prototype.equalsIgnoreCase=function(a){return vn(this,function(u,p){return u===p[0]},[a],"")},St.prototype.anyOfIgnoreCase=function(){var a=te.apply(je,arguments);return a.length===0?Nn(this):vn(this,function(u,p){return p.indexOf(u)!==-1},a,"")},St.prototype.startsWithAnyOfIgnoreCase=function(){var a=te.apply(je,arguments);return a.length===0?Nn(this):vn(this,function(u,p){return p.some(function(m){return u.indexOf(m)===0})},a,Sr)},St.prototype.anyOf=function(){var a,u,p=this,m=te.apply(je,arguments),v=this._cmp;try{m.sort(v)}catch{return Kt(this,lt)}return m.length===0?Nn(this):((a=new this.Collection(this,function(){return Wt(m[0],m[m.length-1])}))._ondirectionchange=function(x){v=x==="next"?p._ascending:p._descending,m.sort(v)},u=0,a._addAlgorithm(function(x,E,j){for(var D=x.key;0<v(D,m[u]);)if(++u===m.length)return E(j),!1;return v(D,m[u])===0||(E(function(){x.continue(m[u])}),!1)}),a)},St.prototype.notEqual=function(a){return this.inAnyRange([[-1/0,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},St.prototype.noneOf=function(){var a=te.apply(je,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch{return Kt(this,lt)}var u=a.reduce(function(p,m){return p?p.concat([[p[p.length-1][1],m]]):[[-1/0,m]]},null);return u.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},St.prototype.inAnyRange=function(a,G){var p=this,m=this._cmp,v=this._ascending,x=this._descending,E=this._min,j=this._max;if(a.length===0)return Nn(this);if(!a.every(function(z){return z[0]!==void 0&&z[1]!==void 0&&v(z[0],z[1])<=0}))return Kt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ee.InvalidArgument);var D=!G||G.includeLowers!==!1,M=G&&G.includeUppers===!0,R,A=v;function F(z,Z){return A(z[0],Z[0])}try{(R=a.reduce(function(z,Z){for(var ie=0,pe=z.length;ie<pe;++ie){var he=z[ie];if(m(Z[0],he[1])<0&&0<m(Z[1],he[0])){he[0]=E(he[0],Z[0]),he[1]=j(he[1],Z[1]);break}}return ie===pe&&z.push(Z),z},[])).sort(F)}catch{return Kt(this,lt)}var L=0,O=M?function(z){return 0<v(z,R[L][1])}:function(z){return 0<=v(z,R[L][1])},P=D?function(z){return 0<x(z,R[L][0])}:function(z){return 0<=x(z,R[L][0])},K=O,G=new this.Collection(this,function(){return Wt(R[0][0],R[R.length-1][1],!D,!M)});return G._ondirectionchange=function(z){A=z==="next"?(K=O,v):(K=P,x),R.sort(F)},G._addAlgorithm(function(z,Z,ie){for(var pe,he=z.key;K(he);)if(++L===R.length)return Z(ie),!1;return!O(pe=he)&&!P(pe)||(p._cmp(he,R[L][1])===0||p._cmp(he,R[L][0])===0||Z(function(){A===v?z.continue(R[L][0]):z.continue(R[L][1])}),!1)}),G},St.prototype.startsWithAnyOf=function(){var a=te.apply(je,arguments);return a.every(function(u){return typeof u=="string"})?a.length===0?Nn(this):this.inAnyRange(a.map(function(u){return[u,u+Sr]})):Kt(this,"startsWithAnyOf() only works with strings")};var ti=St;function St(){}function Ft(a){return ut(function(u){return Wi(u),a(u.target.error),!1})}function Wi(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var ni="storagemutated",_r="x-storagemutated-1",rr=Vi(null,ni),Ra=(rn.prototype._lock=function(){return xe(!ke.global),++this._reculock,this._reculock!==1||ke.global||(ke.lockOwnerFor=this),this},rn.prototype._unlock=function(){if(xe(!ke.global),--this._reculock==0)for(ke.global||(ke.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{Zn(a[1],a[0])}catch{}}return this},rn.prototype._locked=function(){return this._reculock&&ke.lockOwnerFor!==this},rn.prototype.create=function(a){var u=this;if(this.mode){var p=this.db.idbdb,m=this.db._state.dbOpenError;if(xe(!this.idbtrans),!a&&!p)switch(m&&m.name){case"DatabaseClosedError":throw new Ee.DatabaseClosed(m);case"MissingAPIError":throw new Ee.MissingAPI(m.message,m);default:throw new Ee.OpenFailed(m)}if(!this.active)throw new Ee.TransactionInactive;xe(this._completion._state===null),(a=this.idbtrans=a||(this.db.core||p).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ut(function(v){Wi(v),u._reject(a.error)}),a.onabort=ut(function(v){Wi(v),u.active&&u._reject(new Ee.Abort(a.error)),u.active=!1,u.on("abort").fire(v)}),a.oncomplete=ut(function(){u.active=!1,u._resolve(),"mutatedParts"in a&&rr.storagemutated.fire(a.mutatedParts)})}return this},rn.prototype._promise=function(a,u,p){var m,v=this;return a==="readwrite"&&this.mode!=="readwrite"?jt(new Ee.ReadOnly("Transaction is readonly")):this.active?this._locked()?new me(function(x,E){v._blockedFuncs.push([function(){v._promise(a,u,p).then(x,E)},ke])}):p?Jn(function(){var x=new me(function(E,j){v._lock();var D=u(E,j,v);D&&D.then&&D.then(E,j)});return x.finally(function(){return v._unlock()}),x._lib=!0,x}):((m=new me(function(x,E){var j=u(x,E,v);j&&j.then&&j.then(x,E)}))._lib=!0,m):jt(new Ee.TransactionInactive)},rn.prototype._root=function(){return this.parent?this.parent._root():this},rn.prototype.waitFor=function(a){var u,p=this._root(),m=me.resolve(a),v=(p._waitingFor?p._waitingFor=p._waitingFor.then(function(){return m}):(p._waitingFor=m,p._waitingQueue=[],u=p.idbtrans.objectStore(p.storeNames[0]),(function x(){for(++p._spinCount;p._waitingQueue.length;)p._waitingQueue.shift()();p._waitingFor&&(u.get(-1/0).onsuccess=x)})()),p._waitingFor);return new me(function(x,E){m.then(function(j){return p._waitingQueue.push(ut(x.bind(null,j)))},function(j){return p._waitingQueue.push(ut(E.bind(null,j)))}).finally(function(){p._waitingFor===v&&(p._waitingFor=null)})})},rn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ee.Abort))},rn.prototype.table=function(a){var u=this._memoizedTables||(this._memoizedTables={});if(k(u,a))return u[a];var p=this.schema[a];if(p)return(p=new this.db.Table(a,p,this)).core=this.db.core.table(a),u[a]=p;throw new Ee.NotFound("Table "+a+" not part of transaction")},rn);function rn(){}function To(a,u,p,m,v,x,E,j){return{name:a,keyPath:u,unique:p,multi:m,auto:v,compound:x,src:(p&&!E?"&":"")+(m?"*":"")+(v?"++":"")+Pa(u),type:j}}function Pa(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function Cr(a,u,p){return{name:a,primKey:u,indexes:p,mappedClass:null,idxByName:(m=function(v){return[v.name,v]},p.reduce(function(v,x,E){return x=m(x,E),x&&(v[x[0]]=x[1]),v},{}))};var m}var Pn=function(a){try{return a.only([[]]),Pn=function(){return[[]]},[[]]}catch{return Pn=function(){return Sr},Sr}};function ir(a){return a==null?function(){}:typeof a=="string"?(u=a).split(".").length===1?function(p){return p[u]}:function(p){return De(p,u)}:function(p){return De(p,a)};var u}function qi(a){return[].slice.call(a)}var ac=0;function Yi(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function bs(a,u,D){function m(O){if(O.type===3)return null;if(O.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var A=O.lower,F=O.upper,L=O.lowerOpen,O=O.upperOpen;return A===void 0?F===void 0?null:u.upperBound(F,!!O):F===void 0?u.lowerBound(A,!!L):u.bound(A,F,!!L,!!O)}function v(R){var A,F=R.name;return{name:F,schema:R,mutate:function(L){var O=L.trans,P=L.type,K=L.keys,G=L.values,z=L.range;return new Promise(function(Z,ie){Z=ut(Z);var pe=O.objectStore(F),he=pe.keyPath==null,se=P==="put"||P==="add";if(!se&&P!=="delete"&&P!=="deleteRange")throw new Error("Invalid operation type: "+P);var ve,ye=(K||G||{length:1}).length;if(K&&G&&K.length!==G.length)throw new Error("Given keys array must have same length as given values array.");if(ye===0)return Z({numFailures:0,failures:{},results:[],lastResult:void 0});function ce(ct){++Qe,Wi(ct)}var we=[],We=[],Qe=0;if(P==="deleteRange"){if(z.type===4)return Z({numFailures:Qe,failures:We,results:[],lastResult:void 0});z.type===3?we.push(ve=pe.clear()):we.push(ve=pe.delete(m(z)))}else{var he=se?he?[G,K]:[G,null]:[K,null],Te=he[0],He=he[1];if(se)for(var gt=0;gt<ye;++gt)we.push(ve=He&&He[gt]!==void 0?pe[P](Te[gt],He[gt]):pe[P](Te[gt])),ve.onerror=ce;else for(gt=0;gt<ye;++gt)we.push(ve=pe[P](Te[gt])),ve.onerror=ce}function on(ct){ct=ct.target.result,we.forEach(function(Bn,Zi){return Bn.error!=null&&(We[Zi]=Bn.error)}),Z({numFailures:Qe,failures:We,results:P==="delete"?K:we.map(function(Bn){return Bn.result}),lastResult:ct})}ve.onerror=function(ct){ce(ct),on(ct)},ve.onsuccess=on})},getMany:function(L){var O=L.trans,P=L.keys;return new Promise(function(K,G){K=ut(K);for(var z,Z=O.objectStore(F),ie=P.length,pe=new Array(ie),he=0,se=0,ve=function(we){we=we.target,pe[we._pos]=we.result,++se===he&&K(pe)},ye=Ft(G),ce=0;ce<ie;++ce)P[ce]!=null&&((z=Z.get(P[ce]))._pos=ce,z.onsuccess=ve,z.onerror=ye,++he);he===0&&K(pe)})},get:function(L){var O=L.trans,P=L.key;return new Promise(function(K,G){K=ut(K);var z=O.objectStore(F).get(P);z.onsuccess=function(Z){return K(Z.target.result)},z.onerror=Ft(G)})},query:(A=j,function(L){return new Promise(function(O,P){O=ut(O);var K,G,z,se=L.trans,Z=L.values,ie=L.limit,he=L.query,pe=ie===1/0?void 0:ie,ve=he.index,he=he.range,se=se.objectStore(F),se=ve.isPrimaryKey?se:se.index(ve.name),ve=m(he);if(ie===0)return O({result:[]});A?((he=Z?se.getAll(ve,pe):se.getAllKeys(ve,pe)).onsuccess=function(ye){return O({result:ye.target.result})},he.onerror=Ft(P)):(K=0,G=!Z&&"openKeyCursor"in se?se.openKeyCursor(ve):se.openCursor(ve),z=[],G.onsuccess=function(ye){var ce=G.result;return!ce||(z.push(Z?ce.value:ce.primaryKey),++K===ie)?O({result:z}):void ce.continue()},G.onerror=Ft(P))})}),openCursor:function(L){var O=L.trans,P=L.values,K=L.query,G=L.reverse,z=L.unique;return new Promise(function(Z,ie){Z=ut(Z);var se=K.index,pe=K.range,he=O.objectStore(F),he=se.isPrimaryKey?he:he.index(se.name),se=G?z?"prevunique":"prev":z?"nextunique":"next",ve=!P&&"openKeyCursor"in he?he.openKeyCursor(m(pe),se):he.openCursor(m(pe),se);ve.onerror=Ft(ie),ve.onsuccess=ut(function(ye){var ce,we,We,Qe,Te=ve.result;Te?(Te.___id=++ac,Te.done=!1,ce=Te.continue.bind(Te),we=(we=Te.continuePrimaryKey)&&we.bind(Te),We=Te.advance.bind(Te),Qe=function(){throw new Error("Cursor not stopped")},Te.trans=O,Te.stop=Te.continue=Te.continuePrimaryKey=Te.advance=function(){throw new Error("Cursor not started")},Te.fail=ut(ie),Te.next=function(){var He=this,gt=1;return this.start(function(){return gt--?He.continue():He.stop()}).then(function(){return He})},Te.start=function(He){function gt(){if(ve.result)try{He()}catch(ct){Te.fail(ct)}else Te.done=!0,Te.start=function(){throw new Error("Cursor behind last entry")},Te.stop()}var on=new Promise(function(ct,Bn){ct=ut(ct),ve.onerror=Ft(Bn),Te.fail=Bn,Te.stop=function(Zi){Te.stop=Te.continue=Te.continuePrimaryKey=Te.advance=Qe,ct(Zi)}});return ve.onsuccess=ut(function(ct){ve.onsuccess=gt,gt()}),Te.continue=ce,Te.continuePrimaryKey=we,Te.advance=We,gt(),on},Z(Te)):Z(null)},ie)})},count:function(L){var O=L.query,P=L.trans,K=O.index,G=O.range;return new Promise(function(z,Z){var ie=P.objectStore(F),ie=K.isPrimaryKey?ie:ie.index(K.name),pe=m(G),pe=pe?ie.count(pe):ie.count();pe.onsuccess=ut(function(he){return z(he.target.result)}),pe.onerror=Ft(Z)})}}}x=D,E=qi((D=a).objectStoreNames);var x,D={schema:{name:D.name,tables:E.map(function(R){return x.objectStore(R)}).map(function(R){var A=R.keyPath,F=R.autoIncrement,O=S(A),L={},O={name:R.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:A==null,compound:O,keyPath:A,autoIncrement:F,unique:!0,extractKey:ir(A)},indexes:qi(R.indexNames).map(function(P){return R.index(P)}).map(function(z){var Z=z.name,K=z.unique,G=z.multiEntry,z=z.keyPath,Z={name:Z,compound:S(z),keyPath:z,unique:K,multiEntry:G,extractKey:ir(z)};return L[Yi(z)]=Z}),getIndexByKeyPath:function(P){return L[Yi(P)]}};return L[":id"]=O.primaryKey,A!=null&&(L[Yi(A)]=O.primaryKey),O})},hasGetAll:0<E.length&&"getAll"in x.objectStore(E[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},E=D.schema,j=D.hasGetAll,D=E.tables.map(v),M={};return D.forEach(function(R){return M[R.name]=R}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(R){if(M[R])return M[R];throw new Error("Table '".concat(R,"' not found"))},MIN_KEY:-1/0,MAX_KEY:Pn(u),schema:E}}function No(a,u,p,m){return p=p.IDBKeyRange,u=bs(u,p,m),{dbcore:a.dbcore.reduce(function(v,x){return x=x.create,c(c({},v),x(v))},u)}}function ri(a,u){var p=u.db,p=No(a._middlewares,p,a._deps,u);a.core=p.dbcore,a.tables.forEach(function(m){var v=m.name;a.core.schema.tables.some(function(x){return x.name===v})&&(m.core=a.core.table(v),a[v]instanceof a.Table)&&(a[v].core=m.core)})}function Gi(a,u,p,m){p.forEach(function(v){var x=m[v];u.forEach(function(E){var j=(function D(M,R){return U(M,R)||(M=_(M))&&D(M,R)})(E,v);(!j||"value"in j&&j.value===void 0)&&(E===a.Transaction.prototype||E instanceof a.Transaction?q(E,v,{get:function(){return this.table(v)},set:function(D){ne(this,v,{value:D,writable:!0,configurable:!0,enumerable:!0})}}):E[v]=new a.Table(v,x))})})}function bn(a,u){u.forEach(function(p){for(var m in p)p[m]instanceof a.Table&&delete p[m]})}function Es(a,u){return a._cfg.version-u._cfg.version}function Ro(a,u,p,m){var v=a._dbSchema,x=(p.objectStoreNames.contains("$meta")&&!v.$meta&&(v.$meta=Cr("$meta",ai("")[0],[]),a._storeNames.push("$meta")),a._createTransaction("readwrite",a._storeNames,v)),E=(x.create(p),x._completion.catch(m),x._reject.bind(x)),j=ke.transless||ke;Jn(function(){if(ke.trans=x,ke.transless=j,u!==0)return ri(a,p),M=u,((D=x).storeNames.includes("$meta")?D.table("$meta").get("version").then(function(R){return R??M}):me.resolve(M)).then(function(K){var A=a,F=K,L=x,O=p,P=[],K=A._versions,G=A._dbSchema=On(0,A.idbdb,O);return(K=K.filter(function(z){return z._cfg.version>=F})).length===0?me.resolve():(K.forEach(function(z){P.push(function(){var Z,ie,pe,he=G,se=z._cfg.dbschema,ve=(si(A,he,O),si(A,se,O),G=A._dbSchema=se,ii(he,se)),ye=(ve.add.forEach(function(ce){oi(O,ce[0],ce[1].primKey,ce[1].indexes)}),ve.change.forEach(function(ce){if(ce.recreate)throw new Ee.Upgrade("Not yet support for changing primary key");var we=O.objectStore(ce.name);ce.add.forEach(function(We){return Mt(we,We)}),ce.change.forEach(function(We){we.deleteIndex(We.name),Mt(we,We)}),ce.del.forEach(function(We){return we.deleteIndex(We)})}),z._cfg.contentUpgrade);if(ye&&z._cfg.version>F)return ri(A,O),L._memoizedTables={},Z=Fe(se),ve.del.forEach(function(ce){Z[ce]=he[ce]}),bn(A,[A.Transaction.prototype]),Gi(A,[A.Transaction.prototype],y(Z),Z),L.schema=Z,(ie=N(ye))&&Xr(),se=me.follow(function(){var ce;(pe=ye(L))&&ie&&(ce=Qt.bind(null,null),pe.then(ce,ce))}),pe&&typeof pe.then=="function"?me.resolve(pe):se.then(function(){return pe})}),P.push(function(Z){var ie,pe,he=z._cfg.dbschema;ie=he,pe=Z,[].slice.call(pe.db.objectStoreNames).forEach(function(se){return ie[se]==null&&pe.db.deleteObjectStore(se)}),bn(A,[A.Transaction.prototype]),Gi(A,[A.Transaction.prototype],A._storeNames,A._dbSchema),L.schema=A._dbSchema}),P.push(function(Z){A.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(A.idbdb.version/10)===z._cfg.version?(A.idbdb.deleteObjectStore("$meta"),delete A._dbSchema.$meta,A._storeNames=A._storeNames.filter(function(ie){return ie!=="$meta"})):Z.objectStore("$meta").put(z._cfg.version,"version"))})}),(function z(){return P.length?me.resolve(P.shift()(L.idbtrans)).then(z):me.resolve()})().then(function(){js(G,O)}))}).catch(E);var D,M;y(v).forEach(function(R){oi(p,R,v[R].primKey,v[R].indexes)}),ri(a,p),me.follow(function(){return a.on.populate.fire(x)}).catch(E)})}function Oa(a,u){js(a._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var p=On(0,a.idbdb,u);si(a,a._dbSchema,u);for(var m=0,v=ii(p,a._dbSchema).change;m<v.length;m++){var x=(E=>{if(E.change.length||E.recreate)return console.warn("Unable to patch indexes of table ".concat(E.name," because it has changes on the type of index or primary key.")),{value:void 0};var j=u.objectStore(E.name);E.add.forEach(function(D){Vt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(E.name,".").concat(D.src)),Mt(j,D)})})(v[m]);if(typeof x=="object")return x.value}}function ii(a,u){var p,m={del:[],add:[],change:[]};for(p in a)u[p]||m.del.push(p);for(p in u){var v=a[p],x=u[p];if(v){var E={name:p,def:x,recreate:!1,del:[],add:[],change:[]};if(""+(v.primKey.keyPath||"")!=""+(x.primKey.keyPath||"")||v.primKey.auto!==x.primKey.auto)E.recreate=!0,m.change.push(E);else{var j=v.idxByName,D=x.idxByName,M=void 0;for(M in j)D[M]||E.del.push(M);for(M in D){var R=j[M],A=D[M];R?R.src!==A.src&&E.change.push(A):E.add.push(A)}(0<E.del.length||0<E.add.length||0<E.change.length)&&m.change.push(E)}}else m.add.push([p,x])}return m}function oi(a,u,p,m){var v=a.db.createObjectStore(u,p.keyPath?{keyPath:p.keyPath,autoIncrement:p.auto}:{autoIncrement:p.auto});m.forEach(function(x){return Mt(v,x)})}function js(a,u){y(a).forEach(function(p){u.db.objectStoreNames.contains(p)||(Vt&&console.debug("Dexie: Creating missing table",p),oi(u,p,a[p].primKey,a[p].indexes))})}function Mt(a,u){a.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function On(a,u,p){var m={};return Se(u.objectStoreNames,0).forEach(function(v){for(var x=p.objectStore(v),E=To(Pa(M=x.keyPath),M||"",!0,!1,!!x.autoIncrement,M&&typeof M!="string",!0),j=[],D=0;D<x.indexNames.length;++D){var R=x.index(x.indexNames[D]),M=R.keyPath,R=To(R.name,M,!!R.unique,!!R.multiEntry,!1,M&&typeof M!="string",!1);j.push(R)}m[v]=Cr(v,E,j)}),m}function si(a,u,p){for(var m=p.db.objectStoreNames,v=0;v<m.length;++v){var x=m[v],E=p.objectStore(x);a._hasGetAll="getAll"in E;for(var j=0;j<E.indexNames.length;++j){var D,M=E.indexNames[j],R=E.index(M).keyPath,R=typeof R=="string"?R:"["+Se(R).join("+")+"]";u[x]&&(D=u[x].idxByName[R])&&(D.name=M,delete u[x].idxByName[R],u[x].idxByName[M]=D)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&g.WorkerGlobalScope&&g instanceof g.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function ai(a){return a.split(",").map(function(u,p){var v=u.split(":"),m=(m=v[1])==null?void 0:m.trim(),v=(u=v[0].trim()).replace(/([&*]|\+\+)/g,""),x=/^\[/.test(v)?v.match(/^\[(.*)\]$/)[1].split("+"):v;return To(v,x||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),S(x),p===0,m)})}or.prototype._createTableSchema=Cr,or.prototype._parseIndexSyntax=ai,or.prototype._parseStoresSpec=function(a,u){var p=this;y(a).forEach(function(m){if(a[m]!==null){var v=p._parseIndexSyntax(a[m]),x=v.shift();if(!x)throw new Ee.Schema("Invalid schema for table "+m+": "+a[m]);if(x.unique=!0,x.multi)throw new Ee.Schema("Primary key cannot be multiEntry*");v.forEach(function(E){if(E.auto)throw new Ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!E.keyPath)throw new Ee.Schema("Index must have a name and cannot be an empty string")}),x=p._createTableSchema(m,x,v),u[m]=x}})},or.prototype.stores=function(p){var u=this.db,p=(this._cfg.storesSource=this._cfg.storesSource?b(this._cfg.storesSource,p):p,u._versions),m={},v={};return p.forEach(function(x){b(m,x._cfg.storesSource),v=x._cfg.dbschema={},x._parseStoresSpec(m,v)}),u._dbSchema=v,bn(u,[u._allTables,u,u.Transaction.prototype]),Gi(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],y(v),v),u._storeNames=y(v),this},or.prototype.upgrade=function(a){return this._cfg.contentUpgrade=fr(this._cfg.contentUpgrade||at,a),this};var lc=or;function or(){}function Qi(a,u){var p=a._dbNamesDB;return p||(p=a._dbNamesDB=new Fn(Ui,{addons:[],indexedDB:a,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),p.table("dbnames")}function kr(a){return a&&typeof a.databases=="function"}function li(a){return Jn(function(){return ke.letThrough=!0,a()})}function Po(a){return!("from"in a)}var Ut=function(a,u){var p;if(!this)return p=new Ut,a&&"d"in a&&b(p,a),p;b(this,arguments.length?{d:1,from:a,to:1<arguments.length?u:a}:{d:0})};function Ji(a,u,p){var m=Be(u,p);if(!isNaN(m)){if(0<m)throw RangeError();if(Po(a))return b(a,{from:u,to:p,d:1});var m=a.l,v=a.r;if(Be(p,a.from)<0)return m?Ji(m,u,p):a.l={from:u,to:p,d:1,l:null,r:null},Da(a);if(0<Be(u,a.to))return v?Ji(v,u,p):a.r={from:u,to:p,d:1,l:null,r:null},Da(a);Be(u,a.from)<0&&(a.from=u,a.l=null,a.d=v?v.d+1:1),0<Be(p,a.to)&&(a.to=p,a.r=null,a.d=a.l?a.l.d+1:1),u=!a.r,m&&!a.l&&Xi(a,m),v&&u&&Xi(a,v)}}function Xi(a,u){Po(u)||(function p(m,v){var x=v.from,E=v.l,j=v.r;Ji(m,x,v.to),E&&p(m,E),j&&p(m,j)})(a,u)}function Oo(a,u){var p=Do(u),m=p.next();if(!m.done)for(var v=m.value,x=Do(a),E=x.next(v.from),j=E.value;!m.done&&!E.done;){if(Be(j.from,v.to)<=0&&0<=Be(j.to,v.from))return!0;Be(v.from,j.from)<0?v=(m=p.next(j.from)).value:j=(E=x.next(v.from)).value}return!1}function Do(a){var u=Po(a)?null:{s:0,n:a};return{next:function(p){for(var m=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,m)for(;u.n.l&&Be(p,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!m||Be(p,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function Da(a){var u,p,m,v=(((v=a.r)==null?void 0:v.d)||0)-(((v=a.l)==null?void 0:v.d)||0),v=1<v?"r":v<-1?"l":"";v&&(u=v=="r"?"l":"r",p=c({},a),m=a[v],a.from=m.from,a.to=m.to,a[v]=m[v],p[v]=m[u],(a[u]=p).d=Fa(p)),a.d=Fa(a)}function Fa(p){var u=p.r,p=p.l;return(u?p?Math.max(u.d,p.d):u.d:p?p.d:0)+1}function Fo(a,u){return y(u).forEach(function(p){a[p]?Xi(a[p],u[p]):a[p]=(function m(v){var x,E,j={};for(x in v)k(v,x)&&(E=v[x],j[x]=!E||typeof E!="object"||ft.has(E.constructor)?E:m(E));return j})(u[p])}),a}function _s(a,u){return a.all||u.all||Object.keys(a).some(function(p){return u[p]&&Oo(u[p],a[p])})}H(Ut.prototype,((Gt={add:function(a){return Xi(this,a),this},addKey:function(a){return Ji(this,a,a),this},addKeys:function(a){var u=this;return a.forEach(function(p){return Ji(u,p,p)}),this},hasKey:function(a){var u=Do(this).next(a).value;return u&&Be(u.from,a)<=0&&0<=Be(u.to,a)}})[it]=function(){return Do(this)},Gt));var sr={},Cs={},ks=!1;function Lo(a){Fo(Cs,a),ks||(ks=!0,setTimeout(function(){ks=!1,Is(Cs,!(Cs={}))},0))}function Is(a,u){u===void 0&&(u=!1);var p=new Set;if(a.all)for(var m=0,v=Object.values(sr);m<v.length;m++)Bo(j=v[m],a,p,u);else for(var x in a){var E,j,x=/^idb\:\/\/(.*)\/(.*)\//.exec(x);x&&(E=x[1],x=x[2],j=sr["idb://".concat(E,"/").concat(x)])&&Bo(j,a,p,u)}p.forEach(function(D){return D()})}function Bo(a,u,p,m){for(var v=[],x=0,E=Object.entries(a.queries.query);x<E.length;x++){for(var j=E[x],D=j[0],M=[],R=0,A=j[1];R<A.length;R++){var F=A[R];_s(u,F.obsSet)?F.subscribers.forEach(function(K){return p.add(K)}):m&&M.push(F)}m&&v.push([D,M])}if(m)for(var L=0,O=v;L<O.length;L++){var P=O[L],D=P[0],M=P[1];a.queries.query[D]=M}}function cc(a){var u=a._state,p=a._deps.indexedDB;if(u.isBeingOpened||a.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?jt(u.dbOpenError):a});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var m=u.openCanceller,v=Math.round(10*a.verno),x=!1;function E(){if(u.openCanceller!==m)throw new Ee.DatabaseClosed("db.open() was cancelled")}function j(){return new me(function(F,L){if(E(),!p)throw new Ee.MissingAPI;var O=a.name,P=u.autoSchema||!v?p.open(O):p.open(O,v);if(!P)throw new Ee.MissingAPI;P.onerror=Ft(L),P.onblocked=ut(a._fireOnBlocked),P.onupgradeneeded=ut(function(K){var G;R=P.transaction,u.autoSchema&&!a._options.allowEmptyDB?(P.onerror=Wi,R.abort(),P.result.close(),(G=p.deleteDatabase(O)).onsuccess=G.onerror=ut(function(){L(new Ee.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(R.onerror=Ft(L),G=K.oldVersion>Math.pow(2,62)?0:K.oldVersion,A=G<1,a.idbdb=P.result,x&&Oa(a,R),Ro(a,G/10,R,L))},L),P.onsuccess=ut(function(){R=null;var K,G,z,Z,ie,pe,he=a.idbdb=P.result,se=Se(he.objectStoreNames);if(0<se.length)try{var ve=he.transaction((ie=se).length===1?ie[0]:ie,"readonly");if(u.autoSchema)pe=he,Z=ve,(z=a).verno=pe.version/10,Z=z._dbSchema=On(0,pe,Z),z._storeNames=Se(pe.objectStoreNames,0),Gi(z,[z._allTables],y(Z),Z);else if(si(a,a._dbSchema,ve),G=ve,((G=ii(On(0,(K=a).idbdb,G),K._dbSchema)).add.length||G.change.some(function(ye){return ye.add.length||ye.change.length}))&&!x)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),he.close(),v=he.version+1,x=!0,F(j());ri(a,ve)}catch{}er.push(a),he.onversionchange=ut(function(ye){u.vcFired=!0,a.on("versionchange").fire(ye)}),he.onclose=ut(function(){a.close({disableAutoOpen:!1})}),A&&(se=a._deps,ie=O,kr(pe=se.indexedDB)||ie===Ui||Qi(pe,se.IDBKeyRange).put({name:ie}).catch(at)),F()},L)}).catch(function(F){switch(F?.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),j();break;case"VersionError":if(0<v)return v=0,j()}return me.reject(F)})}var D,M=u.dbReadyResolve,R=null,A=!1;return me.race([m,(typeof navigator>"u"?me.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(F){function L(){return indexedDB.databases().finally(F)}D=setInterval(L,100),L()}).finally(function(){return clearInterval(D)}):Promise.resolve()).then(j)]).then(function(){return E(),u.onReadyBeingFired=[],me.resolve(li(function(){return a.on.ready.fire(a.vip)})).then(function F(){var L;if(0<u.onReadyBeingFired.length)return L=u.onReadyBeingFired.reduce(fr,at),u.onReadyBeingFired=[],me.resolve(li(function(){return L(a.vip)})).then(F)})}).finally(function(){u.openCanceller===m&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(F){u.dbOpenError=F;try{R&&R.abort()}catch{}return m===u.openCanceller&&a._close(),jt(F)}).finally(function(){u.openComplete=!0,M()}).then(function(){var F;return A&&(F={},a.tables.forEach(function(L){L.schema.indexes.forEach(function(O){O.name&&(F["idb://".concat(a.name,"/").concat(L.name,"/").concat(O.name)]=new Ut(-1/0,[[[]]]))}),F["idb://".concat(a.name,"/").concat(L.name,"/")]=F["idb://".concat(a.name,"/").concat(L.name,"/:dels")]=new Ut(-1/0,[[[]]])}),rr(ni).fire(F),Is(F,!0)),a})}function As(a){function u(x){return a.next(x)}var p=v(u),m=v(function(x){return a.throw(x)});function v(x){return function(j){var j=x(j),D=j.value;return j.done?D:D&&typeof D.then=="function"?D.then(p,m):S(D)?Promise.all(D).then(p,m):p(D)}}return v(u)()}function Mo(a,u,p){for(var m=S(a)?a.slice():[a],v=0;v<p;++v)m.push(u);return m}var La={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(a){return c(c({},a),{table:function(m){var p=a.table(m),m=p.schema,v={},x=[];function E(F,L,O){var z=Yi(F),P=v[z]=v[z]||[],K=F==null?0:typeof F=="string"?1:F.length,G=0<L,z=c(c({},O),{name:G?"".concat(z,"(virtual-from:").concat(O.name,")"):O.name,lowLevelIndex:O,isVirtual:G,keyTail:L,keyLength:K,extractKey:ir(F),unique:!G&&O.unique});return P.push(z),z.isPrimaryKey||x.push(z),1<K&&E(K===2?F[0]:F.slice(0,K-1),L+1,O),P.sort(function(Z,ie){return Z.keyTail-ie.keyTail}),z}var j=E(m.primaryKey.keyPath,0,m.primaryKey);v[":id"]=[j];for(var D=0,M=m.indexes;D<M.length;D++){var R=M[D];E(R.keyPath,0,R)}function A(F){var L,O=F.query.index;return O.isVirtual?c(c({},F),{query:{index:O.lowLevelIndex,range:(L=F.query.range,O=O.keyTail,{type:L.type===1?2:L.type,lower:Mo(L.lower,L.lowerOpen?a.MAX_KEY:a.MIN_KEY,O),lowerOpen:!0,upper:Mo(L.upper,L.upperOpen?a.MIN_KEY:a.MAX_KEY,O),upperOpen:!0})}}):F}return c(c({},p),{schema:c(c({},m),{primaryKey:j,indexes:x,getIndexByKeyPath:function(F){return(F=v[Yi(F)])&&F[0]}}),count:function(F){return p.count(A(F))},query:function(F){return p.query(A(F))},openCursor:function(F){var L=F.query.index,O=L.keyTail,P=L.keyLength;return L.isVirtual?p.openCursor(A(F)).then(function(G){return G&&K(G)}):p.openCursor(F);function K(G){return Object.create(G,{continue:{value:function(z){z!=null?G.continue(Mo(z,F.reverse?a.MAX_KEY:a.MIN_KEY,O)):F.unique?G.continue(G.key.slice(0,P).concat(F.reverse?a.MIN_KEY:a.MAX_KEY,O)):G.continue()}},continuePrimaryKey:{value:function(z,Z){G.continuePrimaryKey(Mo(z,a.MAX_KEY,O),Z)}},primaryKey:{get:function(){return G.primaryKey}},key:{get:function(){var z=G.key;return P===1?z[0]:z.slice(0,P)}},value:{get:function(){return G.value}}})}}})}})}};function Ts(a,u,p,m){return p=p||{},m=m||"",y(a).forEach(function(v){var x,E,j;k(u,v)?(x=a[v],E=u[v],typeof x=="object"&&typeof E=="object"&&x&&E?(j=Rt(x))!==Rt(E)?p[m+v]=u[v]:j==="Object"?Ts(x,E,p,m+v+"."):x!==E&&(p[m+v]=u[v]):x!==E&&(p[m+v]=u[v])):p[m+v]=void 0}),y(u).forEach(function(v){k(a,v)||(p[m+v]=u[v])}),p}function Ns(a,u){return u.type==="delete"?u.keys:u.keys||u.values.map(a.extractKey)}var uc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return c(c({},a),{table:function(u){var p=a.table(u),m=p.schema.primaryKey;return c(c({},p),{mutate:function(v){var x=ke.trans,E=x.table(u).hook,j=E.deleting,D=E.creating,M=E.updating;switch(v.type){case"add":if(D.fire===at)break;return x._promise("readwrite",function(){return R(v)},!0);case"put":if(D.fire===at&&M.fire===at)break;return x._promise("readwrite",function(){return R(v)},!0);case"delete":if(j.fire===at)break;return x._promise("readwrite",function(){return R(v)},!0);case"deleteRange":if(j.fire===at)break;return x._promise("readwrite",function(){return(function A(F,L,O){return p.query({trans:F,values:!1,query:{index:m,range:L},limit:O}).then(function(P){var K=P.result;return R({type:"delete",keys:K,trans:F}).then(function(G){return 0<G.numFailures?Promise.reject(G.failures[0]):K.length<O?{failures:[],numFailures:0,lastResult:void 0}:A(F,c(c({},L),{lower:K[K.length-1],lowerOpen:!0}),O)})})})(v.trans,v.range,1e4)},!0)}return p.mutate(v);function R(A){var F,L,O,P=ke.trans,K=A.keys||Ns(m,A);if(K)return(A=A.type==="add"||A.type==="put"?c(c({},A),{keys:K}):c({},A)).type!=="delete"&&(A.values=d([],A.values)),A.keys&&(A.keys=d([],A.keys)),F=p,O=K,((L=A).type==="add"?Promise.resolve([]):F.getMany({trans:L.trans,keys:O,cache:"immutable"})).then(function(G){var z=K.map(function(Z,ie){var pe,he,se,ve=G[ie],ye={onerror:null,onsuccess:null};return A.type==="delete"?j.fire.call(ye,Z,ve,P):A.type==="add"||ve===void 0?(pe=D.fire.call(ye,Z,A.values[ie],P),Z==null&&pe!=null&&(A.keys[ie]=Z=pe,m.outbound||re(A.values[ie],m.keyPath,Z))):(pe=Ts(ve,A.values[ie]),(he=M.fire.call(ye,pe,Z,ve,P))&&(se=A.values[ie],Object.keys(he).forEach(function(ce){k(se,ce)?se[ce]=he[ce]:re(se,ce,he[ce])}))),ye});return p.mutate(A).then(function(Z){for(var ie=Z.failures,pe=Z.results,he=Z.numFailures,Z=Z.lastResult,se=0;se<K.length;++se){var ve=(pe||K)[se],ye=z[se];ve==null?ye.onerror&&ye.onerror(ie[se]):ye.onsuccess&&ye.onsuccess(A.type==="put"&&G[se]?A.values[se]:ve)}return{failures:ie,results:pe,numFailures:he,lastResult:Z}}).catch(function(Z){return z.forEach(function(ie){return ie.onerror&&ie.onerror(Z)}),Promise.reject(Z)})});throw new Error("Keys missing")}}})}})}};function Ba(a,u,p){try{if(!u||u.keys.length<a.length)return null;for(var m=[],v=0,x=0;v<u.keys.length&&x<a.length;++v)Be(u.keys[v],a[x])===0&&(m.push(p?ze(u.values[v]):u.values[v]),++x);return m.length===a.length?m:null}catch{return null}}var dc={stack:"dbcore",level:-1,create:function(a){return{table:function(u){var p=a.table(u);return c(c({},p),{getMany:function(m){var v;return m.cache?(v=Ba(m.keys,m.trans._cache,m.cache==="clone"))?me.resolve(v):p.getMany(m).then(function(x){return m.trans._cache={keys:m.keys,values:m.cache==="clone"?ze(x):x},x}):p.getMany(m)},mutate:function(m){return m.type!=="add"&&(m.trans._cache=null),p.mutate(m)}})}}}};function Ma(a,u){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function Ua(a,u){switch(a){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Rs={stack:"dbcore",level:0,name:"Observability",create:function(a){var u=a.schema.name,p=new Ut(a.MIN_KEY,a.MAX_KEY);return c(c({},a),{transaction:function(m,v,x){if(ke.subscr&&v!=="readonly")throw new Ee.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ke.querier));return a.transaction(m,v,x)},table:function(m){function v(K){var P,K=K.query;return[P=K.index,new Ut((P=(K=K.range).lower)!=null?P:a.MIN_KEY,(P=K.upper)!=null?P:a.MAX_KEY)]}var x=a.table(m),E=x.schema,j=E.primaryKey,D=E.indexes,M=j.extractKey,R=j.outbound,A=j.autoIncrement&&D.filter(function(O){return O.compound&&O.keyPath.includes(j.keyPath)}),F=c(c({},x),{mutate:function(O){function P(we){return we="idb://".concat(u,"/").concat(m,"/").concat(we),ie[we]||(ie[we]=new Ut)}var K,G,z,Z=O.trans,ie=O.mutatedParts||(O.mutatedParts={}),pe=P(""),he=P(":dels"),se=O.type,ye=O.type==="deleteRange"?[O.range]:O.type==="delete"?[O.keys]:O.values.length<50?[Ns(j,O).filter(function(we){return we}),O.values]:[],ve=ye[0],ye=ye[1],ce=O.trans._cache;return S(ve)?(pe.addKeys(ve),(se=se==="delete"||ve.length===ye.length?Ba(ve,ce):null)||he.addKeys(ve),(se||ye)&&(K=P,G=se,z=ye,E.indexes.forEach(function(we){var We=K(we.name||"");function Qe(He){return He!=null?we.extractKey(He):null}function Te(He){we.multiEntry&&S(He)?He.forEach(function(gt){return We.addKey(gt)}):We.addKey(He)}(G||z).forEach(function(He,ct){var on=G&&Qe(G[ct]),ct=z&&Qe(z[ct]);Be(on,ct)!==0&&(on!=null&&Te(on),ct!=null)&&Te(ct)})}))):ve?(ye={from:(ce=ve.lower)!=null?ce:a.MIN_KEY,to:(se=ve.upper)!=null?se:a.MAX_KEY},he.add(ye),pe.add(ye)):(pe.add(p),he.add(p),E.indexes.forEach(function(we){return P(we.name).add(p)})),x.mutate(O).then(function(we){return!ve||O.type!=="add"&&O.type!=="put"||(pe.addKeys(we.results),A&&A.forEach(function(We){for(var Qe=O.values.map(function(on){return We.extractKey(on)}),Te=We.keyPath.findIndex(function(on){return on===j.keyPath}),He=0,gt=we.results.length;He<gt;++He)Qe[He][Te]=we.results[He];P(We.name).addKeys(Qe)})),Z.mutatedParts=Fo(Z.mutatedParts||{},ie),we})}}),L={get:function(O){return[j,new Ut(O.key)]},getMany:function(O){return[j,new Ut().addKeys(O.keys)]},count:v,query:v,openCursor:v};return y(L).forEach(function(O){F[O]=function(P){var K=ke.subscr,G=!!K,z=Ma(ke,x)&&Ua(O,P)?P.obsSet={}:K;if(G){var Z,K=function(ye){return ye="idb://".concat(u,"/").concat(m,"/").concat(ye),z[ye]||(z[ye]=new Ut)},ie=K(""),pe=K(":dels"),G=L[O](P),he=G[0],G=G[1];if((O==="query"&&he.isPrimaryKey&&!P.values?pe:K(he.name||"")).add(G),!he.isPrimaryKey){if(O!=="count")return Z=O==="query"&&R&&P.values&&x.query(c(c({},P),{values:!1})),x[O].apply(this,arguments).then(function(ye){if(O==="query"){if(R&&P.values)return Z.then(function(Qe){return Qe=Qe.result,ie.addKeys(Qe),ye});var ce=P.values?ye.result.map(M):ye.result;(P.values?ie:pe).addKeys(ce)}else{var we,We;if(O==="openCursor")return We=P.values,(we=ye)&&Object.create(we,{key:{get:function(){return pe.addKey(we.primaryKey),we.key}},primaryKey:{get:function(){var Qe=we.primaryKey;return pe.addKey(Qe),Qe}},value:{get:function(){return We&&ie.addKey(we.primaryKey),we.value}}})}return ye});pe.add(p)}}return x[O].apply(this,arguments)}}),F}})}};function ci(a,u,p){var m;return p.numFailures===0?u:u.type==="deleteRange"||(m=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1,p.numFailures===m)?null:(m=c({},u),S(m.keys)&&(m.keys=m.keys.filter(function(v,x){return!(x in p.failures)})),"values"in m&&S(m.values)&&(m.values=m.values.filter(function(v,x){return!(x in p.failures)})),m)}function Ps(a,u){return p=a,((m=u).lower===void 0||(m.lowerOpen?0<Be(p,m.lower):0<=Be(p,m.lower)))&&(p=a,(m=u).upper===void 0||(m.upperOpen?Be(p,m.upper)<0:Be(p,m.upper)<=0));var p,m}function Os(a,u,p,m,v,x){var E,j,D,M,R,A;return!p||p.length===0||(E=u.query.index,j=E.multiEntry,D=u.query.range,M=m.schema.primaryKey.extractKey,R=E.extractKey,A=(E.lowLevelIndex||E).extractKey,(m=p.reduce(function(F,L){var O=F,P=[];if(L.type==="add"||L.type==="put")for(var K=new Ut,G=L.values.length-1;0<=G;--G){var z,Z=L.values[G],ie=M(Z);!K.hasKey(ie)&&(z=R(Z),j&&S(z)?z.some(function(ye){return Ps(ye,D)}):Ps(z,D))&&(K.addKey(ie),P.push(Z))}switch(L.type){case"add":var pe=new Ut().addKeys(u.values?F.map(function(ce){return M(ce)}):F),O=F.concat(u.values?P.filter(function(ce){return ce=M(ce),!pe.hasKey(ce)&&(pe.addKey(ce),!0)}):P.map(function(ce){return M(ce)}).filter(function(ce){return!pe.hasKey(ce)&&(pe.addKey(ce),!0)}));break;case"put":var he=new Ut().addKeys(L.values.map(function(ce){return M(ce)}));O=F.filter(function(ce){return!he.hasKey(u.values?M(ce):ce)}).concat(u.values?P:P.map(function(ce){return M(ce)}));break;case"delete":var se=new Ut().addKeys(L.keys);O=F.filter(function(ce){return!se.hasKey(u.values?M(ce):ce)});break;case"deleteRange":var ve=L.range;O=F.filter(function(ce){return!Ps(M(ce),ve)})}return O},a))===a)?a:(m.sort(function(F,L){return Be(A(F),A(L))||Be(M(F),M(L))}),u.limit&&u.limit<1/0&&(m.length>u.limit?m.length=u.limit:a.length===u.limit&&m.length<u.limit&&(v.dirty=!0)),x?Object.freeze(m):m)}function Ds(a,u){return Be(a.lower,u.lower)===0&&Be(a.upper,u.upper)===0&&!!a.lowerOpen==!!u.lowerOpen&&!!a.upperOpen==!!u.upperOpen}function za(a,u){return((p,m,v,x)=>{if(p===void 0)return m!==void 0?-1:0;if(m===void 0)return 1;if((p=Be(p,m))===0){if(v&&x)return 0;if(v)return 1;if(x)return-1}return p})(a.lower,u.lower,a.lowerOpen,u.lowerOpen)<=0&&0<=((p,m,v,x)=>{if(p===void 0)return m!==void 0?1:0;if(m===void 0)return-1;if((p=Be(p,m))===0){if(v&&x)return 0;if(v)return-1;if(x)return 1}return p})(a.upper,u.upper,a.upperOpen,u.upperOpen)}function Ha(a,u,p,m){a.subscribers.add(p),m.addEventListener("abort",function(){var v,x;a.subscribers.delete(p),a.subscribers.size===0&&(v=a,x=u,setTimeout(function(){v.subscribers.size===0&&ue(x,v)},3e3))})}var $a={stack:"dbcore",level:0,name:"Cache",create:function(a){var u=a.schema.name;return c(c({},a),{transaction:function(p,m,v){var x,E,j=a.transaction(p,m,v);return m==="readwrite"&&(v=(x=new AbortController).signal,j.addEventListener("abort",(E=function(D){return function(){if(x.abort(),m==="readwrite"){for(var M=new Set,R=0,A=p;R<A.length;R++){var F=A[R],L=sr["idb://".concat(u,"/").concat(F)];if(L){var O=a.table(F),P=L.optimisticOps.filter(function(we){return we.trans===j});if(j._explicit&&D&&j.mutatedParts)for(var K=0,G=Object.values(L.queries.query);K<G.length;K++)for(var z=0,Z=(he=G[K]).slice();z<Z.length;z++)_s((se=Z[z]).obsSet,j.mutatedParts)&&(ue(he,se),se.subscribers.forEach(function(we){return M.add(we)}));else if(0<P.length){L.optimisticOps=L.optimisticOps.filter(function(we){return we.trans!==j});for(var ie=0,pe=Object.values(L.queries.query);ie<pe.length;ie++)for(var he,se,ve,ye=0,ce=(he=pe[ie]).slice();ye<ce.length;ye++)(se=ce[ye]).res!=null&&j.mutatedParts&&(D&&!se.dirty?(ve=Object.isFrozen(se.res),ve=Os(se.res,se.req,P,O,se,ve),se.dirty?(ue(he,se),se.subscribers.forEach(function(we){return M.add(we)})):ve!==se.res&&(se.res=ve,se.promise=me.resolve({result:ve}))):(se.dirty&&ue(he,se),se.subscribers.forEach(function(we){return M.add(we)})))}}}M.forEach(function(we){return we()})}}})(!1),{signal:v}),j.addEventListener("error",E(!1),{signal:v}),j.addEventListener("complete",E(!0),{signal:v})),j},table:function(p){var m=a.table(p),v=m.schema.primaryKey;return c(c({},m),{mutate:function(x){var E,j=ke.trans;return!v.outbound&&j.db._options.cache!=="disabled"&&!j.explicit&&j.idbtrans.mode==="readwrite"&&(E=sr["idb://".concat(u,"/").concat(p)])?(j=m.mutate(x),x.type!=="add"&&x.type!=="put"||!(50<=x.values.length||Ns(v,x).some(function(D){return D==null}))?(E.optimisticOps.push(x),x.mutatedParts&&Lo(x.mutatedParts),j.then(function(D){0<D.numFailures&&(ue(E.optimisticOps,x),(D=ci(0,x,D))&&E.optimisticOps.push(D),x.mutatedParts)&&Lo(x.mutatedParts)}),j.catch(function(){ue(E.optimisticOps,x),x.mutatedParts&&Lo(x.mutatedParts)})):j.then(function(D){var M=ci(0,c(c({},x),{values:x.values.map(function(R,A){var F;return D.failures[A]?R:(re(F=(F=v.keyPath)!=null&&F.includes(".")?ze(R):c({},R),v.keyPath,D.results[A]),F)})}),D);E.optimisticOps.push(M),queueMicrotask(function(){return x.mutatedParts&&Lo(x.mutatedParts)})}),j):m.mutate(x)},query:function(x){var E,j,D,M,R,A,F;return Ma(ke,m)&&Ua("query",x)?(E=((D=ke.trans)==null?void 0:D.db._options.cache)==="immutable",j=(D=ke).requery,D=D.signal,A=((L,O,P,K)=>{var G=sr["idb://".concat(L,"/").concat(O)];if(!G)return[];if(!(L=G.queries[P]))return[null,!1,G,null];var z=L[(K.query?K.query.index.name:null)||""];if(!z)return[null,!1,G,null];switch(P){case"query":var Z=z.find(function(ie){return ie.req.limit===K.limit&&ie.req.values===K.values&&Ds(ie.req.query.range,K.query.range)});return Z?[Z,!0,G,z]:[z.find(function(ie){return("limit"in ie.req?ie.req.limit:1/0)>=K.limit&&(!K.values||ie.req.values)&&za(ie.req.query.range,K.query.range)}),!1,G,z];case"count":return Z=z.find(function(ie){return Ds(ie.req.query.range,K.query.range)}),[Z,!!Z,G,z]}})(u,p,"query",x),F=A[0],M=A[2],R=A[3],F&&A[1]?F.obsSet=x.obsSet:(A=m.query(x).then(function(L){var O=L.result;if(F&&(F.res=O),E){for(var P=0,K=O.length;P<K;++P)Object.freeze(O[P]);Object.freeze(O)}else L.result=ze(O);return L}).catch(function(L){return R&&F&&ue(R,F),Promise.reject(L)}),F={obsSet:x.obsSet,promise:A,subscribers:new Set,type:"query",req:x,dirty:!1},R?R.push(F):(R=[F],(M=M||(sr["idb://".concat(u,"/").concat(p)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[x.query.index.name||""]=R)),Ha(F,R,j,D),F.promise.then(function(L){return{result:Os(L.result,x,M?.optimisticOps,m,F,E)}})):m.query(x)}})}})}};function Dn(a,u){return new Proxy(a,{get:function(p,m,v){return m==="db"?u:Reflect.get(p,m,v)}})}_t.prototype.version=function(a){if(isNaN(a)||a<.1)throw new Ee.Type("Given version is not a positive number");if(a=Math.round(10*a)/10,this.idbdb||this._state.isBeingOpened)throw new Ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var u=this._versions,p=u.filter(function(m){return m._cfg.version===a})[0];return p||(p=new this.Version(a),u.push(p),u.sort(Es),p.stores({}),this._state.autoSchema=!1),p},_t.prototype._whenReady=function(a){var u=this;return this.idbdb&&(this._state.openComplete||ke.letThrough||this._vip)?a():new me(function(p,m){if(u._state.openComplete)return m(new Ee.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void m(new Ee.DatabaseClosed);u.open().catch(at)}u._state.dbReadyPromise.then(p,m)}).then(a)},_t.prototype.use=function(v){var u=v.stack,p=v.create,m=v.level,v=v.name,x=(v&&this.unuse({stack:u,name:v}),this._middlewares[u]||(this._middlewares[u]=[]));return x.push({stack:u,create:p,level:m??10,name:v}),x.sort(function(E,j){return E.level-j.level}),this},_t.prototype.unuse=function(a){var u=a.stack,p=a.name,m=a.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(v){return m?v.create!==m:!!p&&v.name!==p})),this},_t.prototype.open=function(){var a=this;return Zn(Yn,function(){return cc(a)})},_t.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var a=this._state,u=er.indexOf(this);if(0<=u&&er.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new me(function(p){a.dbReadyResolve=p}),a.openCanceller=new me(function(p,m){a.cancelOpen=m}))},_t.prototype.close=function(u){var u=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,p=this._state;u?(p.isBeingOpened&&p.cancelOpen(new Ee.DatabaseClosed),this._close(),p.autoOpen=!1,p.dbOpenError=new Ee.DatabaseClosed):(this._close(),p.autoOpen=this._options.autoOpen||p.isBeingOpened,p.openComplete=!1,p.dbOpenError=null)},_t.prototype.delete=function(a){var u=this,p=(a===void 0&&(a={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),m=this._state;return new me(function(v,x){function E(){u.close(a);var j=u._deps.indexedDB.deleteDatabase(u.name);j.onsuccess=ut(function(){var D,M,R;D=u._deps,M=u.name,kr(R=D.indexedDB)||M===Ui||Qi(R,D.IDBKeyRange).delete(M).catch(at),v()}),j.onerror=Ft(x),j.onblocked=u._fireOnBlocked}if(p)throw new Ee.InvalidArgument("Invalid closeOptions argument to db.delete()");m.isBeingOpened?m.dbReadyPromise.then(E):E()})},_t.prototype.backendDB=function(){return this.idbdb},_t.prototype.isOpen=function(){return this.idbdb!==null},_t.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"},_t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},_t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(_t.prototype,"tables",{get:function(){var a=this;return y(this._allTables).map(function(u){return a._allTables[u]})},enumerable:!1,configurable:!0}),_t.prototype.transaction=function(){var a=(function(u,p,m){var v=arguments.length;if(v<2)throw new Ee.InvalidArgument("Too few arguments");for(var x=new Array(v-1);--v;)x[v-1]=arguments[v];return m=x.pop(),[u,Ue(x),m]}).apply(this,arguments);return this._transaction.apply(this,a)},_t.prototype._transaction=function(a,u,p){var m,v,x=this,E=ke.trans,j=(E&&E.db===this&&a.indexOf("!")===-1||(E=null),a.indexOf("?")!==-1);a=a.replace("!","").replace("?","");try{if(v=u.map(function(M){if(M=M instanceof x.Table?M.name:M,typeof M!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return M}),a=="r"||a===Zr)m=Zr;else{if(a!="rw"&&a!=xs)throw new Ee.InvalidArgument("Invalid transaction mode: "+a);m=xs}if(E){if(E.mode===Zr&&m===xs){if(!j)throw new Ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");E=null}E&&v.forEach(function(M){if(E&&E.storeNames.indexOf(M)===-1){if(!j)throw new Ee.SubTransaction("Table "+M+" not included in parent transaction.");E=null}}),j&&E&&!E.active&&(E=null)}}catch(M){return E?E._promise(null,function(R,A){A(M)}):jt(M)}var D=(function M(R,A,F,L,O){return me.resolve().then(function(){var z=ke.transless||ke,P=R._createTransaction(A,F,R._dbSchema,L),z=(P.explicit=!0,{trans:P,transless:z});if(L)P.idbtrans=L.idbtrans;else try{P.create(),P.idbtrans._explicit=!0,R._state.PR1398_maxLoop=3}catch(Z){return Z.name===nt.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return M(R,A,F,null,O)})):jt(Z)}var K,G=N(O),z=(G&&Xr(),me.follow(function(){var Z;(K=O.call(P,P))&&(G?(Z=Qt.bind(null,null),K.then(Z,Z)):typeof K.next=="function"&&typeof K.throw=="function"&&(K=As(K)))},z));return(K&&typeof K.then=="function"?me.resolve(K).then(function(Z){return P.active?Z:jt(new Ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):z.then(function(){return K})).then(function(Z){return L&&P._resolve(),P._completion.then(function(){return Z})}).catch(function(Z){return P._reject(Z),jt(Z)})})}).bind(null,this,m,v,E,p);return E?E._promise(m,D,"lock"):ke.trans?Zn(ke.transless,function(){return x._whenReady(D)}):this._whenReady(D)},_t.prototype.table=function(a){if(k(this._allTables,a))return this._allTables[a];throw new Ee.InvalidTable("Table ".concat(a," does not exist"))};var Fn=_t;function _t(a,u){var p,m,v,x,E,j=this,D=(this._middlewares={},this.verno=0,_t.dependencies),D=(this._options=u=c({addons:_t.addons,autoOpen:!0,indexedDB:D.indexedDB,IDBKeyRange:D.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},u.addons),M=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:at,dbReadyPromise:null,cancelOpen:at,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen}),R=(M.dbReadyPromise=new me(function(A){M.dbReadyResolve=A}),M.openCanceller=new me(function(A,F){M.cancelOpen=F}),this._state=M,this.name=a,this.on=Vi(this,"populate","blocked","versionchange","close",{ready:[fr,at]}),this.once=function(A,F){var L=function(){for(var O=[],P=0;P<arguments.length;P++)O[P]=arguments[P];j.on(A).unsubscribe(L),F.apply(j,O)};return j.on(A,L)},this.on.ready.subscribe=ee(this.on.ready.subscribe,function(A){return function(F,L){_t.vip(function(){var O,P=j._state;P.openComplete?(P.dbOpenError||me.resolve().then(F),L&&A(F)):P.onReadyBeingFired?(P.onReadyBeingFired.push(F),L&&A(F)):(A(F),O=j,L||A(function K(){O.on.ready.unsubscribe(F),O.on.ready.unsubscribe(K)}))})}}),this.Collection=(p=this,br(Aa.prototype,function(K,P){this.db=p;var L=zi,O=null;if(P)try{L=P()}catch(z){O=z}var P=K._ctx,K=P.table,G=K.hook.reading.fire;this._ctx={table:K,index:P.index,isPrimKey:!P.index||K.schema.primKey.keyPath&&P.index===K.schema.primKey.name,range:L,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:P.or,valueMapper:G!==Kn?G:null}})),this.Table=(m=this,br($i.prototype,function(A,F,L){this.db=m,this._tx=L,this.name=A,this.schema=F,this.hook=m._allTables[A]?m._allTables[A].hook:Vi(null,{creating:[wa,at],reading:[fs,Kn],updating:[Sa,at],deleting:[ps,at]})})),this.Transaction=(v=this,br(Ra.prototype,function(A,F,L,O,P){var K=this;A!=="readonly"&&F.forEach(function(G){G=(G=L[G])==null?void 0:G.yProps,G&&(F=F.concat(G.map(function(z){return z.updatesTable})))}),this.db=v,this.mode=A,this.storeNames=F,this.schema=L,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=Vi(this,"complete","error","abort"),this.parent=P||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new me(function(G,z){K._resolve=G,K._reject=z}),this._completion.then(function(){K.active=!1,K.on.complete.fire()},function(G){var z=K.active;return K.active=!1,K.on.error.fire(G),K.parent?K.parent._reject(G):z&&K.idbtrans&&K.idbtrans.abort(),jt(G)})})),this.Version=(x=this,br(lc.prototype,function(A){this.db=x,this._cfg={version:A,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(E=this,br(ti.prototype,function(A,F,L){if(this.db=E,this._ctx={table:A,index:F===":id"?null:F,or:L},this._cmp=this._ascending=Be,this._descending=function(O,P){return Be(P,O)},this._max=function(O,P){return 0<Be(O,P)?O:P},this._min=function(O,P){return Be(O,P)<0?O:P},this._IDBKeyRange=E._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ee.MissingAPI})),this.on("versionchange",function(A){0<A.newVersion?console.warn("Another connection wants to upgrade database '".concat(j.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(j.name,"'. Closing db now to resume the delete request.")),j.close({disableAutoOpen:!1})}),this.on("blocked",function(A){!A.newVersion||A.newVersion<A.oldVersion?console.warn("Dexie.delete('".concat(j.name,"') was blocked")):console.warn("Upgrade '".concat(j.name,"' blocked by other connection holding version ").concat(A.oldVersion/10))}),this._maxKey=Pn(u.IDBKeyRange),this._createTransaction=function(A,F,L,O){return new j.Transaction(A,F,L,j._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(A){j.on("blocked").fire(A),er.filter(function(F){return F.name===j.name&&F!==j&&!F._state.vcFired}).map(function(F){return F.on("versionchange").fire(A)})},this.use(dc),this.use($a),this.use(Rs),this.use(La),this.use(uc),new Proxy(this,{get:function(A,F,L){var O;return F==="_vip"||(F==="table"?function(P){return Dn(j.table(P),R)}:(O=Reflect.get(A,F,L))instanceof $i?Dn(O,R):F==="tables"?O.map(function(P){return Dn(P,R)}):F==="_createTransaction"?function(){return Dn(O.apply(this,arguments),R)}:O)}}));this.vip=R,D.forEach(function(A){return A(j)})}var Uo,Ir=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Va=(Ar.prototype.subscribe=function(a,u,p){return this._subscribe(a&&typeof a!="function"?a:{next:a,error:u,complete:p})},Ar.prototype[Ir]=function(){return this},Ar);function Ar(a){this._subscribe=a}try{Uo={indexedDB:g.indexedDB||g.mozIndexedDB||g.webkitIndexedDB||g.msIndexedDB,IDBKeyRange:g.IDBKeyRange||g.webkitIDBKeyRange}}catch{Uo={indexedDB:null,IDBKeyRange:null}}function ui(a){var u,p=!1,m=new Va(function(v){var x=N(a),E,j=!1,D={},M={},R={get closed(){return j},unsubscribe:function(){j||(j=!0,E&&E.abort(),A&&rr.storagemutated.unsubscribe(L))}},A=(v.start&&v.start(R),!1),F=function(){return Co(O)},L=function(P){Fo(D,P),_s(M,D)&&F()},O=function(){var P,K,G;!j&&Uo.indexedDB&&(D={},P={},E&&E.abort(),E=new AbortController,G=(z=>{var Z=Qn();try{x&&Xr();var ie=Jn(a,z);return ie=x?ie.finally(Qt):ie}finally{Z&&yr()}})(K={subscr:P,signal:E.signal,requery:F,querier:a,trans:null}),Promise.resolve(G).then(function(z){p=!0,u=z,j||K.signal.aborted||(D={},(Z=>{for(var ie in Z)if(k(Z,ie))return;return 1})(M=P)||A||(rr(ni,L),A=!0),Co(function(){return!j&&v.next&&v.next(z)}))},function(z){p=!1,["DatabaseClosedError","AbortError"].includes(z?.name)||j||Co(function(){j||v.error&&v.error(z)})}))};return setTimeout(F,0),R});return m.hasValue=function(){return p},m.getValue=function(){return u},m}var Tr=Fn;function di(a){var u=Ln;try{Ln=!0,rr.storagemutated.fire(a),Is(a,!0)}finally{Ln=u}}H(Tr,c(c({},X),{delete:function(a){return new Tr(a,{addons:[]}).delete()},exists:function(a){return new Tr(a,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return u=Tr.dependencies,p=u.indexedDB,u=u.IDBKeyRange,(kr(p)?Promise.resolve(p.databases()).then(function(m){return m.map(function(v){return v.name}).filter(function(v){return v!==Ui})}):Qi(p,u).toCollection().primaryKeys()).then(a)}catch{return jt(new Ee.MissingAPI)}var u,p},defineClass:function(){return function(a){b(this,a)}},ignoreTransaction:function(a){return ke.trans?Zn(ke.transless,a):a()},vip:li,async:function(a){return function(){try{var u=As(a.apply(this,arguments));return u&&typeof u.then=="function"?u:me.resolve(u)}catch(p){return jt(p)}}},spawn:function(a,u,p){try{var m=As(a.apply(p,u||[]));return m&&typeof m.then=="function"?m:me.resolve(m)}catch(v){return jt(v)}},currentTransaction:{get:function(){return ke.trans||null}},waitFor:function(a,u){return a=me.resolve(typeof a=="function"?Tr.ignoreTransaction(a):a).timeout(u||6e4),ke.trans?ke.trans.waitFor(a):a},Promise:me,debug:{get:function(){return Vt},set:function(a){bo(a)}},derive:Y,extend:b,props:H,override:ee,Events:Vi,on:rr,liveQuery:ui,extendObservabilitySet:Fo,getByKeyPath:De,setByKeyPath:re,delByKeyPath:function(a,u){typeof u=="string"?re(a,u,void 0):"length"in u&&[].map.call(u,function(p){re(a,p,void 0)})},shallowClone:Fe,deepClone:ze,getObjectDiff:Ts,cmp:Be,asap:ge,minKey:-1/0,addons:[],connections:er,errnames:nt,dependencies:Uo,cache:sr,semVer:"4.3.0",version:"4.3.0".split(".").map(function(a){return parseInt(a)}).reduce(function(a,u,p){return a+u/Math.pow(10,2*p)})})),Tr.maxKey=Pn(Tr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(rr(ni,function(a){Ln||(a=new CustomEvent(_r,{detail:a}),Ln=!0,dispatchEvent(a),Ln=!1)}),addEventListener(_r,function(a){a=a.detail,Ln||di(a)}));var fi,Ln=!1,zo=function(){};return typeof BroadcastChannel<"u"&&((zo=function(){(fi=new BroadcastChannel(_r)).onmessage=function(a){return a.data&&di(a.data)}})(),typeof fi.unref=="function"&&fi.unref(),rr(ni,function(a){Ln||fi.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!Fn.disableBfCache&&a.persisted){Vt&&console.debug("Dexie: handling persisted pagehide"),fi?.close();for(var u=0,p=er;u<p.length;u++)p[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(a){!Fn.disableBfCache&&a.persisted&&(Vt&&console.debug("Dexie: handling persisted pageshow"),zo(),di({all:new Ut(-1/0,[[]])}))})),me.rejectionMapper=function(a,u){return!a||a instanceof Oe||a instanceof TypeError||a instanceof SyntaxError||!a.name||!Fi[a.name]?a:(u=new Fi[a.name](u||a.message,a),"stack"in a&&q(u,"stack",{get:function(){return this.inner.stack}}),u)},bo(Vt),c(Fn,Object.freeze({__proto__:null,Dexie:Fn,Entity:Ca,PropModification:nr,RangeSet:Ut,add:function(a){return new nr({add:a})},cmp:Be,default:Fn,liveQuery:ui,mergeRanges:Xi,rangesOverlap:Oo,remove:function(a){return new nr({remove:a})},replacePrefix:function(a,u){return new nr({replacePrefix:[a,u]})}}),{default:Fn}),Fn})})($l)),$l.exports}var Eb=bb();const ld=cd(Eb),_h=Symbol.for("Dexie"),Yl=globalThis[_h]||(globalThis[_h]=ld);if(ld.semVer!==Yl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ld.semVer} and ${Yl.semVer}`);const{liveQuery:tE,mergeRanges:nE,rangesOverlap:rE,RangeSet:iE,cmp:oE,Entity:sE,PropModification:aE,replacePrefix:lE,add:cE,remove:uE,DexieYProvider:dE}=Yl;class jb extends Yl{constructor(){super("CareDroidDB"),this.version(1).stores({messages:"++id, userId, conversationId, timestamp, synced",conversations:"++id, userId, lastMessageAt, synced",toolResults:"++id, userId, toolType, timestamp, synced",userProfile:"userId, lastSyncedAt",syncQueue:"++id, action, timestamp, retryCount, synced",knowledgeCache:"++id, query, timestamp, expiresAt",auditLogs:"++id, userId, action, timestamp, synced",notifications:"++id, userId, timestamp, read, synced",settings:"key, value, lastUpdated"})}}const Xe=new jb,_b=async()=>{try{return await Xe.open(),console.log("IndexedDB initialized successfully"),!0}catch(n){return console.error("Failed to initialize IndexedDB:",n),!1}},Xm=async()=>{try{await Xe.messages.clear(),await Xe.conversations.clear(),await Xe.toolResults.clear(),await Xe.userProfile.clear(),await Xe.syncQueue.clear(),await Xe.knowledgeCache.clear(),await Xe.auditLogs.clear(),await Xe.notifications.clear(),await Xe.settings.clear(),console.log("Database cleared successfully")}catch(n){throw console.error("Failed to clear database:",n),n}},Cb=async()=>{try{const n={messages:await Xe.messages.toArray(),conversations:await Xe.conversations.toArray(),toolResults:await Xe.toolResults.toArray(),userProfile:await Xe.userProfile.toArray(),notifications:await Xe.notifications.toArray(),settings:await Xe.settings.toArray()};return JSON.stringify(n,null,2)}catch(n){throw console.error("Failed to export database:",n),n}},kb=async n=>{try{const r=JSON.parse(n);await Xm(),r.messages&&await Xe.messages.bulkAdd(r.messages),r.conversations&&await Xe.conversations.bulkAdd(r.conversations),r.toolResults&&await Xe.toolResults.bulkAdd(r.toolResults),r.userProfile&&await Xe.userProfile.bulkAdd(r.userProfile),r.notifications&&await Xe.notifications.bulkAdd(r.notifications),r.settings&&await Xe.settings.bulkAdd(r.settings),console.log("Database imported successfully")}catch(r){throw console.error("Failed to import database:",r),r}},Ib=async()=>{if(navigator.storage&&navigator.storage.estimate){const n=await navigator.storage.estimate();return{usage:n.usage,quota:n.quota,usageInMB:(n.usage/(1024*1024)).toFixed(2),quotaInMB:(n.quota/(1024*1024)).toFixed(2),percentUsed:(n.usage/n.quota*100).toFixed(2)}}return null},Ab=Object.freeze(Object.defineProperty({__proto__:null,clearDatabase:Xm,db:Xe,default:Xe,exportDatabase:Cb,getDatabaseSize:Ib,importDatabase:kb,initializeDatabase:_b},Symbol.toStringTag,{value:"Module"})),Tb="modulepreload",Nb=function(n){return"/"+n},Ch={},Rb=function(r,o,c){let d=Promise.resolve();if(o&&o.length>0){let _=function(C){return Promise.all(C.map(k=>Promise.resolve(k).then(H=>({status:"fulfilled",value:H}),H=>({status:"rejected",reason:H}))))};var y=_;document.getElementsByTagName("link");const S=document.querySelector("meta[property=csp-nonce]"),b=S?.nonce||S?.getAttribute("nonce");d=_(o.map(C=>{if(C=Nb(C),C in Ch)return;Ch[C]=!0;const k=C.endsWith(".css"),H=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${H}`))return;const ne=document.createElement("link");if(ne.rel=k?"stylesheet":Tb,k||(ne.as="script"),ne.crossOrigin="",ne.href=C,b&&ne.setAttribute("nonce",b),document.head.appendChild(ne),k)return new Promise((q,Y)=>{ne.addEventListener("load",q),ne.addEventListener("error",()=>Y(new Error(`Unable to preload CSS for ${C}`)))})}))}function g(S){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=S,window.dispatchEvent(b),!b.defaultPrevented)throw S}return d.then(S=>{for(const b of S||[])b.status==="rejected"&&g(b.reason);return r().catch(g)})};class Pb{constructor(){this.isInitialized=!1,this.db=null}async getDb(){if(!this.db)try{const r=await Rb(()=>Promise.resolve().then(()=>Ab),void 0);this.db=r.db}catch(r){throw console.error("Failed to load offline database:",r),r}return this.db}async initialize(){try{return await db.open(),this.isInitialized=!0,console.log("OfflineService initialized"),!0}catch(r){return console.error("Failed to initialize OfflineService:",r),!1}}isOnline(){return navigator.onLine}async saveMessage(r){try{const o=await db.messages.add({...r,timestamp:r.timestamp||new Date().toISOString(),synced:!1});return console.log(`Message saved offline with ID: ${o}`),o}catch(o){throw console.error("Failed to save message offline:",o),o}}async getMessages(r,o=50){try{return(await db.messages.where("conversationId").equals(r).reverse().limit(o).toArray()).reverse()}catch(c){return console.error("Failed to get messages:",c),[]}}async saveConversation(r){try{const o=await db.conversations.add({...r,lastMessageAt:r.lastMessageAt||new Date().toISOString(),synced:!1});return console.log(`Conversation saved offline with ID: ${o}`),o}catch(o){throw console.error("Failed to save conversation offline:",o),o}}async getConversations(r){try{return await db.conversations.where("userId").equals(r).reverse().sortBy("lastMessageAt")}catch(o){return console.error("Failed to get conversations:",o),[]}}async saveToolResult(r){try{const o=await db.toolResults.add({...r,timestamp:r.timestamp||new Date().toISOString(),synced:!1});return console.log(`Tool result saved offline with ID: ${o}`),o}catch(o){throw console.error("Failed to save tool result offline:",o),o}}async getToolResults(r,o=null){try{let c=db.toolResults.where("userId").equals(r);return o?(await c.toArray()).filter(g=>g.toolType===o):await c.reverse().toArray()}catch(c){return console.error("Failed to get tool results:",c),[]}}async saveUserProfile(r,o){try{await db.userProfile.put({userId:r,...o,lastSyncedAt:new Date().toISOString()}),console.log("User profile saved offline")}catch(c){throw console.error("Failed to save user profile:",c),c}}async getUserProfile(r){try{return await db.userProfile.get(r)}catch(o){return console.error("Failed to get user profile:",o),null}}async cacheKnowledge(r,o,c=60){try{const d=new Date;d.setMinutes(d.getMinutes()+c),await db.knowledgeCache.add({query:r.toLowerCase(),response:o,timestamp:new Date().toISOString(),expiresAt:d.toISOString()}),console.log("Knowledge cached offline")}catch(d){console.error("Failed to cache knowledge:",d)}}async getCachedKnowledge(r){try{const o=await db.knowledgeCache.where("query").equals(r.toLowerCase()).toArray();if(o.length===0)return null;const c=new Date,d=o.filter(g=>new Date(g.expiresAt)>c);return d.length===0?null:(d.sort((g,y)=>new Date(y.timestamp)-new Date(g.timestamp)),d[0].response)}catch(o){return console.error("Failed to get cached knowledge:",o),null}}async cleanupExpiredCache(){try{const r=new Date().toISOString(),o=await db.knowledgeCache.where("expiresAt").below(r).toArray();if(o.length>0){const c=o.map(d=>d.id);await db.knowledgeCache.bulkDelete(c),console.log(`Cleaned up ${o.length} expired cache entries`)}}catch(r){console.error("Failed to cleanup cache:",r)}}async saveNotification(r){try{const o=await db.notifications.add({...r,timestamp:r.timestamp||new Date().toISOString(),read:r.read||!1,synced:!1});return console.log(`Notification saved offline with ID: ${o}`),o}catch(o){throw console.error("Failed to save notification offline:",o),o}}async getNotifications(r,o=50){try{return await db.notifications.where("userId").equals(r).reverse().limit(o).toArray()}catch(c){return console.error("Failed to get notifications:",c),[]}}async saveSetting(r,o){try{await db.settings.put({key:r,value:o,lastUpdated:new Date().toISOString()}),console.log(`Setting ${r} saved offline`)}catch(c){throw console.error("Failed to save setting:",c),c}}async getSetting(r,o=null){try{const c=await db.settings.get(r);return c?c.value:o}catch(c){return console.error("Failed to get setting:",c),o}}async getUnsyncedItems(){try{const r=await db.messages.where("synced").equals(!1).toArray(),o=await db.conversations.where("synced").equals(!1).toArray(),c=await db.toolResults.where("synced").equals(!1).toArray(),d=await db.auditLogs.where("synced").equals(!1).toArray(),g=await db.notifications.where("synced").equals(!1).toArray();return{messages:r,conversations:o,toolResults:c,auditLogs:d,notifications:g,total:r.length+o.length+c.length+d.length+g.length}}catch(r){return console.error("Failed to get unsynced items:",r),{messages:[],conversations:[],toolResults:[],auditLogs:[],notifications:[],total:0}}}async markAsSynced(r,o){try{await db[r].update(o,{synced:!0}),console.log(`Marked ${r}/${o} as synced`)}catch(c){console.error(`Failed to mark ${r}/${o} as synced:`,c)}}async getStorageStats(){try{const r=await db.messages.count(),o=await db.conversations.count(),c=await db.toolResults.count(),d=await db.knowledgeCache.count(),g=await db.notifications.count(),y=await db.auditLogs.count();return{messages:r,conversations:o,toolResults:c,cachedQueries:d,notifications:g,auditLogs:y,total:r+o+c+d+g+y}}catch(r){return console.error("Failed to get storage stats:",r),null}}}const ki=new Pb;class Ob{constructor(){this.isSyncing=!1,this.syncInterval=null,this.AUTO_SYNC_INTERVAL=3e4}initialize(){window.addEventListener("online",()=>this.handleOnline()),window.addEventListener("offline",()=>this.handleOffline()),navigator.onLine&&this.startAutoSync(),console.log("SyncService initialized")}handleOnline(){console.log("Connection restored - starting sync"),this.syncAll(),this.startAutoSync()}handleOffline(){console.log("Connection lost - stopping auto-sync"),this.stopAutoSync()}startAutoSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{navigator.onLine&&!this.isSyncing&&this.syncAll()},this.AUTO_SYNC_INTERVAL),console.log("Auto-sync started"))}stopAutoSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null,console.log("Auto-sync stopped"))}async syncAll(){if(this.isSyncing){console.log("Sync already in progress");return}if(!navigator.onLine){console.log("Cannot sync - offline");return}this.isSyncing=!0;try{const r=localStorage.getItem("caredroid_access_token");if(!r){console.log("No auth token - skipping sync"),this.isSyncing=!1;return}console.log("Starting full sync...");const o=await ki.getUnsyncedItems();if(console.log(`Found ${o.total} unsynced items`),o.total===0){this.isSyncing=!1;return}await this.syncMessages(o.messages,r),await this.syncConversations(o.conversations,r),await this.syncToolResults(o.toolResults,r),await this.syncNotifications(o.notifications,r),await this.syncAuditLogs(o.auditLogs,r),console.log("Full sync completed successfully"),await this.downloadLatestData(r)}catch(r){console.error("Sync failed:",r)}finally{this.isSyncing=!1}}async syncMessages(r,o){if(r.length!==0){console.log(`Syncing ${r.length} messages...`);for(const c of r)try{const d=await Ye("/api/chat/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({conversationId:c.conversationId,content:c.content,role:c.role,timestamp:c.timestamp})});if(!d.ok)throw new Error(`Failed to sync message: ${d.status}`);const g=await d.json();await ki.markAsSynced("messages",c.id),g.id&&await Xe.messages.update(c.id,{serverId:g.id})}catch(d){console.error(`Failed to sync message ${c.id}:`,d)}console.log("Messages synced")}}async syncConversations(r,o){if(r.length!==0){console.log(`Syncing ${r.length} conversations...`);for(const c of r)try{const d=await Ye("/api/chat/conversations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({userId:c.userId,title:c.title,lastMessageAt:c.lastMessageAt})});if(!d.ok)throw new Error(`Failed to sync conversation: ${d.status}`);const g=await d.json();await ki.markAsSynced("conversations",c.id),g.id&&await Xe.conversations.update(c.id,{serverId:g.id})}catch(d){console.error(`Failed to sync conversation ${c.id}:`,d)}console.log("Conversations synced")}}async syncToolResults(r,o){if(r.length!==0){console.log(`Syncing ${r.length} tool results...`);for(const c of r)try{const d=await Ye("/api/tools/results",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({toolType:c.toolType,input:c.input,output:c.output,timestamp:c.timestamp})});if(!d.ok)throw new Error(`Failed to sync tool result: ${d.status}`);await ki.markAsSynced("toolResults",c.id)}catch(d){console.error(`Failed to sync tool result ${c.id}:`,d)}console.log("Tool results synced")}}async syncNotifications(r,o){if(r.length!==0){console.log(`Syncing ${r.length} notifications...`);for(const c of r)try{if(c.read&&c.serverId){const d=await Ye(`/api/notifications/${c.serverId}/read`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}});if(!d.ok)throw new Error(`Failed to mark notification as read: ${d.status}`)}await ki.markAsSynced("notifications",c.id)}catch(d){console.error(`Failed to sync notification ${c.id}:`,d)}console.log("Notifications synced")}}async syncAuditLogs(r,o){if(r.length!==0){console.log(`Syncing ${r.length} audit logs...`);for(const c of r)try{const d=await Ye("/api/audit/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({action:c.action,resourceType:c.resourceType,resourceId:c.resourceId,timestamp:c.timestamp})});if(!d.ok)throw new Error(`Failed to sync audit log: ${d.status}`);await ki.markAsSynced("auditLogs",c.id)}catch(d){console.error(`Failed to sync audit log ${c.id}:`,d)}console.log("Audit logs synced")}}async downloadLatestData(r){try{console.log("Downloading latest data from server...");const o=await Ye("/api/user/profile",{headers:{Authorization:`Bearer ${r}`}});if(o.ok){const d=await o.json();d&&await ki.saveUserProfile(d.id,d)}const c=await Ye("/api/notifications?limit=50",{headers:{Authorization:`Bearer ${r}`}});if(c.ok){const d=await c.json();if(d.notifications)for(const g of d.notifications)await Xe.notifications.get(g.id)||await Xe.notifications.add({...g,synced:!0})}console.log("Latest data downloaded")}catch(o){console.error("Failed to download latest data:",o)}}async forceSyncNow(){return await this.syncAll()}getSyncStatus(){return{isSyncing:this.isSyncing,isOnline:navigator.onLine,autoSyncEnabled:this.syncInterval!==null}}async resetAndResync(){try{console.log("Resetting offline data..."),await Xe.messages.clear(),await Xe.conversations.clear(),await Xe.toolResults.clear(),await Xe.auditLogs.clear(),await Xe.notifications.clear(),await Xe.knowledgeCache.clear();const r=localStorage.getItem("caredroid_access_token");r&&await this.downloadLatestData(r),console.log("Reset and resync completed")}catch(r){throw console.error("Failed to reset and resync:",r),r}}}const Db=new Ob;if(st.crashReporting.enabled&&st.crashReporting.dsn)try{wd.initialize({dsn:st.crashReporting.dsn,environment:st.crashReporting.environment,tracesSampleRate:st.crashReporting.tracesSampleRate,profilesSampleRate:st.crashReporting.profilesSampleRate,debug:st.crashReporting.debug}),console.log(" Sentry crash reporting initialized")}catch(n){console.error("Failed to initialize Sentry:",n)}if(st.analytics.enabled)try{st.analytics.segmentWriteKey&&la.initializeSegment(st.analytics.segmentWriteKey),la.trackEvent({event:"app_initialized",properties:{app_version:st.app.version,app_environment:st.app.environment}}),console.log(" Analytics service initialized")}catch(n){console.error("Failed to initialize Analytics:",n)}st.features.enablePushNotifications&&ad.requestPermission().then(n=>{n?(console.log(" Notification permissions granted"),ad.registerPushToken().catch(()=>{})):console.log(" Notification permissions not granted")}).catch(n=>console.error("Failed to request notification permission:",n));if(st.features.enableOfflineMode)try{ki.initialize().then(n=>{n?(console.log(" Offline storage initialized"),Db.initialize(),console.log(" Sync service initialized")):console.error("Failed to initialize offline storage")}).catch(n=>console.error("Failed to initialize offline mode:",n))}catch(n){console.error("Failed to initialize offline services:",n)}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(n=>{console.log(" Service Worker registered:",n),st.features.enableOfflineMode&&"periodicSync"in n&&n.periodicSync.register("sync-data",{minInterval:1440*60*1e3}).then(()=>console.log(" Periodic background sync registered")).catch(r=>console.log(" Periodic background sync not available:",r))}).catch(n=>console.log("Service Worker registration failed:",n))});window.addEventListener("error",n=>{if(st.crashReporting.enabled)try{wd.captureException(n.error,{tags:{source:"uncaught_error"}})}catch(r){console.error("Failed to report error to Sentry:",r)}});window.addEventListener("unhandledrejection",n=>{if(st.crashReporting.enabled)try{wd.captureException(n.reason,{tags:{source:"unhandled_promise_rejection"}})}catch(r){console.error("Failed to report rejection to Sentry:",r)}});ty.createRoot(document.getElementById("root")).render(s.jsx(kh.StrictMode,{children:s.jsx(ev,{children:s.jsx(wb,{})})}));
//# sourceMappingURL=index-C5W2SYTa.js.map
